<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1276px" preserveAspectRatio="none" style="width:1652px;height:1276px;" version="1.1" viewBox="0 0 1652 1276" width="1652px" zoomAndPan="magnify"><defs/><g><!--MD5=[ce7bfceea28453858a30d77f1599b96e]
cluster org.eclipse.keyple--><polygon fill="#FFFFFF" points="22,24,157,24,164,47.6094,1630,47.6094,1630,1264,22,1264,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="164" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="26" y="40.5332">org.eclipse.keyple</text><!--MD5=[db7490fbe1ca0fe5a779cb7583f37c7c]
cluster transaction_sam--><polygon fill="#FFFFFF" points="1256,68,1398,68,1405,91.6094,1606,91.6094,1606,1219,1256,1219,1256,68" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1256" x2="1405" y1="91.6094" y2="91.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="136" x="1260" y="84.5332">calypso.transaction</text><!--MD5=[98c1eaeaf5e5f81eb7891c64f0a25eb4]
cluster core.card.selection--><polygon fill="#FFFFFF" points="461,102.5,603,102.5,610,126.1094,1232,126.1094,1232,1240,461,1240,461,102.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="461" x2="610" y1="126.1094" y2="126.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="136" x="465" y="119.0332">core.card.selection</text><!--MD5=[6968f2773f6cbe709a16954dd7d257e3]
cluster transaction_po--><polygon fill="#FFFFFF" points="46,88.5,188,88.5,195,112.1094,437,112.1094,437,1219,46,1219,46,88.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="195" y1="112.1094" y2="112.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="136" x="50" y="105.0332">calypso.transaction</text><!--MD5=[00290c4d80e80fb984bed4b7b2a8d64a]
class SamSelector--><rect fill="#FEFECE" height="103.3438" id="SamSelector" style="stroke: #D4AC0D; stroke-width: 1.5;" width="224" x="1317" y="437"/><ellipse cx="1370.25" cy="453" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M1372.25,449.5 Q1372.4531,449 1372.6875,448.75 Q1372.9219,448.5 1373.1875,448.5 Q1373.6563,448.5 1373.9531,448.7813 Q1374.25,449.0625 1374.25,449.7188 L1374.25,451.2813 Q1374.25,451.9375 1373.9688,452.2188 Q1373.6875,452.5 1373.25,452.5 Q1372.8594,452.5 1372.6094,452.3281 Q1372.3594,452.1563 1372.25,451.7031 Q1372.2031,451.3906 1372.0313,451.2188 Q1371.7188,450.8906 1371.1563,450.7031 Q1370.5938,450.5 1370.0313,450.5 Q1369.3281,450.5 1368.7344,450.7813 Q1368.1563,451.0625 1367.7031,451.6875 Q1367.25,452.3125 1367.25,453.1719 L1367.25,454.0938 Q1367.25,455.125 1368.0938,455.8125 Q1368.9375,456.5 1370.4375,456.5 Q1371.3281,456.5 1371.9531,456.2969 Q1372.3125,456.1875 1372.7188,455.8281 Q1372.9844,455.625 1373.125,455.5625 Q1373.2656,455.5 1373.4375,455.5 Q1373.7656,455.5 1374,455.7656 Q1374.25,456.0156 1374.25,456.375 Q1374.25,456.7188 1373.9063,457.125 Q1373.4063,457.7188 1372.6094,458.0469 Q1371.5625,458.5 1370.2813,458.5 Q1368.7813,458.5 1367.5781,457.9063 Q1366.6094,457.4375 1365.9219,456.4219 Q1365.25,455.4063 1365.25,454.2031 L1365.25,453.1094 Q1365.25,451.8594 1365.8438,450.7656 Q1366.4531,449.6719 1367.5,449.0938 Q1368.5625,448.5 1369.75,448.5 Q1370.4688,448.5 1371.0938,448.75 Q1371.7188,449 1372.25,449.5 Z "/><ellipse cx="1395.75" cy="452.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="1401.75" y="457.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="1428.75" y="457.9102">SamSelector</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1318" x2="1540" y1="469" y2="469"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1325" y="477"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="1337" y="484.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="1363" y="484.4189">SamRevision targetSamRevision</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1325" y="490.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="1337" y="498.2549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="1363" y="498.2549">byte[] unlockData</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1318" x2="1540" y1="504.6719" y2="504.6719"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1325" y="512.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="1337" y="520.0908">SamSelector(SamSelectorBuilder builder)</text><ellipse cx="1328" cy="529.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="137" x="1337" y="533.9268">SamSelectorBuilder builder()</text><!--MD5=[ecba025543926446a28640b23631fe8f]
class SamSelectorBuilder--><rect fill="#FEFECE" height="200.1953" id="SamSelectorBuilder" style="stroke: #D4AC0D; stroke-width: 1.5;" width="318" x="1272" y="124"/><ellipse cx="1366.25" cy="140" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M1368.25,136.5 Q1368.4531,136 1368.6875,135.75 Q1368.9219,135.5 1369.1875,135.5 Q1369.6563,135.5 1369.9531,135.7813 Q1370.25,136.0625 1370.25,136.7188 L1370.25,138.2813 Q1370.25,138.9375 1369.9688,139.2188 Q1369.6875,139.5 1369.25,139.5 Q1368.8594,139.5 1368.6094,139.3281 Q1368.3594,139.1563 1368.25,138.7031 Q1368.2031,138.3906 1368.0313,138.2188 Q1367.7188,137.8906 1367.1563,137.7031 Q1366.5938,137.5 1366.0313,137.5 Q1365.3281,137.5 1364.7344,137.7813 Q1364.1563,138.0625 1363.7031,138.6875 Q1363.25,139.3125 1363.25,140.1719 L1363.25,141.0938 Q1363.25,142.125 1364.0938,142.8125 Q1364.9375,143.5 1366.4375,143.5 Q1367.3281,143.5 1367.9531,143.2969 Q1368.3125,143.1875 1368.7188,142.8281 Q1368.9844,142.625 1369.125,142.5625 Q1369.2656,142.5 1369.4375,142.5 Q1369.7656,142.5 1370,142.7656 Q1370.25,143.0156 1370.25,143.375 Q1370.25,143.7188 1369.9063,144.125 Q1369.4063,144.7188 1368.6094,145.0469 Q1367.5625,145.5 1366.2813,145.5 Q1364.7813,145.5 1363.5781,144.9063 Q1362.6094,144.4375 1361.9219,143.4219 Q1361.25,142.4063 1361.25,141.2031 L1361.25,140.1094 Q1361.25,138.8594 1361.8438,137.7656 Q1362.4531,136.6719 1363.5,136.0938 Q1364.5625,135.5 1365.75,135.5 Q1366.4688,135.5 1367.0938,135.75 Q1367.7188,136 1368.25,136.5 Z "/><ellipse cx="1391.75" cy="139.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="110" x="1397.75" y="144.9102">SamSelectorBuilder</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1273" x2="1589" y1="156" y2="156"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1273" x2="1589" y1="164" y2="164"/><ellipse cx="1283" cy="175" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="1292" y="179.4189">SamSelectorBuilder()</text><ellipse cx="1283" cy="188.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="258" x="1292" y="193.2549">SamSelectorBuilder cardProtocol(String cardProtocol)</text><ellipse cx="1283" cy="202.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="1292" y="207.0908">SamSelectorBuilder atrFilter(AtrFilter atrFilter)</text><ellipse cx="1283" cy="216.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="272" x="1292" y="220.9268">SamSelectorBuilder aidSelector(AidSelector aidSelector)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1295" y="234.7627"/><ellipse cx="1283" cy="244.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="292" x="1292" y="248.5986">SamSelectorBuilder samRevision(SamRevision samRevision)</text><ellipse cx="1283" cy="258.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="262" x="1292" y="262.4346">SamSelectorBuilder serialNumber(String serialNumber)</text><ellipse cx="1283" cy="271.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="292" x="1292" y="276.2705">SamSelectorBuilder samIdentifier(SamIdentifier samIdentifier)</text><ellipse cx="1283" cy="285.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="206" x="1292" y="290.1064">SamSelectorBuilder samUnlock(byte[] lock)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1295" y="303.9424"/><ellipse cx="1283" cy="313.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="1292" y="317.7783">SamSelector build()</text><!--MD5=[b79b1a8df94ee9333af00b5cb52263fe]
class SamSelectionRequest--><rect fill="#FEFECE" height="89.5078" id="SamSelectionRequest" style="stroke: #D4AC0D; stroke-width: 1.5;" width="313" x="1272.5" y="677.5"/><ellipse cx="1357.25" cy="693.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M1359.25,690 Q1359.4531,689.5 1359.6875,689.25 Q1359.9219,689 1360.1875,689 Q1360.6563,689 1360.9531,689.2813 Q1361.25,689.5625 1361.25,690.2188 L1361.25,691.7813 Q1361.25,692.4375 1360.9688,692.7188 Q1360.6875,693 1360.25,693 Q1359.8594,693 1359.6094,692.8281 Q1359.3594,692.6563 1359.25,692.2031 Q1359.2031,691.8906 1359.0313,691.7188 Q1358.7188,691.3906 1358.1563,691.2031 Q1357.5938,691 1357.0313,691 Q1356.3281,691 1355.7344,691.2813 Q1355.1563,691.5625 1354.7031,692.1875 Q1354.25,692.8125 1354.25,693.6719 L1354.25,694.5938 Q1354.25,695.625 1355.0938,696.3125 Q1355.9375,697 1357.4375,697 Q1358.3281,697 1358.9531,696.7969 Q1359.3125,696.6875 1359.7188,696.3281 Q1359.9844,696.125 1360.125,696.0625 Q1360.2656,696 1360.4375,696 Q1360.7656,696 1361,696.2656 Q1361.25,696.5156 1361.25,696.875 Q1361.25,697.2188 1360.9063,697.625 Q1360.4063,698.2188 1359.6094,698.5469 Q1358.5625,699 1357.2813,699 Q1355.7813,699 1354.5781,698.4063 Q1353.6094,697.9375 1352.9219,696.9219 Q1352.25,695.9063 1352.25,694.7031 L1352.25,693.6094 Q1352.25,692.3594 1352.8438,691.2656 Q1353.4531,690.1719 1354.5,689.5938 Q1355.5625,689 1356.75,689 Q1357.4688,689 1358.0938,689.25 Q1358.7188,689.5 1359.25,690 Z "/><ellipse cx="1382.75" cy="693" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="1388.75" y="698.4102">SamSelectionRequest</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1273.5" x2="1584.5" y1="709.5" y2="709.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1273.5" x2="1584.5" y1="717.5" y2="717.5"/><ellipse cx="1283.5" cy="728.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="237" x="1292.5" y="732.9189">SamSelectionRequest(SamSelector samSelector)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1295.5" y="746.7549"/><polygon fill="#FFFF44" points="1283.5,751.1719,1287.5,755.1719,1283.5,759.1719,1279.5,755.1719" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="287" x="1292.5" y="760.5908">CalypsoSam parse(SelectionResponse selectionResponse)</text><!--MD5=[43918d86839edc1befb88ea50efcfbfb]
class SamResource--><rect fill="#FEFECE" height="48" id="SamResource" style="stroke: #D4AC0D; stroke-width: 1.5;" width="226" x="1279" y="1155"/><ellipse cx="1294" cy="1171" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M1296,1167.5 Q1296.2031,1167 1296.4375,1166.75 Q1296.6719,1166.5 1296.9375,1166.5 Q1297.4063,1166.5 1297.7031,1166.7813 Q1298,1167.0625 1298,1167.7188 L1298,1169.2813 Q1298,1169.9375 1297.7188,1170.2188 Q1297.4375,1170.5 1297,1170.5 Q1296.6094,1170.5 1296.3594,1170.3281 Q1296.1094,1170.1563 1296,1169.7031 Q1295.9531,1169.3906 1295.7813,1169.2188 Q1295.4688,1168.8906 1294.9063,1168.7031 Q1294.3438,1168.5 1293.7813,1168.5 Q1293.0781,1168.5 1292.4844,1168.7813 Q1291.9063,1169.0625 1291.4531,1169.6875 Q1291,1170.3125 1291,1171.1719 L1291,1172.0938 Q1291,1173.125 1291.8438,1173.8125 Q1292.6875,1174.5 1294.1875,1174.5 Q1295.0781,1174.5 1295.7031,1174.2969 Q1296.0625,1174.1875 1296.4688,1173.8281 Q1296.7344,1173.625 1296.875,1173.5625 Q1297.0156,1173.5 1297.1875,1173.5 Q1297.5156,1173.5 1297.75,1173.7656 Q1298,1174.0156 1298,1174.375 Q1298,1174.7188 1297.6563,1175.125 Q1297.1563,1175.7188 1296.3594,1176.0469 Q1295.3125,1176.5 1294.0313,1176.5 Q1292.5313,1176.5 1291.3281,1175.9063 Q1290.3594,1175.4375 1289.6719,1174.4219 Q1289,1173.4063 1289,1172.2031 L1289,1171.1094 Q1289,1169.8594 1289.5938,1168.7656 Q1290.2031,1167.6719 1291.25,1167.0938 Q1292.3125,1166.5 1293.5,1166.5 Q1294.2188,1166.5 1294.8438,1166.75 Q1295.4688,1167 1296,1167.5 Z "/><ellipse cx="1313" cy="1170.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="1319" y="1175.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81" x="1346" y="1175.9102">CardResource</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="73" x="1435" y="1152"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="71" x="1436" y="1165.457">CalypsoSam</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1280" x2="1504" y1="1187" y2="1187"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1280" x2="1504" y1="1195" y2="1195"/><!--MD5=[f25ff1fa8fa59bbc0543eaadeb7d653a]
class CalypsoSam--><rect fill="#FEFECE" height="158.6875" id="CalypsoSam" style="stroke: #D4AC0D; stroke-width: 1.5;" width="282" x="1272" y="900.5"/><ellipse cx="1354.25" cy="916.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M1356.25,913 Q1356.4531,912.5 1356.6875,912.25 Q1356.9219,912 1357.1875,912 Q1357.6563,912 1357.9531,912.2813 Q1358.25,912.5625 1358.25,913.2188 L1358.25,914.7813 Q1358.25,915.4375 1357.9688,915.7188 Q1357.6875,916 1357.25,916 Q1356.8594,916 1356.6094,915.8281 Q1356.3594,915.6563 1356.25,915.2031 Q1356.2031,914.8906 1356.0313,914.7188 Q1355.7188,914.3906 1355.1563,914.2031 Q1354.5938,914 1354.0313,914 Q1353.3281,914 1352.7344,914.2813 Q1352.1563,914.5625 1351.7031,915.1875 Q1351.25,915.8125 1351.25,916.6719 L1351.25,917.5938 Q1351.25,918.625 1352.0938,919.3125 Q1352.9375,920 1354.4375,920 Q1355.3281,920 1355.9531,919.7969 Q1356.3125,919.6875 1356.7188,919.3281 Q1356.9844,919.125 1357.125,919.0625 Q1357.2656,919 1357.4375,919 Q1357.7656,919 1358,919.2656 Q1358.25,919.5156 1358.25,919.875 Q1358.25,920.2188 1357.9063,920.625 Q1357.4063,921.2188 1356.6094,921.5469 Q1355.5625,922 1354.2813,922 Q1352.7813,922 1351.5781,921.4063 Q1350.6094,920.9375 1349.9219,919.9219 Q1349.25,918.9063 1349.25,917.7031 L1349.25,916.6094 Q1349.25,915.3594 1349.8438,914.2656 Q1350.4531,913.1719 1351.5,912.5938 Q1352.5625,912 1353.75,912 Q1354.4688,912 1355.0938,912.25 Q1355.7188,912.5 1356.25,913 Z "/><ellipse cx="1379.75" cy="916" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="1385.75" y="921.4102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="1412.75" y="921.4102">CalypsoSam</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1273" x2="1553" y1="932.5" y2="932.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1273" x2="1553" y1="940.5" y2="940.5"/><polygon fill="#4177AF" points="1283,947.5,1279,953.5,1287,953.5" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="1292" y="955.9189">CalypsoSam(</text><text fill="#FF0000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="1356" y="955.9189">SelectionResponse selectionResponse</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="4" x="1544" y="955.9189">)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1295" y="969.7549"/><ellipse cx="1283" cy="979.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="1292" y="983.5908">SamRevision getSamRevision()</text><ellipse cx="1283" cy="993.0078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="1292" y="997.4268">byte[] getSerialNumber()</text><ellipse cx="1283" cy="1006.8438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="1292" y="1011.2627">byte getPlatform()</text><ellipse cx="1283" cy="1020.6797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="1292" y="1025.0986">byte getApplicationType()</text><ellipse cx="1283" cy="1034.5156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="1292" y="1038.9346">byte getApplicationSubType()</text><ellipse cx="1283" cy="1048.3516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="1292" y="1052.7705">byte getSoftwareIssuer()</text><!--MD5=[d172dfe3fef1c01713438c88abcc6a2c]
class CardSelector--><rect fill="#FEFECE" height="172.5234" id="CardSelector" style="stroke: #D4AC0D; stroke-width: 1.5;" width="228" x="718" y="402"/><ellipse cx="786.25" cy="418" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M788.25,414.5 Q788.4531,414 788.6875,413.75 Q788.9219,413.5 789.1875,413.5 Q789.6563,413.5 789.9531,413.7813 Q790.25,414.0625 790.25,414.7188 L790.25,416.2813 Q790.25,416.9375 789.9688,417.2188 Q789.6875,417.5 789.25,417.5 Q788.8594,417.5 788.6094,417.3281 Q788.3594,417.1563 788.25,416.7031 Q788.2031,416.3906 788.0313,416.2188 Q787.7188,415.8906 787.1563,415.7031 Q786.5938,415.5 786.0313,415.5 Q785.3281,415.5 784.7344,415.7813 Q784.1563,416.0625 783.7031,416.6875 Q783.25,417.3125 783.25,418.1719 L783.25,419.0938 Q783.25,420.125 784.0938,420.8125 Q784.9375,421.5 786.4375,421.5 Q787.3281,421.5 787.9531,421.2969 Q788.3125,421.1875 788.7188,420.8281 Q788.9844,420.625 789.125,420.5625 Q789.2656,420.5 789.4375,420.5 Q789.7656,420.5 790,420.7656 Q790.25,421.0156 790.25,421.375 Q790.25,421.7188 789.9063,422.125 Q789.4063,422.7188 788.6094,423.0469 Q787.5625,423.5 786.2813,423.5 Q784.7813,423.5 783.5781,422.9063 Q782.6094,422.4375 781.9219,421.4219 Q781.25,420.4063 781.25,419.2031 L781.25,418.1094 Q781.25,416.8594 781.8438,415.7656 Q782.4531,414.6719 783.5,414.0938 Q784.5625,413.5 785.75,413.5 Q786.4688,413.5 787.0938,413.75 Q787.7188,414 788.25,414.5 Z "/><ellipse cx="811.75" cy="417.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="817.75" y="422.9102">CardSelector</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="719" x2="945" y1="434" y2="434"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="726" y="442"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="738" y="449.4189">String[0..1] cardProtocol</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="726" y="455.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="738" y="463.2549">AtrFilter[0..1] atrFilter</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="726" y="469.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="738" y="477.0908">AidSelector[0..1] aidSelector</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="719" x2="945" y1="483.5078" y2="483.5078"/><polygon fill="#FFFF44" points="729,489.5078,733,493.5078,729,497.5078,725,493.5078" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="202" x="738" y="498.9268">CardSelector(CardSelectorBuilder builder)</text><ellipse cx="729" cy="508.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="139" x="738" y="512.7627">CardSelectorBuilder builder()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="741" y="526.5986"/><ellipse cx="729" cy="536.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="738" y="540.4346">String getCardProtocol()</text><ellipse cx="729" cy="549.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="738" y="554.2705">AtrFilter getAtrFilter()</text><ellipse cx="729" cy="563.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="738" y="568.1064">AidSelector getAidSelector()</text><!--MD5=[9bb74c6f90a85a40b37333ced13e2f4b]
class CardSelectorBuilder--><rect fill="#FEFECE" height="131.0156" id="CardSelectorBuilder" style="stroke: #D4AC0D; stroke-width: 1.5;" width="366" x="649" y="158.5"/><ellipse cx="766.75" cy="174.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M768.75,171 Q768.9531,170.5 769.1875,170.25 Q769.4219,170 769.6875,170 Q770.1563,170 770.4531,170.2813 Q770.75,170.5625 770.75,171.2188 L770.75,172.7813 Q770.75,173.4375 770.4688,173.7188 Q770.1875,174 769.75,174 Q769.3594,174 769.1094,173.8281 Q768.8594,173.6563 768.75,173.2031 Q768.7031,172.8906 768.5313,172.7188 Q768.2188,172.3906 767.6563,172.2031 Q767.0938,172 766.5313,172 Q765.8281,172 765.2344,172.2813 Q764.6563,172.5625 764.2031,173.1875 Q763.75,173.8125 763.75,174.6719 L763.75,175.5938 Q763.75,176.625 764.5938,177.3125 Q765.4375,178 766.9375,178 Q767.8281,178 768.4531,177.7969 Q768.8125,177.6875 769.2188,177.3281 Q769.4844,177.125 769.625,177.0625 Q769.7656,177 769.9375,177 Q770.2656,177 770.5,177.2656 Q770.75,177.5156 770.75,177.875 Q770.75,178.2188 770.4063,178.625 Q769.9063,179.2188 769.1094,179.5469 Q768.0625,180 766.7813,180 Q765.2813,180 764.0781,179.4063 Q763.1094,178.9375 762.4219,177.9219 Q761.75,176.9063 761.75,175.7031 L761.75,174.6094 Q761.75,173.3594 762.3438,172.2656 Q762.9531,171.1719 764,170.5938 Q765.0625,170 766.25,170 Q766.9688,170 767.5938,170.25 Q768.2188,170.5 768.75,171 Z "/><ellipse cx="792.25" cy="174" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="798.25" y="179.4102">CardSelectorBuilder</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="650" x2="1014" y1="190.5" y2="190.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="650" x2="1014" y1="198.5" y2="198.5"/><polygon fill="#FFFF44" points="660,204.5,664,208.5,660,212.5,656,208.5" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="669" y="213.9189">CardSelectorBuilder()</text><ellipse cx="660" cy="223.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="669" y="227.7549">CardSelector build()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="672" y="241.5908"/><ellipse cx="660" cy="251.0078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="250" x="669" y="255.4268">CardSelectorBuilder cardProtocol(String seProtocol)</text><ellipse cx="660" cy="264.8438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="286" x="669" y="269.2627">CardSelectorBuilder atrFilter(CardSelector.AtrFilter atrFilter)</text><ellipse cx="660" cy="278.6797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="340" x="669" y="283.0986">CardSelectorBuilder aidSelector(CardSelector.AidSelector aidSelector)</text><!--MD5=[47f0011813555fb489a606ff84d44b55]
class CardSelection--><rect fill="#FEFECE" height="186.3594" id="CardSelection" style="stroke: #D4AC0D; stroke-width: 1.5;" width="388" x="828" y="887"/><ellipse cx="959.75" cy="903" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M961.75,899.5 Q961.9531,899 962.1875,898.75 Q962.4219,898.5 962.6875,898.5 Q963.1563,898.5 963.4531,898.7813 Q963.75,899.0625 963.75,899.7188 L963.75,901.2813 Q963.75,901.9375 963.4688,902.2188 Q963.1875,902.5 962.75,902.5 Q962.3594,902.5 962.1094,902.3281 Q961.8594,902.1563 961.75,901.7031 Q961.7031,901.3906 961.5313,901.2188 Q961.2188,900.8906 960.6563,900.7031 Q960.0938,900.5 959.5313,900.5 Q958.8281,900.5 958.2344,900.7813 Q957.6563,901.0625 957.2031,901.6875 Q956.75,902.3125 956.75,903.1719 L956.75,904.0938 Q956.75,905.125 957.5938,905.8125 Q958.4375,906.5 959.9375,906.5 Q960.8281,906.5 961.4531,906.2969 Q961.8125,906.1875 962.2188,905.8281 Q962.4844,905.625 962.625,905.5625 Q962.7656,905.5 962.9375,905.5 Q963.2656,905.5 963.5,905.7656 Q963.75,906.0156 963.75,906.375 Q963.75,906.7188 963.4063,907.125 Q962.9063,907.7188 962.1094,908.0469 Q961.0625,908.5 959.7813,908.5 Q958.2813,908.5 957.0781,907.9063 Q956.1094,907.4375 955.4219,906.4219 Q954.75,905.4063 954.75,904.2031 L954.75,903.1094 Q954.75,901.8594 955.3438,900.7656 Q955.9531,899.6719 957,899.0938 Q958.0625,898.5 959.25,898.5 Q959.9688,898.5 960.5938,898.75 Q961.2188,899 961.75,899.5 Z "/><ellipse cx="985.25" cy="902.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="991.25" y="907.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="1018.25" y="907.9102">CardSelection</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="829" x2="1215" y1="919" y2="919"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="829" x2="1215" y1="927" y2="927"/><ellipse cx="839" cy="938" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="326" x="848" y="942.4189">CardSelection(MultiSelectionProcessing multiMode = FIRST_MATCH)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="851" y="956.2549"/><ellipse cx="839" cy="965.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="362" x="848" y="970.0908">int prepareSelection(AbstractCardSelectionRequest cardSelectionRequest)</text><ellipse cx="839" cy="979.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="848" y="983.9268">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="874" y="983.9268">prepareReleaseCardChannel()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="851" y="997.7627"/><ellipse cx="839" cy="1007.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="278" x="848" y="1011.5986">SelectionsResult processExplicitSelection(Reader reader)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="851" y="1025.4346"/><ellipse cx="839" cy="1034.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="283" x="848" y="1039.2705">AbstractDefaultSelectionsRequest getSelectionOperation()</text><ellipse cx="839" cy="1048.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="205" x="848" y="1053.1064">SelectionsResult processDefaultSelection(</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="274" x="848" y="1066.9424">AbstractDefaultSelectionsResponse selectionResponse)</text><!--MD5=[2e7ae1d767cbfa5b4ad0302129f8298d]
class AbstractCardSelectionRequest--><rect fill="#FEFECE" height="144.8516" id="AbstractCardSelectionRequest" style="stroke: #D4AC0D; stroke-width: 1.5;" width="332" x="666" y="650"/><ellipse cx="737.75" cy="666" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M739.5,667.5 L736.2031,667.5 L735.7656,668.5 L735.7656,668.5 L736.2344,668.5 L736.75,669.125 L736.75,669.5 L736.75,669.875 L736.2344,670.5 L735.7656,670.5 L733.875,670.5 L733.2656,670.5 L732.75,669.875 L732.75,669.5 L732.75,669.125 L733.2656,668.5 L733.875,668.5 L736.1875,662.5 L735.3125,662.5 L734.2656,662.5 L733.75,661.875 L733.75,661.5 L733.75,661.125 L734.2656,660.5 L735.3125,660.5 L738.9844,660.5 L741.6719,668.5 L742.2344,668.5 L742.2344,668.5 L742.75,669.125 L742.75,669.5 L742.75,669.875 L742.2344,670.5 L741.6719,670.5 L739.7813,670.5 L739.2656,670.5 L738.75,669.875 L738.75,669.5 L738.75,669.125 L739.2656,668.5 L739.7813,668.5 L739.7813,668.5 L739.5,667.5 Z M738.9531,665.5 L737.75,661.9219 L736.7188,665.5 L738.9531,665.5 Z "/><ellipse cx="763.25" cy="665.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="169" x="769.25" y="670.9102">AbstractCardSelectionRequest</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="667" x2="997" y1="682" y2="682"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="667" x2="997" y1="690" y2="690"/><ellipse cx="677" cy="701" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="262" x="686" y="705.4189">AbstractCardSelectionRequest(CardSelector selector)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="689" y="719.2549"/><polygon fill="#FFFF44" points="677,723.6719,681,727.6719,677,731.6719,673,727.6719" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="686" y="733.0908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="225" x="712" y="733.0908">addApduRequest(ApduRequest apduRequest)</text><polygon fill="#4177AF" points="677,738.5078,673,744.5078,681,744.5078" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="686" y="746.9268">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="173" x="712" y="746.9268">CardRequest getSelectionRequest()</text><polygon fill="#FFFF44" points="677,751.3438,681,755.3438,677,759.3438,673,755.3438" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="306" x="686" y="760.7627">AbstractSmartCard parse(CardResponse selectionResponse)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="689" y="774.5986"/><ellipse cx="677" cy="784.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="686" y="788.4346">CardSelector getCardSelector()</text><!--MD5=[76ebe7b74ec75e348fd93ad9fc9a7513]
class AbstractSmartCard--><rect fill="#FEFECE" height="131.0156" id="AbstractSmartCard" style="stroke: #D4AC0D; stroke-width: 1.5;" width="315" x="477.5" y="914.5"/><ellipse cx="572.75" cy="930.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M574.5,932 L571.2031,932 L570.7656,933 L570.7656,933 L571.2344,933 L571.75,933.625 L571.75,934 L571.75,934.375 L571.2344,935 L570.7656,935 L568.875,935 L568.2656,935 L567.75,934.375 L567.75,934 L567.75,933.625 L568.2656,933 L568.875,933 L571.1875,927 L570.3125,927 L569.2656,927 L568.75,926.375 L568.75,926 L568.75,925.625 L569.2656,925 L570.3125,925 L573.9844,925 L576.6719,933 L577.2344,933 L577.2344,933 L577.75,933.625 L577.75,934 L577.75,934.375 L577.2344,935 L576.6719,935 L574.7813,935 L574.2656,935 L573.75,934.375 L573.75,934 L573.75,933.625 L574.2656,933 L574.7813,933 L574.7813,933 L574.5,932 Z M573.9531,930 L572.75,926.4219 L571.7188,930 L573.9531,930 Z "/><ellipse cx="598.25" cy="930" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="105" x="604.25" y="935.4102">AbstractSmartCard</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="478.5" x2="791.5" y1="946.5" y2="946.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="478.5" x2="791.5" y1="954.5" y2="954.5"/><polygon fill="#FFFF44" points="488.5,960.5,492.5,964.5,488.5,968.5,484.5,964.5" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="289" x="497.5" y="969.9189">AbstractSmartCard(SelectionResponse selectionResponse)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="500.5" y="983.7549"/><ellipse cx="488.5" cy="993.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="497.5" y="997.5908">boolean hasAtr()</text><ellipse cx="488.5" cy="1007.0078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="497.5" y="1011.4268">byte[] getAtrBytes()</text><ellipse cx="488.5" cy="1020.8438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="497.5" y="1025.2627">boolean hasFci()</text><ellipse cx="488.5" cy="1034.6797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="497.5" y="1039.0986">byte[] getFciBytes()</text><!--MD5=[68d93de5d5ca3fa8853616903ee370e6]
class CardResource_T--><rect fill="#FEFECE" height="89.5078" id="CardResource_T" style="stroke: #D4AC0D; stroke-width: 1.5;" width="316" x="532" y="1134"/><ellipse cx="547" cy="1150" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M549,1146.5 Q549.2031,1146 549.4375,1145.75 Q549.6719,1145.5 549.9375,1145.5 Q550.4063,1145.5 550.7031,1145.7813 Q551,1146.0625 551,1146.7188 L551,1148.2813 Q551,1148.9375 550.7188,1149.2188 Q550.4375,1149.5 550,1149.5 Q549.6094,1149.5 549.3594,1149.3281 Q549.1094,1149.1563 549,1148.7031 Q548.9531,1148.3906 548.7813,1148.2188 Q548.4688,1147.8906 547.9063,1147.7031 Q547.3438,1147.5 546.7813,1147.5 Q546.0781,1147.5 545.4844,1147.7813 Q544.9063,1148.0625 544.4531,1148.6875 Q544,1149.3125 544,1150.1719 L544,1151.0938 Q544,1152.125 544.8438,1152.8125 Q545.6875,1153.5 547.1875,1153.5 Q548.0781,1153.5 548.7031,1153.2969 Q549.0625,1153.1875 549.4688,1152.8281 Q549.7344,1152.625 549.875,1152.5625 Q550.0156,1152.5 550.1875,1152.5 Q550.5156,1152.5 550.75,1152.7656 Q551,1153.0156 551,1153.375 Q551,1153.7188 550.6563,1154.125 Q550.1563,1154.7188 549.3594,1155.0469 Q548.3125,1155.5 547.0313,1155.5 Q545.5313,1155.5 544.3281,1154.9063 Q543.3594,1154.4375 542.6719,1153.4219 Q542,1152.4063 542,1151.2031 L542,1150.1094 Q542,1148.8594 542.5938,1147.7656 Q543.2031,1146.6719 544.25,1146.0938 Q545.3125,1145.5 546.5,1145.5 Q547.2188,1145.5 547.8438,1145.75 Q548.4688,1146 549,1146.5 Z "/><ellipse cx="566" cy="1149.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="572" y="1154.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81" x="599" y="1154.9102">CardResource</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="163" x="688" y="1131"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="161" x="689" y="1144.457">T extends AbstractSmartCard</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="533" x2="847" y1="1166" y2="1166"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="533" x2="847" y1="1174" y2="1174"/><polygon fill="#FFFF44" points="543,1180,547,1184,543,1188,539,1184" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="552" y="1189.4189">CardResource(Reader reader, T card)</text><ellipse cx="543" cy="1198.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="552" y="1203.2549">Reader getReader()</text><ellipse cx="543" cy="1212.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="552" y="1217.0908">T getSmartCard()</text><!--MD5=[bb5d923135655fe334dd8e21d863bc58]
class InvalidatedPo--><rect fill="#FEFECE" height="75.6719" id="InvalidatedPo" style="stroke: #D4AC0D; stroke-width: 1.5;" width="117" x="62.5" y="450.5"/><ellipse cx="77.5" cy="466.5" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M76,467.5 L76,469.5 L80,469.5 L80,468.5 L80,468.0156 L80.625,467.5 L81,467.5 L81.375,467.5 L82,468.0156 L82,468.5 L82,471.5 L74,471.5 L73.5156,471.5 L73,470.875 L73,470.5 L73,470.125 L73.5156,469.5 L74,469.5 L74,469.5 L74,463.5 L74,463.5 L73.5156,463.5 L73,462.875 L73,462.5 L73,462.125 L73.5156,461.5 L74,461.5 L82,461.5 L82,464.5 L82,464.9844 L81.375,465.5 L81,465.5 L80.625,465.5 L80,464.9844 L80,464.5 L80,463.5 L76,463.5 L76,465.5 L77,465.5 L77,465.0156 L77,465.0156 L77.625,464.5 L78,464.5 L78.375,464.5 L79,465.0156 L79,465.5 L79,467.5 L79,467.9844 L78.375,468.5 L78.375,468.5 L78,468.5 L77.625,468.5 L77,467.9844 L77,467.9844 L77,467.5 L76,467.5 Z "/><ellipse cx="96.5" cy="466" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="102.5" y="471.4102">InvalidatedPo</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="63.5" x2="178.5" y1="482.5" y2="482.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="68.5" y="497.9189">REJECT</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="68.5" y="511.7549">ACCEPT</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="63.5" x2="178.5" y1="518.1719" y2="518.1719"/><!--MD5=[346f733d3079e77ece8ec0605238a57f]
class CalypsoPo--><rect fill="#FEFECE" height="131.0156" id="CalypsoPo" style="stroke: #D4AC0D; stroke-width: 1.5;" width="242" x="151" y="914.5"/><ellipse cx="232.25" cy="930.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M234.25,927 Q234.4531,926.5 234.6875,926.25 Q234.9219,926 235.1875,926 Q235.6563,926 235.9531,926.2813 Q236.25,926.5625 236.25,927.2188 L236.25,928.7813 Q236.25,929.4375 235.9688,929.7188 Q235.6875,930 235.25,930 Q234.8594,930 234.6094,929.8281 Q234.3594,929.6563 234.25,929.2031 Q234.2031,928.8906 234.0313,928.7188 Q233.7188,928.3906 233.1563,928.2031 Q232.5938,928 232.0313,928 Q231.3281,928 230.7344,928.2813 Q230.1563,928.5625 229.7031,929.1875 Q229.25,929.8125 229.25,930.6719 L229.25,931.5938 Q229.25,932.625 230.0938,933.3125 Q230.9375,934 232.4375,934 Q233.3281,934 233.9531,933.7969 Q234.3125,933.6875 234.7188,933.3281 Q234.9844,933.125 235.125,933.0625 Q235.2656,933 235.4375,933 Q235.7656,933 236,933.2656 Q236.25,933.5156 236.25,933.875 Q236.25,934.2188 235.9063,934.625 Q235.4063,935.2188 234.6094,935.5469 Q233.5625,936 232.2813,936 Q230.7813,936 229.5781,935.4063 Q228.6094,934.9375 227.9219,933.9219 Q227.25,932.9063 227.25,931.7031 L227.25,930.6094 Q227.25,929.3594 227.8438,928.2656 Q228.4531,927.1719 229.5,926.5938 Q230.5625,926 231.75,926 Q232.4688,926 233.0938,926.25 Q233.7188,926.5 234.25,927 Z "/><ellipse cx="257.75" cy="930" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="263.75" y="935.4102">CalypsoPo</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="152" x2="392" y1="946.5" y2="946.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="152" x2="392" y1="954.5" y2="954.5"/><polygon fill="#4177AF" points="162,961.5,158,967.5,166,967.5" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="171" y="969.9189">CalypsoPo(SeResponse selectionResponse)</text><ellipse cx="162" cy="979.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="171" y="983.7549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="197" y="983.7549">String getDfName()</text><ellipse cx="162" cy="993.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="171" y="997.5908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="171" x="197" y="997.5908">String getApplicationSerialNumber()</text><ellipse cx="162" cy="1007.0078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="171" y="1011.4268">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="197" y="1011.4268">String getAtr()</text><ellipse cx="162" cy="1020.8438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="171" y="1025.2627">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="197" y="1025.2627">String getStartupInfo()</text><ellipse cx="162" cy="1034.6797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="171" y="1039.0986">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="197" y="1039.0986">PoRevision getRevision()</text><!--MD5=[910d44511a3d946a5594aedf23a2c57e]
class PoSelector--><rect fill="#FEFECE" height="89.5078" id="PoSelector" style="stroke: #D4AC0D; stroke-width: 1.5;" width="206" x="215" y="443.5"/><ellipse cx="264.75" cy="459.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M266.75,456 Q266.9531,455.5 267.1875,455.25 Q267.4219,455 267.6875,455 Q268.1563,455 268.4531,455.2813 Q268.75,455.5625 268.75,456.2188 L268.75,457.7813 Q268.75,458.4375 268.4688,458.7188 Q268.1875,459 267.75,459 Q267.3594,459 267.1094,458.8281 Q266.8594,458.6563 266.75,458.2031 Q266.7031,457.8906 266.5313,457.7188 Q266.2188,457.3906 265.6563,457.2031 Q265.0938,457 264.5313,457 Q263.8281,457 263.2344,457.2813 Q262.6563,457.5625 262.2031,458.1875 Q261.75,458.8125 261.75,459.6719 L261.75,460.5938 Q261.75,461.625 262.5938,462.3125 Q263.4375,463 264.9375,463 Q265.8281,463 266.4531,462.7969 Q266.8125,462.6875 267.2188,462.3281 Q267.4844,462.125 267.625,462.0625 Q267.7656,462 267.9375,462 Q268.2656,462 268.5,462.2656 Q268.75,462.5156 268.75,462.875 Q268.75,463.2188 268.4063,463.625 Q267.9063,464.2188 267.1094,464.5469 Q266.0625,465 264.7813,465 Q263.2813,465 262.0781,464.4063 Q261.1094,463.9375 260.4219,462.9219 Q259.75,461.9063 259.75,460.7031 L259.75,459.6094 Q259.75,458.3594 260.3438,457.2656 Q260.9531,456.1719 262,455.5938 Q263.0625,455 264.25,455 Q264.9688,455 265.5938,455.25 Q266.2188,455.5 266.75,456 Z "/><ellipse cx="290.25" cy="459" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="296.25" y="464.4102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="323.25" y="464.4102">PoSelector</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="216" x2="420" y1="475.5" y2="475.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="223" y="483.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="235" y="490.9189">InvalidatedPo invalidatedPo = REJECT</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="216" x2="420" y1="497.3359" y2="497.3359"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="223" y="505.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="235" y="512.7549">PoSelector(PoSelectorBuilder builder)</text><ellipse cx="226" cy="522.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="128" x="235" y="526.5908">PoSelectorBuilder builder()</text><!--MD5=[c77ac4c260a274e18b12f273f3a04d1c]
class PoSelectorBuilder--><rect fill="#FEFECE" height="158.6875" id="PoSelectorBuilder" style="stroke: #D4AC0D; stroke-width: 1.5;" width="314" x="107" y="144.5"/><ellipse cx="204.75" cy="160.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M206.75,157 Q206.9531,156.5 207.1875,156.25 Q207.4219,156 207.6875,156 Q208.1563,156 208.4531,156.2813 Q208.75,156.5625 208.75,157.2188 L208.75,158.7813 Q208.75,159.4375 208.4688,159.7188 Q208.1875,160 207.75,160 Q207.3594,160 207.1094,159.8281 Q206.8594,159.6563 206.75,159.2031 Q206.7031,158.8906 206.5313,158.7188 Q206.2188,158.3906 205.6563,158.2031 Q205.0938,158 204.5313,158 Q203.8281,158 203.2344,158.2813 Q202.6563,158.5625 202.2031,159.1875 Q201.75,159.8125 201.75,160.6719 L201.75,161.5938 Q201.75,162.625 202.5938,163.3125 Q203.4375,164 204.9375,164 Q205.8281,164 206.4531,163.7969 Q206.8125,163.6875 207.2188,163.3281 Q207.4844,163.125 207.625,163.0625 Q207.7656,163 207.9375,163 Q208.2656,163 208.5,163.2656 Q208.75,163.5156 208.75,163.875 Q208.75,164.2188 208.4063,164.625 Q207.9063,165.2188 207.1094,165.5469 Q206.0625,166 204.7813,166 Q203.2813,166 202.0781,165.4063 Q201.1094,164.9375 200.4219,163.9219 Q199.75,162.9063 199.75,161.7031 L199.75,160.6094 Q199.75,159.3594 200.3438,158.2656 Q200.9531,157.1719 202,156.5938 Q203.0625,156 204.25,156 Q204.9688,156 205.5938,156.25 Q206.2188,156.5 206.75,157 Z "/><ellipse cx="230.25" cy="160" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="236.25" y="165.4102">PoSelectorBuilder</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="108" x2="420" y1="176.5" y2="176.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="108" x2="420" y1="184.5" y2="184.5"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="115" y="192.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="127" y="199.9189">PoSelectorBuilder()</text><ellipse cx="118" cy="209.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="127" y="213.7549">PoSelector build()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="130" y="227.5908"/><ellipse cx="118" cy="237.0078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="249" x="127" y="241.4268">PoSelectorBuilder cardProtocol(String cardProtocol)</text><ellipse cx="118" cy="250.8438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="209" x="127" y="255.2627">PoSelectorBuilder atrFilter(AtrFilter atrFilter)</text><ellipse cx="118" cy="264.6797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="263" x="127" y="269.0986">PoSelectorBuilder aidSelector(AidSelector aidSelector)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="130" y="282.9346"/><ellipse cx="118" cy="292.3516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="288" x="127" y="296.7705">PoSelectorBuilder invalidatedPo(InvalidatedPo invalidatedPo)</text><!--MD5=[eb197b32301e657fb343d0b6ac62ab90]
class PoSelectionRequest--><rect fill="#FEFECE" height="172.5234" id="PoSelectionRequest" style="stroke: #D4AC0D; stroke-width: 1.5;" width="304" x="117" y="636"/><ellipse cx="202.75" cy="652" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M204.75,648.5 Q204.9531,648 205.1875,647.75 Q205.4219,647.5 205.6875,647.5 Q206.1563,647.5 206.4531,647.7813 Q206.75,648.0625 206.75,648.7188 L206.75,650.2813 Q206.75,650.9375 206.4688,651.2188 Q206.1875,651.5 205.75,651.5 Q205.3594,651.5 205.1094,651.3281 Q204.8594,651.1563 204.75,650.7031 Q204.7031,650.3906 204.5313,650.2188 Q204.2188,649.8906 203.6563,649.7031 Q203.0938,649.5 202.5313,649.5 Q201.8281,649.5 201.2344,649.7813 Q200.6563,650.0625 200.2031,650.6875 Q199.75,651.3125 199.75,652.1719 L199.75,653.0938 Q199.75,654.125 200.5938,654.8125 Q201.4375,655.5 202.9375,655.5 Q203.8281,655.5 204.4531,655.2969 Q204.8125,655.1875 205.2188,654.8281 Q205.4844,654.625 205.625,654.5625 Q205.7656,654.5 205.9375,654.5 Q206.2656,654.5 206.5,654.7656 Q206.75,655.0156 206.75,655.375 Q206.75,655.7188 206.4063,656.125 Q205.9063,656.7188 205.1094,657.0469 Q204.0625,657.5 202.7813,657.5 Q201.2813,657.5 200.0781,656.9063 Q199.1094,656.4375 198.4219,655.4219 Q197.75,654.4063 197.75,653.2031 L197.75,652.1094 Q197.75,650.8594 198.3438,649.7656 Q198.9531,648.6719 200,648.0938 Q201.0625,647.5 202.25,647.5 Q202.9688,647.5 203.5938,647.75 Q204.2188,648 204.75,648.5 Z "/><ellipse cx="228.25" cy="651.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="113" x="234.25" y="656.9102">PoSelectionRequest</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="118" x2="420" y1="668" y2="668"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="118" x2="420" y1="676" y2="676"/><ellipse cx="128" cy="687" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="211" x="137" y="691.4189">PoSelectionRequest(PoSelector poSelector)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="140" y="705.2549"/><ellipse cx="128" cy="714.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="137" y="719.0908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="163" y="719.0908">prepareSelectFile(byte[] path)</text><ellipse cx="128" cy="728.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="137" y="732.9268">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="163" y="732.9268">prepareSelectFile(shord lid)</text><ellipse cx="128" cy="742.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="137" y="746.7627">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="222" x="163" y="746.7627">prepareSelectFile(SelectControl selectControl)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="140" y="760.5986"/><ellipse cx="128" cy="770.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="137" y="774.4346">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="247" x="163" y="774.4346">prepareReadRecordFile(byte sfi, int recordNumber)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="140" y="788.2705"/><polygon fill="#FFFF44" points="128,792.6875,132,796.6875,128,800.6875,124,796.6875" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="278" x="137" y="802.1064">CalypsoPo parse(SelectionResponse selectionResponse)</text><!--MD5=[e8e21ba3995782366e9aa9ad2c6b2d5f]
class PoResource--><rect fill="#FEFECE" height="48" id="PoResource" style="stroke: #D4AC0D; stroke-width: 1.5;" width="215" x="164.5" y="1155"/><ellipse cx="179.5" cy="1171" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M181.5,1167.5 Q181.7031,1167 181.9375,1166.75 Q182.1719,1166.5 182.4375,1166.5 Q182.9063,1166.5 183.2031,1166.7813 Q183.5,1167.0625 183.5,1167.7188 L183.5,1169.2813 Q183.5,1169.9375 183.2188,1170.2188 Q182.9375,1170.5 182.5,1170.5 Q182.1094,1170.5 181.8594,1170.3281 Q181.6094,1170.1563 181.5,1169.7031 Q181.4531,1169.3906 181.2813,1169.2188 Q180.9688,1168.8906 180.4063,1168.7031 Q179.8438,1168.5 179.2813,1168.5 Q178.5781,1168.5 177.9844,1168.7813 Q177.4063,1169.0625 176.9531,1169.6875 Q176.5,1170.3125 176.5,1171.1719 L176.5,1172.0938 Q176.5,1173.125 177.3438,1173.8125 Q178.1875,1174.5 179.6875,1174.5 Q180.5781,1174.5 181.2031,1174.2969 Q181.5625,1174.1875 181.9688,1173.8281 Q182.2344,1173.625 182.375,1173.5625 Q182.5156,1173.5 182.6875,1173.5 Q183.0156,1173.5 183.25,1173.7656 Q183.5,1174.0156 183.5,1174.375 Q183.5,1174.7188 183.1563,1175.125 Q182.6563,1175.7188 181.8594,1176.0469 Q180.8125,1176.5 179.5313,1176.5 Q178.0313,1176.5 176.8281,1175.9063 Q175.8594,1175.4375 175.1719,1174.4219 Q174.5,1173.4063 174.5,1172.2031 L174.5,1171.1094 Q174.5,1169.8594 175.0938,1168.7656 Q175.7031,1167.6719 176.75,1167.0938 Q177.8125,1166.5 179,1166.5 Q179.7188,1166.5 180.3438,1166.75 Q180.9688,1167 181.5,1167.5 Z "/><ellipse cx="198.5" cy="1170.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="204.5" y="1175.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81" x="231.5" y="1175.9102">CardResource</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="62" x="320.5" y="1152"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="321.5" y="1165.457">CalypsoPo</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="165.5" x2="378.5" y1="1187" y2="1187"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="165.5" x2="378.5" y1="1195" y2="1195"/><!--MD5=[b09dbd33f021783c33c76c7696ce73ff]
link SamSelectorBuilder to SamSelector--><path d="M1430.24,324.24 C1430,356.73 1429.73,392.007 1429.5,421.428 " fill="none" id="SamSelectorBuilder-&gt;SamSelector" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="1429.451" cy="428.6732" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1429.5119" x2="1429.39" y1="420.6735" y2="436.673"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1437.4507" x2="1421.4512" y1="428.7342" y2="428.6123"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="1431" y="368.4951">build</text><polygon fill="#000000" points="1440,377.3516,1443,383.3516,1446,377.3516,1440,377.3516" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="15" x="1414.6334" y="345.6897">1+</text><!--MD5=[33c6ebb7d3d8626e1629ab19b8aab7cf]
link SamSelector to SamSelectionRequest--><path d="M1429,540.127 C1429,576.581 1429,625.825 1429,663.803 " fill="none" id="SamSelector-&gt;SamSelectionRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1429,677.24,1433,671.24,1429,665.24,1425,671.24,1429,677.24" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1421.5078" y="562.0077">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1421.4641" y="666.6443">1</text><!--MD5=[914e60fa49d471ebb672268de3f87de2]
link SamSelectionRequest to CalypsoSam--><path d="M1426.23,767.713 C1423.95,804.134 1420.66,856.686 1417.93,900.267 " fill="none" id="SamSelectionRequest-CalypsoSam" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="1422" y="853.4951">selects</text><polygon fill="#000000" points="1438.5,862.3516,1441.5,868.3516,1444.5,862.3516,1438.5,862.3516" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[12caef3b8ff771d53dde20a7695a1363]
link CalypsoSam to SamResource--><path d="M1404.61,1059.709 C1401.6,1087.932 1398.35,1118.416 1395.9,1141.369 " fill="none" id="CalypsoSam-&gt;SamResource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1394.49,1154.6,1399.103,1149.0574,1395.761,1142.6675,1391.148,1148.2101,1394.49,1154.6" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1396.5882" y="1080.7701">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1387.2438" y="1144.2405">1</text><!--MD5=[b21355cbcde7593334cee019bc7e2829]
link CardSelectorBuilder to CardSelector--><path d="M832,289.551 C832,318.775 832,354.008 832,386.599 " fill="none" id="CardSelectorBuilder-&gt;CardSelector" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="832" cy="393.851" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="832" x2="832" y1="385.851" y2="401.851"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="840" x2="824" y1="393.851" y2="393.851"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="833" y="368.4951">build</text><polygon fill="#000000" points="842,377.3516,845,383.3516,848,377.3516,842,377.3516" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="15" x="816.1797" y="311.1091">1+</text><!--MD5=[f7a5de27aea4a3f9cf3be28e063235d3]
link AbstractCardSelectionRequest to AbstractSmartCard--><path d="M776.863,795.011 C747.95,832.508 712.811,878.083 684.738,914.492 " fill="none" id="AbstractCardSelectionRequest-AbstractSmartCard" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="741" y="853.4951">selects</text><polygon fill="#000000" points="757.5,862.3516,760.5,868.3516,763.5,862.3516,757.5,862.3516" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[15f1c8a45d8a6258e3195a5673a393d0]
link AbstractCardSelectionRequest to CardSelection--><path d="M885.178,795.011 C903.883,820.164 925.291,848.952 945.531,876.169 " fill="none" id="AbstractCardSelectionRequest-&gt;CardSelection" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="953.52,886.913,953.1494,879.7114,946.3593,877.2836,946.7299,884.4852,953.52,886.913" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="885.1666" y="816.456">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="940.5592" y="876.0365">1</text><!--MD5=[432488a97c897b7799b040a4c39f0bd3]
link AbstractSmartCard to CardResource_T--><path d="M653.009,1045.505 C659.829,1069.933 667.536,1097.54 674.144,1121.207 " fill="none" id="AbstractSmartCard-&gt;CardResource_T" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="677.689,1133.904,679.9283,1127.0494,674.4622,1122.346,672.2229,1129.2006,677.689,1133.904" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="647.5959" y="1067.0581">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="668.1691" y="1123.0042">1</text><!--MD5=[21cd9ac0b52e9dc28b24fb33e8b551bd]
link CardSelector to AbstractCardSelectionRequest--><path d="M832,575.229 C832,595.251 832,616.567 832,636.555 " fill="none" id="CardSelector-&gt;AbstractCardSelectionRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="832,649.809,836,643.809,832,637.809,828,643.809,832,649.809" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="824.732" y="596.0085">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="824.6391" y="639.0086">1</text><!--MD5=[2974701ccc045126a3331657366aa38c]
link InvalidatedPo to PoSelector--><path d="M179.869,488.5 C186.537,488.5 193.204,488.5 199.871,488.5 " fill="none" id="InvalidatedPo-&gt;PoSelector" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="206.941" cy="488.5" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="198.941" x2="214.941" y1="488.5" y2="488.5"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="206.941" x2="206.941" y1="480.5" y2="496.5"/><!--MD5=[32720dbb836ab172b99df1547eeab0a1]
link PoSelectorBuilder to PoSelector--><path d="M280.202,303.759 C288.411,343.665 298.215,391.323 305.781,428.101 " fill="none" id="PoSelectorBuilder-&gt;PoSelector" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="307.2629" cy="435.3061" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="305.6507" x2="308.875" y1="427.4702" y2="443.142"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="315.0988" x2="299.427" y1="433.694" y2="436.9182"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="296" y="368.4951">build</text><polygon fill="#000000" points="305,377.3516,308,383.3516,311,377.3516,305,377.3516" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="15" x="265.9226" y="324.5492">1+</text><!--MD5=[ed6423670dafc96d495f4f20a4a71c62]
reverse link PoSelectorBuilder to InvalidatedPo--><path d="M214.781,315.35 C189.56,361.647 160.23,415.487 141.178,450.46 " fill="none" id="PoSelectorBuilder&lt;-InvalidatedPo" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="221.095,303.759,214.7122,307.1145,215.3546,314.2969,221.7374,310.9414,221.095,303.759" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="198.5,365,201.5,359,204.5,365,198.5,365" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="194" y="381.4951">set</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="210.2521" y="324.5492">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="120.8702" y="439.5292">0..1</text><!--MD5=[745a9eb240b2395580f3266b2171dd51]
link PoSelector to PoSelectionRequest--><path d="M308.668,533.684 C303.323,558.989 296.391,591.812 289.82,622.924 " fill="none" id="PoSelector-&gt;PoSelectionRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="287.13,635.662,292.2832,630.6178,289.609,623.9209,284.4558,628.9651,287.13,635.662" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="299.9437" y="554.3824">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="281.3873" y="625.0426">1</text><!--MD5=[315c59765b6a4685fded372235c6d6fb]
link PoSelectionRequest to CalypsoPo--><path d="M270.007,809.289 C270.411,843.647 270.868,882.561 271.242,914.45 " fill="none" id="PoSelectionRequest-CalypsoPo" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="272" y="853.4951">selects</text><polygon fill="#000000" points="288.5,862.3516,291.5,868.3516,294.5,862.3516,288.5,862.3516" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[a71187334cf42e66c7bfc6a1e31411da]
link CalypsoPo to PoResource--><path d="M272,1045.505 C272,1077.421 272,1114.765 272,1141.657 " fill="none" id="CalypsoPo-&gt;PoResource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="272,1154.683,276,1148.683,272,1142.683,268,1148.683,272,1154.683" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="264.6172" y="1067.0581">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="264.1469" y="1144.3437">1</text><!--MD5=[7dfcb0eb3af0e994fa8264538ab2163e]
reverse link CardSelectorBuilder to PoSelectorBuilder--><path d="M628.847,224 C560.501,224 485.34,224 421.089,224 " fill="none" id="CardSelectorBuilder&lt;-PoSelectorBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="628.871,217,648.871,224,628.871,231,628.871,217" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="512" y="217.4951">extends</text><!--MD5=[5bf842664a8f58fdf114e1f1fbc5c43e]
reverse link CardSelector to PoSelector--><path d="M697.887,488.5 C611.414,488.5 500.667,488.5 421.089,488.5 " fill="none" id="CardSelector&lt;-PoSelector" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="697.906,481.5,717.906,488.5,697.906,495.5,697.906,481.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="546.5" y="481.9951">extends</text><!--MD5=[ae42d1ae0fedddf2aa03381ca0247b1b]
reverse link AbstractCardSelectionRequest to PoSelectionRequest--><path d="M645.437,722.5 C572.713,722.5 490.415,722.5 421.356,722.5 " fill="none" id="AbstractCardSelectionRequest&lt;-PoSelectionRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="645.675,715.5,665.675,722.5,645.675,729.5,645.675,715.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="520.5" y="715.9951">extends</text><!--MD5=[3459e440d66c5c3412820edeae04ed60]
reverse link AbstractSmartCard to CalypsoPo--><path d="M457.113,980 C435.441,980 413.699,980 393.126,980 " fill="none" id="AbstractSmartCard&lt;-CalypsoPo" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="457.394,973,477.394,980,457.394,987,457.394,973" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="412.25" y="973.4951">extends</text><!--MD5=[af37fe449ab040085c02999e102ae6c9]
reverse link CardResource_T to PoResource--><path d="M511.733,1179 C466.789,1179 419.907,1179 379.645,1179 " fill="none" id="CardResource_T&lt;-PoResource" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="511.872,1172,531.872,1179,511.872,1185.9999,511.872,1172" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="397.75" y="1172.4951">«bind»T::CalypsoPo</text><!--MD5=[4b6fa180d49855b97e170ebc706dd83e]
reverse link CardSelectorBuilder to SamSelectorBuilder--><path d="M1035.79,224 C1112.82,224 1199.28,224 1271.65,224 " fill="none" id="CardSelectorBuilder&lt;-SamSelectorBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1035.38,231,1015.38,224,1035.38,217,1035.38,231" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1120.5" y="217.4951">extends</text><!--MD5=[767b7c5783c61e407e58011f2f5f4867]
reverse link CardSelector to SamSelector--><path d="M966.287,488.5 C1071.93,488.5 1217.41,488.5 1316.87,488.5 " fill="none" id="CardSelector&lt;-SamSelector" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="966.049,495.5,946.049,488.5,966.049,481.5,966.049,495.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1108.5" y="481.9951">extends</text><!--MD5=[3737d7aab50a15dd7f7ba6b6f3dfac94]
reverse link AbstractCardSelectionRequest to SamSelectionRequest--><path d="M1018.45,722.5 C1099.96,722.5 1194.51,722.5 1272.31,722.5 " fill="none" id="AbstractCardSelectionRequest&lt;-SamSelectionRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1018.3,729.5,998.298,722.5,1018.3,715.5,1018.3,729.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1112.25" y="715.9951">extends</text><!--MD5=[771983f6ec348c92883b1dfa27463c85]
reverse link AbstractSmartCard to CalypsoSam--><path d="M739.458,903.996 C769.218,886.382 802.65,870.132 836,861 C879.117,849.193 991.665,819.292 1232,887 C1245.26,890.736 1258.68,895.492 1271.91,900.871 " fill="none" id="AbstractSmartCard&lt;-CalypsoSam" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="743.094,909.977,722.388,914.48,735.766,898.048,743.094,909.977" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="837" y="853.4951">extends</text><!--MD5=[63aefe5f8cf91747d54f88bd0d4401fe]
reverse link CardResource_T to SamResource--><path d="M868.764,1179 C997.843,1179 1168.24,1179 1278.95,1179 " fill="none" id="CardResource_T&lt;-SamResource" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="868.418,1185.9999,848.418,1179,868.418,1172,868.418,1185.9999" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="1000" y="1172.4951">«bind»T::CalypsoSam</text><!--MD5=[8feafff01d1003c6a8c8b8ab1c652a29]
@startuml
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam shadowing false

skinparam StateBorderColor #D4AC0D
skinparam ActivityBorderColor #D4AC0D

skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #EAFAF1
skinparam ClassBorderColor<<green>> #2ECC71
hide <<green>> stereotype

skinparam ClassBackgroundColor<<orange>> #FDF2E9
skinparam ClassBorderColor<<orange>> #E67E22
hide <<orange>> stereotype

skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

package org.eclipse.keyple #FFFFFF {
  package "calypso.transaction" as transaction_sam #FFFFFF {
+class "<b>final</b> SamSelector" as SamSelector {
  -<b>final</b> SamRevision targetSamRevision
  -<b>final</b> byte[] unlockData
  -SamSelector(SamSelectorBuilder builder)
  +{static} SamSelectorBuilder builder()
}

+class SamSelectorBuilder {
  +SamSelectorBuilder()
  +SamSelectorBuilder cardProtocol(String cardProtocol)
  +SamSelectorBuilder atrFilter(AtrFilter atrFilter)
  +SamSelectorBuilder aidSelector(AidSelector aidSelector)

  +SamSelectorBuilder samRevision(SamRevision samRevision)
  +SamSelectorBuilder serialNumber(String serialNumber)
  +SamSelectorBuilder samIdentifier(SamIdentifier samIdentifier)
  +SamSelectorBuilder samUnlock(byte[] lock)

  +SamSelector build()
}

+class SamSelectionRequest {
  +SamSelectionRequest(SamSelector samSelector)

  #CalypsoSam parse(SelectionResponse selectionResponse)
}

+class "<b>final</b> CardResource<CalypsoSam>" as SamResource {
}

+class "<b>final</b> CalypsoSam" as CalypsoSam {
  ~CalypsoSam(<color:red>SelectionResponse selectionResponse</color>)

  +SamRevision getSamRevision()
  +byte[] getSerialNumber()
  +byte getPlatform()
  +byte getApplicationType()
  +byte getApplicationSubType()
  +byte getSoftwareIssuer()
}

    SamSelector +-up- "1+" SamSelectorBuilder : build <
    SamSelectionRequest "1" o-up- "1" SamSelector
    SamSelectionRequest -down- CalypsoSam : selects >
    SamResource "1" *-up- "1" CalypsoSam
  }

  package core.card.selection #FFFFFF {
+class CardSelector {
  -String[0..1] cardProtocol
  -AtrFilter[0..1] atrFilter
  -AidSelector[0..1] aidSelector
  #CardSelector(CardSelectorBuilder builder)
  +{static}CardSelectorBuilder builder()

  +String getCardProtocol()
  +AtrFilter getAtrFilter()
  +AidSelector getAidSelector()
}
+class CardSelectorBuilder {
  #CardSelectorBuilder()
  +CardSelector build()

  +CardSelectorBuilder cardProtocol(String seProtocol)
  +CardSelectorBuilder atrFilter(CardSelector.AtrFilter atrFilter)
  +CardSelectorBuilder aidSelector(CardSelector.AidSelector aidSelector)
}

      CardSelector +-up- "1+" CardSelectorBuilder : build <


+class "<b>final</b> CardSelection" as CardSelection {
  +CardSelection(MultiSelectionProcessing multiMode = FIRST_MATCH)

  +int prepareSelection(AbstractCardSelectionRequest cardSelectionRequest)
  +<b>final</b> prepareReleaseCardChannel()

  +SelectionsResult processExplicitSelection(Reader reader)

  +AbstractDefaultSelectionsRequest getSelectionOperation()
  +SelectionsResult processDefaultSelection(
    AbstractDefaultSelectionsResponse selectionResponse)
}
+abstract AbstractCardSelectionRequest {
  +AbstractCardSelectionRequest(CardSelector selector)

  #<b>final</b> addApduRequest(ApduRequest apduRequest)
  ~<b>final</b> CardRequest getSelectionRequest()
  {abstract} #AbstractSmartCard parse(CardResponse selectionResponse)

  +CardSelector getCardSelector()
}

+abstract AbstractSmartCard {
  #AbstractSmartCard(SelectionResponse selectionResponse)

  +boolean hasAtr()
  +byte[] getAtrBytes()
  +boolean hasFci()
  +byte[] getFciBytes()
}
+class "<b>final</b> CardResource<T extends AbstractSmartCard>" as CardResource_T {
  #CardResource(Reader reader, T card)
  +Reader getReader()
  +T getSmartCard()
}

      AbstractCardSelectionRequest -down- AbstractSmartCard : selects >
      CardSelection "1" o-up- "*" AbstractCardSelectionRequest
      CardResource_T "1" *-up- "1" AbstractSmartCard

    AbstractCardSelectionRequest "1" o-up- "1" CardSelector
  }

  package "calypso.transaction" as transaction_po #FFFFFF {
+enum InvalidatedPo {
  REJECT
  ACCEPT
}
+class CalypsoPo {
  ~CalypsoPo(SeResponse selectionResponse)
  +<b>final</b> String getDfName()
  +<b>final</b> String getApplicationSerialNumber()
  +<b>final</b> String getAtr()
  +<b>final</b> String getStartupInfo()
  +<b>final</b> PoRevision getRevision()
}
+class "<b>final</b> PoSelector" as PoSelector {
  -InvalidatedPo invalidatedPo = REJECT
  -PoSelector(PoSelectorBuilder builder)
  +{static} PoSelectorBuilder builder()
}

+class PoSelectorBuilder {
  -PoSelectorBuilder()
  +PoSelector build()

  +PoSelectorBuilder cardProtocol(String cardProtocol)
  +PoSelectorBuilder atrFilter(AtrFilter atrFilter)
  +PoSelectorBuilder aidSelector(AidSelector aidSelector)

  +PoSelectorBuilder invalidatedPo(InvalidatedPo invalidatedPo)
}


+class PoSelectionRequest {
  +PoSelectionRequest(PoSelector poSelector)

  +<b>final</b> prepareSelectFile(byte[] path)
  +<b>final</b> prepareSelectFile(shord lid)
  +<b>final</b> prepareSelectFile(SelectControl selectControl)

  +<b>final</b> prepareReadRecordFile(byte sfi, int recordNumber)

  #CalypsoPo parse(SelectionResponse selectionResponse)
}

+class "<b>final</b> CardResource<CalypsoPo>" as PoResource {
}

    InvalidatedPo -left-+ PoSelector
    PoSelector +-up- "1+" PoSelectorBuilder : build <
    InvalidatedPo "0..1" -down-o "1" PoSelectorBuilder : set >

    PoSelectionRequest "1" o-up- "1" PoSelector
    PoSelectionRequest -down- CalypsoPo : selects >
    PoResource "1" *-up- "1" CalypsoPo
  }

  PoSelectorBuilder -left-|> CardSelectorBuilder : extends
  PoSelector -left-|> CardSelector : extends
  PoSelectionRequest -left-|> AbstractCardSelectionRequest : extends
  CalypsoPo -left-|> AbstractSmartCard : extends
  PoResource .left.|> CardResource_T : <<bind>>T::CalypsoPo

  CardSelectorBuilder <|-right- SamSelectorBuilder : extends
  CardSelector <|-right- SamSelector : extends
  AbstractCardSelectionRequest <|-right- SamSelectionRequest : extends
  AbstractSmartCard <|-right- CalypsoSam : extends
  CardResource_T <|.right. SamResource : <<bind>>T::CalypsoSam
}
@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>