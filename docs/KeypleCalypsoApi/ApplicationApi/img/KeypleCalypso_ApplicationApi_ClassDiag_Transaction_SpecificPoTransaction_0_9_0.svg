<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1039.2px" preserveAspectRatio="none" style="width:1305px;height:1039px;" version="1.1" viewBox="0 0 1305 1039" width="1305.6px" zoomAndPan="magnify"><defs><filter height="300%" id="ff7k81gslnzyp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.4"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.8" dy="4.8" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[474a687950c0c91cb5d6698c98d55883]
cluster org.keyple.calypso.transaction--><polygon fill="#FFFFFF" filter="url(#ff7k81gslnzyp)" points="26.4,28.8,290.4,28.8,298.8,57.1313,696,57.1313,696,1024.8,26.4,1024.8,26.4,28.8" style="stroke: #000000; stroke-width: 1.7999999999999998;"/><line style="stroke: #000000; stroke-width: 1.7999999999999998;" x1="26.4" x2="298.8" y1="57.1313" y2="57.1313"/><text fill="#000000" font-family="sans-serif" font-size="16.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="256.8" x="31.2" y="48.6398">org.keyple.calypso.transaction</text><!--MD5=[1e43b97e41e33c9d31d83f1ce9973d0d]
cluster ticketing.operator.specificdatamodel--><polygon fill="#FFFFFF" filter="url(#ff7k81gslnzyp)" points="756,54,1072.8,54,1081.2,82.3313,1279.2,82.3313,1279.2,925.2,756,925.2,756,54" style="stroke: #000000; stroke-width: 1.7999999999999998;"/><line style="stroke: #000000; stroke-width: 1.7999999999999998;" x1="756" x2="1081.2" y1="82.3313" y2="82.3313"/><text fill="#000000" font-family="sans-serif" font-size="16.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="309.6" x="760.8" y="73.8398">ticketing.operator.specificdatamodel</text><!--MD5=[eb197b32301e657fb343d0b6ac62ab90]
class PoSelectionRequest--><rect fill="#FEFECE" filter="url(#ff7k81gslnzyp)" height="207.0281" id="PoSelectionRequest" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="358.8" x="317.4" y="72"/><ellipse cx="417.3" cy="91.2" fill="#ADD1B2" rx="13.2" ry="13.2" style="stroke: #A80036; stroke-width: 1.2;"/><path d="M419.7,87 Q419.9437,86.4 420.225,86.1 Q420.5062,85.8 420.825,85.8 Q421.3875,85.8 421.7438,86.1375 Q422.1,86.475 422.1,87.2625 L422.1,89.1375 Q422.1,89.925 421.7625,90.2625 Q421.425,90.6 420.9,90.6 Q420.4313,90.6 420.1312,90.3938 Q419.8313,90.1875 419.7,89.6438 Q419.6438,89.2688 419.4375,89.0625 Q419.0625,88.6688 418.3875,88.4438 Q417.7125,88.2 417.0375,88.2 Q416.1937,88.2 415.4813,88.5375 Q414.7875,88.875 414.2438,89.625 Q413.7,90.375 413.7,91.4063 L413.7,92.5125 Q413.7,93.75 414.7125,94.575 Q415.725,95.4 417.525,95.4 Q418.5938,95.4 419.3438,95.1563 Q419.775,95.025 420.2625,94.5938 Q420.5813,94.35 420.75,94.275 Q420.9188,94.2 421.125,94.2 Q421.5188,94.2 421.8,94.5188 Q422.1,94.8188 422.1,95.25 Q422.1,95.6625 421.6875,96.15 Q421.0875,96.8625 420.1312,97.2563 Q418.875,97.8 417.3375,97.8 Q415.5375,97.8 414.0938,97.0875 Q412.9313,96.525 412.1063,95.3062 Q411.3,94.0875 411.3,92.6438 L411.3,91.3313 Q411.3,89.8313 412.0125,88.5188 Q412.7438,87.2063 414,86.5125 Q415.275,85.8 416.7,85.8 Q417.5625,85.8 418.3125,86.1 Q419.0625,86.4 419.7,87 Z "/><ellipse cx="447.9" cy="90.6" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="135.6" x="455.1" y="97.0922">PoSelectionRequest</text><line style="stroke: #A80036; stroke-width: 1.7999999999999998;" x1="318.6" x2="675" y1="110.4" y2="110.4"/><line style="stroke: #A80036; stroke-width: 1.7999999999999998;" x1="318.6" x2="675" y1="120" y2="120"/><ellipse cx="330.6" cy="133.2" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="253.2" x="341.4" y="138.5027">PoSelectionRequest(PoSelector seSelector)</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="0" x="345" y="155.1059"/><ellipse cx="330.6" cy="166.4063" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="341.4" y="171.709">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="171.6" x="372.6" y="171.709">prepareSelectFile(byte[] path)</text><ellipse cx="330.6" cy="183.0094" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="341.4" y="188.3121">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="159.6" x="372.6" y="188.3121">prepareSelectFile(shord lid)</text><ellipse cx="330.6" cy="199.6125" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="341.4" y="204.9152">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="266.4" x="372.6" y="204.9152">prepareSelectFile(SelectControl selectControl)</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="0" x="345" y="221.5184"/><ellipse cx="330.6" cy="232.8188" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="341.4" y="238.1215">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="296.4" x="372.6" y="238.1215">prepareReadRecordFile(byte sfi, int recordNumber)</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="0" x="345" y="254.7246"/><polygon fill="#FFFF44" points="330.6,260.025,335.4,264.825,330.6,269.625,325.8,264.825" style="stroke: #B38D22; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="259.2" x="341.4" y="271.3277">CalypsoPo parse(SeResponse seResponse)</text><!--MD5=[346f733d3079e77ece8ec0605238a57f]
class CalypsoPo--><rect fill="#FEFECE" filter="url(#ff7k81gslnzyp)" height="157.2188" id="CalypsoPo" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="290.4" x="351.6" y="352.8"/><ellipse cx="449.1" cy="372" fill="#ADD1B2" rx="13.2" ry="13.2" style="stroke: #A80036; stroke-width: 1.2;"/><path d="M451.5,367.8 Q451.7438,367.2 452.025,366.9 Q452.3063,366.6 452.625,366.6 Q453.1875,366.6 453.5438,366.9375 Q453.9,367.275 453.9,368.0625 L453.9,369.9375 Q453.9,370.725 453.5625,371.0625 Q453.225,371.4 452.7,371.4 Q452.2313,371.4 451.9313,371.1937 Q451.6312,370.9875 451.5,370.4437 Q451.4437,370.0687 451.2375,369.8625 Q450.8625,369.4688 450.1875,369.2438 Q449.5125,369 448.8375,369 Q447.9938,369 447.2813,369.3375 Q446.5875,369.675 446.0438,370.425 Q445.5,371.175 445.5,372.2063 L445.5,373.3125 Q445.5,374.55 446.5125,375.375 Q447.525,376.2 449.325,376.2 Q450.3938,376.2 451.1438,375.9563 Q451.575,375.825 452.0625,375.3938 Q452.3812,375.15 452.55,375.075 Q452.7188,375 452.925,375 Q453.3187,375 453.6,375.3187 Q453.9,375.6188 453.9,376.05 Q453.9,376.4625 453.4875,376.95 Q452.8875,377.6625 451.9313,378.0563 Q450.675,378.6 449.1375,378.6 Q447.3375,378.6 445.8938,377.8875 Q444.7313,377.325 443.9063,376.1063 Q443.1,374.8875 443.1,373.4437 L443.1,372.1312 Q443.1,370.6312 443.8125,369.3187 Q444.5438,368.0062 445.8,367.3125 Q447.075,366.6 448.5,366.6 Q449.3625,366.6 450.1125,366.9 Q450.8625,367.2 451.5,367.8 Z "/><ellipse cx="479.7" cy="371.4" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="72" x="486.9" y="377.8922">CalypsoPo</text><line style="stroke: #A80036; stroke-width: 1.7999999999999998;" x1="352.8" x2="640.8" y1="391.2" y2="391.2"/><line style="stroke: #A80036; stroke-width: 1.7999999999999998;" x1="352.8" x2="640.8" y1="400.8" y2="400.8"/><polygon fill="#4177AF" points="364.8,409.2,360,416.4,369.6,416.4" style="stroke: #1963A0; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="66" x="375.6" y="419.3027">CalypsoPo(</text><text fill="#FF0000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="188.4" x="441.6" y="419.3027">SeResponse selectionResponse</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="4.8" x="630" y="419.3027">)</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="0" x="379.2" y="435.9059"/><ellipse cx="364.8" cy="447.2063" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="375.6" y="452.509">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="220.8" x="406.8" y="452.509">DirectoryHeader getDirectoryHeader()</text><ellipse cx="364.8" cy="463.8094" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="375.6" y="469.1121">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="207.6" x="406.8" y="469.1121">ElementaryFile getFileBySfi(byte sfi)</text><ellipse cx="364.8" cy="480.4125" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="375.6" y="485.7152">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="211.2" x="406.8" y="485.7152">ElementaryFile getFileByLid(short lid)</text><ellipse cx="364.8" cy="497.0156" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="375.6" y="502.3184">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="226.8" x="406.8" y="502.3184">Map&lt;Byte, ElementaryFile&gt; getAllFiles()</text><!--MD5=[8eb5cec01ad571a9feeff1db4f73a667]
class PoTransaction--><rect fill="#FEFECE" filter="url(#ff7k81gslnzyp)" height="422.8688" id="PoTransaction" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="630" x="46.2" y="583.2"/><ellipse cx="301.5" cy="602.4" fill="#ADD1B2" rx="13.2" ry="13.2" style="stroke: #A80036; stroke-width: 1.2;"/><path d="M303.9,598.2 Q304.1438,597.6 304.425,597.3 Q304.7063,597 305.025,597 Q305.5875,597 305.9437,597.3375 Q306.3,597.675 306.3,598.4625 L306.3,600.3375 Q306.3,601.125 305.9625,601.4625 Q305.625,601.8 305.1,601.8 Q304.6312,601.8 304.3313,601.5938 Q304.0313,601.3875 303.9,600.8438 Q303.8438,600.4688 303.6375,600.2625 Q303.2625,599.8688 302.5875,599.6438 Q301.9125,599.4 301.2375,599.4 Q300.3938,599.4 299.6813,599.7375 Q298.9875,600.075 298.4437,600.825 Q297.9,601.575 297.9,602.6062 L297.9,603.7125 Q297.9,604.95 298.9125,605.775 Q299.925,606.6 301.725,606.6 Q302.7938,606.6 303.5438,606.3562 Q303.975,606.225 304.4625,605.7937 Q304.7813,605.55 304.95,605.475 Q305.1188,605.4 305.325,605.4 Q305.7188,605.4 306,605.7188 Q306.3,606.0188 306.3,606.45 Q306.3,606.8625 305.8875,607.35 Q305.2875,608.0625 304.3313,608.4563 Q303.075,609 301.5375,609 Q299.7375,609 298.2938,608.2875 Q297.1312,607.725 296.3063,606.5063 Q295.5,605.2875 295.5,603.8438 L295.5,602.5313 Q295.5,601.0313 296.2125,599.7188 Q296.9437,598.4063 298.2,597.7125 Q299.475,597 300.9,597 Q301.7625,597 302.5125,597.3 Q303.2625,597.6 303.9,598.2 Z "/><ellipse cx="332.1" cy="601.8" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="96" x="339.3" y="608.2922">PoTransaction</text><line style="stroke: #A80036; stroke-width: 1.7999999999999998;" x1="47.4" x2="675" y1="621.6" y2="621.6"/><line style="stroke: #A80036; stroke-width: 1.7999999999999998;" x1="47.4" x2="675" y1="631.2" y2="631.2"/><ellipse cx="59.4" cy="644.4" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="542.4" x="70.2" y="649.7027">PoTransaction(SeResource&lt;CalypsoPo&gt; poResource, PoSecuritySetting[0..1] securitySetting)</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="0" x="73.8" y="666.3059"/><ellipse cx="59.4" cy="677.6062" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="70.2" y="682.909">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="156" x="101.4" y="682.909">prepareSelectFile(short lid)</text><ellipse cx="59.4" cy="694.2094" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="70.2" y="699.5121">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="158.4" x="101.4" y="699.5121">prepareSelectFile(byte[] lid)</text><ellipse cx="59.4" cy="710.8125" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="70.2" y="716.1152">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="249.6" x="101.4" y="716.1152">prepareSelectFile(SelectFileControl control)</text><ellipse cx="59.4" cy="727.4156" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="70.2" y="732.7184">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="296.4" x="101.4" y="732.7184">prepareReadRecordFile(byte sfi, int recordNumber)</text><ellipse cx="59.4" cy="744.0188" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="70.2" y="749.3215">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="546" x="101.4" y="749.3215">prepareReadRecordFile(byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize))</text><ellipse cx="59.4" cy="760.6219" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="70.2" y="765.9246">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="567.6" x="101.4" y="765.9246">prepareReadSubRecordFile(byte sfi, int firstRecordNumber, int numberOfRecord, int recordOffset,</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="99.6" x="70.2" y="782.5277">int recordLength)</text><ellipse cx="59.4" cy="793.8281" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="70.2" y="799.1309">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="388.8" x="101.4" y="799.1309">prepareReadBinaryFile(byte sfi, int dataLength, int[0..1] dataOffset)</text><ellipse cx="59.4" cy="810.4313" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="70.2" y="815.734">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="313.2" x="101.4" y="815.734">prepareReadCounterFile(byte sfi, int countersNumber)</text><ellipse cx="59.4" cy="827.0344" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="70.2" y="832.3371">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="294" x="101.4" y="832.3371">prepareAppendRecord(byte sfi, byte[] recordData)</text><ellipse cx="59.4" cy="843.6375" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="70.2" y="848.9402">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="396" x="101.4" y="848.9402">prepareUpdateRecord(byte sfi, int recordNumber, byte[] recordData)</text><ellipse cx="59.4" cy="860.2406" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="70.2" y="865.5434">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="385.2" x="101.4" y="865.5434">prepareWriteRecord(byte sfi, int recordNumber, byte[] recordData)</text><ellipse cx="59.4" cy="876.8438" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="70.2" y="882.1465">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="397.2" x="101.4" y="882.1465">prepareUpdateBinaryFile(byte sfi, byte[] fileData, int[0..1] dataOffset)</text><ellipse cx="59.4" cy="893.4469" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="70.2" y="898.7496">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="386.4" x="101.4" y="898.7496">prepareWriteBinaryFile(byte sfi, byte[] fileData, int[0..1] dataOffset)</text><ellipse cx="59.4" cy="910.05" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="70.2" y="915.3527">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="381.6" x="101.4" y="915.3527">prepareIncreaseCounter(byte sfi, int counterNumber, int incValue)</text><ellipse cx="59.4" cy="926.6531" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="70.2" y="931.9559">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="392.4" x="101.4" y="931.9559">prepareDecreaseCounter(byte sfi, int counterNumber, int decValue)</text><ellipse cx="59.4" cy="943.2562" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="70.2" y="948.559">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="360" x="101.4" y="948.559">prepareSetCounter(byte sfi, int counterNumber, int newValue)</text><ellipse cx="59.4" cy="959.8594" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="70.2" y="965.1621">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="566.4" x="101.4" y="965.1621">int prepareSearchRecord(byte sfi, byte offset, SearchOffsetMode offsetMode, byte[] searchData,</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="284.4" x="70.2" y="981.7652">Byte[] searchMask, SearchReadMode readMode)</text><ellipse cx="59.4" cy="993.0656" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="70.2" y="998.3684">final</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="279.6" x="101.4" y="998.3684">int[] getSearchResult(int searchRequestNumber)</text><!--MD5=[9b7ae8158f40ace65c44bed90d159e67]
class SpecificPoSelectionRequest--><rect fill="#FEFECE" filter="url(#ff7k81gslnzyp)" height="157.2188" id="SpecificPoSelectionRequest" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="337.2" x="775.8" y="97.2"/><ellipse cx="823.5" cy="116.4" fill="#ADD1B2" rx="13.2" ry="13.2" style="stroke: #A80036; stroke-width: 1.2;"/><path d="M825.9,112.2 Q826.1438,111.6 826.425,111.3 Q826.7063,111 827.025,111 Q827.5875,111 827.9438,111.3375 Q828.3,111.675 828.3,112.4625 L828.3,114.3375 Q828.3,115.125 827.9625,115.4625 Q827.625,115.8 827.1,115.8 Q826.6313,115.8 826.3313,115.5938 Q826.0313,115.3875 825.9,114.8438 Q825.8438,114.4688 825.6375,114.2625 Q825.2625,113.8687 824.5875,113.6438 Q823.9125,113.4 823.2375,113.4 Q822.3938,113.4 821.6813,113.7375 Q820.9875,114.075 820.4438,114.825 Q819.9,115.575 819.9,116.6062 L819.9,117.7125 Q819.9,118.95 820.9125,119.775 Q821.925,120.6 823.725,120.6 Q824.7937,120.6 825.5437,120.3562 Q825.975,120.225 826.4625,119.7937 Q826.7813,119.55 826.95,119.475 Q827.1188,119.4 827.325,119.4 Q827.7188,119.4 828,119.7188 Q828.3,120.0188 828.3,120.45 Q828.3,120.8625 827.8875,121.35 Q827.2875,122.0625 826.3313,122.4563 Q825.075,123 823.5375,123 Q821.7375,123 820.2937,122.2875 Q819.1313,121.725 818.3063,120.5063 Q817.5,119.2875 817.5,117.8438 L817.5,116.5313 Q817.5,115.0313 818.2125,113.7188 Q818.9438,112.4063 820.2,111.7125 Q821.475,111 822.9,111 Q823.7625,111 824.5125,111.3 Q825.2625,111.6 825.9,112.2 Z "/><ellipse cx="852.9" cy="115.8" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="14.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28.8" x="860.1" y="122.2922">final</text><text fill="#000000" font-family="sans-serif" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="187.2" x="892.5" y="122.2922">SpecificPoSelectionRequest</text><line style="stroke: #A80036; stroke-width: 1.7999999999999998;" x1="777" x2="1111.8" y1="135.6" y2="135.6"/><line style="stroke: #A80036; stroke-width: 1.7999999999999998;" x1="777" x2="1111.8" y1="145.2" y2="145.2"/><ellipse cx="789" cy="158.4" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="300" x="799.8" y="163.7027">SpecificPoSelectionRequest(PoSelector seSelector)</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="0" x="803.4" y="180.3059"/><ellipse cx="789" cy="191.6063" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="156" x="799.8" y="196.909">prepareReadEnvironment()</text><ellipse cx="789" cy="208.2094" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="139.2" x="799.8" y="213.5121">prepareReadEventLog()</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="0" x="803.4" y="230.1152"/><polygon fill="#FFFF44" points="789,235.4156,793.8,240.2156,789,245.0156,784.2,240.2156" style="stroke: #B38D22; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="306" x="799.8" y="246.7184">SpecificCalypsoPo parse(SeResponse seResponse)</text><!--MD5=[9cd941d1d1bfacbc1887d23a34d90451]
class SpecificCalypsoPo--><rect fill="#FEFECE" filter="url(#ff7k81gslnzyp)" height="124.0125" id="SpecificCalypsoPo" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="207.6" x="840.6" y="369.6"/><ellipse cx="858.6" cy="388.8" fill="#ADD1B2" rx="13.2" ry="13.2" style="stroke: #A80036; stroke-width: 1.2;"/><path d="M861,384.6 Q861.2438,384 861.525,383.7 Q861.8063,383.4 862.125,383.4 Q862.6875,383.4 863.0437,383.7375 Q863.4,384.075 863.4,384.8625 L863.4,386.7375 Q863.4,387.525 863.0625,387.8625 Q862.725,388.2 862.2,388.2 Q861.7312,388.2 861.4313,387.9938 Q861.1313,387.7875 861,387.2438 Q860.9438,386.8688 860.7375,386.6625 Q860.3625,386.2688 859.6875,386.0438 Q859.0125,385.8 858.3375,385.8 Q857.4938,385.8 856.7813,386.1375 Q856.0875,386.475 855.5437,387.225 Q855,387.975 855,389.0062 L855,390.1125 Q855,391.35 856.0125,392.175 Q857.025,393 858.825,393 Q859.8938,393 860.6438,392.7562 Q861.075,392.625 861.5625,392.1937 Q861.8813,391.95 862.05,391.875 Q862.2188,391.8 862.425,391.8 Q862.8188,391.8 863.1,392.1188 Q863.4,392.4188 863.4,392.85 Q863.4,393.2625 862.9875,393.75 Q862.3875,394.4625 861.4313,394.8563 Q860.175,395.4 858.6375,395.4 Q856.8375,395.4 855.3938,394.6875 Q854.2312,394.125 853.4063,392.9063 Q852.6,391.6875 852.6,390.2438 L852.6,388.9313 Q852.6,387.4313 853.3125,386.1188 Q854.0437,384.8063 855.3,384.1125 Q856.575,383.4 858,383.4 Q858.8625,383.4 859.6125,383.7 Q860.3625,384 861,384.6 Z "/><ellipse cx="881.4" cy="388.2" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="14.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28.8" x="888.6" y="394.6922">final</text><text fill="#000000" font-family="sans-serif" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="123.6" x="921" y="394.6922">SpecificCalypsoPo</text><line style="stroke: #A80036; stroke-width: 1.7999999999999998;" x1="841.8" x2="1047" y1="408" y2="408"/><line style="stroke: #A80036; stroke-width: 1.7999999999999998;" x1="841.8" x2="1047" y1="417.6" y2="417.6"/><ellipse cx="853.8" cy="430.8" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="135.6" x="864.6" y="436.1027">String getEnvironment()</text><ellipse cx="853.8" cy="447.4031" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="118.8" x="864.6" y="452.7059">String getEventLog()</text><ellipse cx="853.8" cy="464.0062" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="136.8" x="864.6" y="469.309">String getContractTitle()</text><ellipse cx="853.8" cy="480.6094" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="136.8" x="864.6" y="485.9121">int getNumberOfTicket()</text><!--MD5=[b198eaf8374e8e32348ac0d58d8ca957]
class SpecificPoTransaction--><rect fill="#FEFECE" filter="url(#ff7k81gslnzyp)" height="223.6313" id="SpecificPoTransaction" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="483.6" x="775.8" y="682.8"/><ellipse cx="915.9" cy="702" fill="#ADD1B2" rx="13.2" ry="13.2" style="stroke: #A80036; stroke-width: 1.2;"/><path d="M918.3,697.8 Q918.5437,697.2 918.825,696.9 Q919.1062,696.6 919.425,696.6 Q919.9875,696.6 920.3438,696.9375 Q920.7,697.275 920.7,698.0625 L920.7,699.9375 Q920.7,700.725 920.3625,701.0625 Q920.025,701.4 919.5,701.4 Q919.0313,701.4 918.7312,701.1938 Q918.4313,700.9875 918.3,700.4438 Q918.2438,700.0688 918.0375,699.8625 Q917.6625,699.4688 916.9875,699.2438 Q916.3125,699 915.6375,699 Q914.7937,699 914.0813,699.3375 Q913.3875,699.675 912.8438,700.425 Q912.3,701.175 912.3,702.2063 L912.3,703.3125 Q912.3,704.55 913.3125,705.375 Q914.325,706.2 916.125,706.2 Q917.1938,706.2 917.9438,705.9563 Q918.375,705.825 918.8625,705.3938 Q919.1813,705.15 919.35,705.075 Q919.5188,705 919.725,705 Q920.1188,705 920.4,705.3188 Q920.7,705.6188 920.7,706.05 Q920.7,706.4625 920.2875,706.95 Q919.6875,707.6625 918.7312,708.0563 Q917.475,708.6 915.9375,708.6 Q914.1375,708.6 912.6938,707.8875 Q911.5313,707.325 910.7063,706.1062 Q909.9,704.8875 909.9,703.4438 L909.9,702.1313 Q909.9,700.6313 910.6125,699.3188 Q911.3438,698.0063 912.6,697.3125 Q913.875,696.6 915.3,696.6 Q916.1625,696.6 916.9125,696.9 Q917.6625,697.2 918.3,697.8 Z "/><ellipse cx="946.5" cy="701.4" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="14.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28.8" x="953.7" y="707.8922">final</text><text fill="#000000" font-family="sans-serif" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="147.6" x="986.1" y="707.8922">SpecificPoTransaction</text><line style="stroke: #A80036; stroke-width: 1.7999999999999998;" x1="777" x2="1258.2" y1="721.2" y2="721.2"/><line style="stroke: #A80036; stroke-width: 1.7999999999999998;" x1="777" x2="1258.2" y1="730.8" y2="730.8"/><ellipse cx="789" cy="744" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="452.4" x="799.8" y="749.3027">SpecificPoTransaction(SeResource&lt;SpecificCalypsoPo&gt; specificPoResource,</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="225.6" x="799.8" y="765.9059">PoSecuritySetting[0..1] securitySetting)</text><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="0" x="803.4" y="782.509"/><ellipse cx="789" cy="793.8094" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="156" x="799.8" y="799.1121">prepareReadEnvironment()</text><ellipse cx="789" cy="810.4125" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="294" x="799.8" y="815.7152">preparePersoEnvironment(String environmentData)</text><ellipse cx="789" cy="827.0156" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="139.2" x="799.8" y="832.3184">prepareReadEventLog()</text><ellipse cx="789" cy="843.6188" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="246" x="799.8" y="848.9215">prepareUpdateEventLog(String eventData)</text><ellipse cx="789" cy="860.2219" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="134.4" x="799.8" y="865.5246">prepareReadContract()</text><ellipse cx="789" cy="876.825" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="363.6" x="799.8" y="882.1277">prepareLoadContract(String contractTitle, int numberOfTickets)</text><ellipse cx="789" cy="893.4281" fill="#84BE84" rx="3.6" ry="3.6" style="stroke: #038048; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacingAndGlyphs" textLength="348" x="799.8" y="898.7309">prepareDebitTicket(String contractTitle, int numberOfTickets)</text><!--MD5=[315c59765b6a4685fded372235c6d6fb]
link PoSelectionRequest to CalypsoPo--><path d="M496.8,279.6216 C496.8,304.0224 496.8,329.6556 496.8,352.7172 " fill="none" id="PoSelectionRequest-CalypsoPo" style="stroke: #A80036; stroke-width: 1.2;"/><!--MD5=[25d3cfe9edc00109a0ce2b8ef14c445c]
link CalypsoPo to PoTransaction--><path d="M467.544,510.4008 C459.2904,532.3476 449.8968,557.328 440.1888,583.146 " fill="none" id="CalypsoPo-PoTransaction" style="stroke: #A80036; stroke-width: 1.2;"/><!--MD5=[fe6609bd0e38456f13eee3fd406aac7a]
link SpecificPoSelectionRequest to SpecificCalypsoPo--><path d="M944.4,254.6892 C944.4,291.6132 944.4,335.0964 944.4,369.5436 " fill="none" id="SpecificPoSelectionRequest-SpecificCalypsoPo" style="stroke: #A80036; stroke-width: 1.2;"/><!--MD5=[e52694d84b277162e45dd0ce3dbc8e29]
link SpecificCalypsoPo to SpecificPoTransaction--><path d="M956.7348,493.3632 C967.206,544.9476 982.5012,620.292 995.1384,682.5468 " fill="none" id="SpecificCalypsoPo-SpecificPoTransaction" style="stroke: #A80036; stroke-width: 1.2;"/><!--MD5=[1c2324d475dfffc25787d4720225dd9c]
reverse link PoSelectionRequest to SpecificPoSelectionRequest--><path d="M700.3236,175.8 C725.5596,175.8 751.1424,175.8 775.7748,175.8 " fill="none" id="PoSelectionRequest&lt;-SpecificPoSelectionRequest" style="stroke: #A80036; stroke-width: 1.2;"/><polygon fill="none" points="700.2768,184.2,676.2768,175.8,700.2768,167.4,700.2768,184.2" style="stroke: #A80036; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="55.2" x="698.4" y="167.9941">extends</text><!--MD5=[75d56046215faa35d9412b496ca23db9]
reverse link CalypsoPo to SpecificCalypsoPo--><path d="M666.4176,431.4 C724.9848,431.4 788.8212,431.4 840.5328,431.4 " fill="none" id="CalypsoPo&lt;-SpecificCalypsoPo" style="stroke: #A80036; stroke-width: 1.2;"/><polygon fill="none" points="666.1224,439.8,642.1224,431.4,666.1224,423,666.1224,439.8" style="stroke: #A80036; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="55.2" x="713.7" y="423.5941">extends</text><!--MD5=[d5e315ab13396d323cd24097eff0269c]
reverse link PoTransaction to SpecificPoTransaction--><path d="M700.6764,794.4 C725.9664,794.4 751.1664,794.4 775.6764,794.4 " fill="none" id="PoTransaction&lt;-SpecificPoTransaction" style="stroke: #A80036; stroke-width: 1.2;"/><polygon fill="none" points="700.422,802.8,676.422,794.4,700.422,786,700.422,802.8" style="stroke: #A80036; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="55.2" x="698.4" y="786.5941">extends</text><!--MD5=[742948e400a8f1d05bd0332f9d2748e7]
@startuml
package org.keyple.calypso.transaction #FFFFFF {

+class PoSelectionRequest {
  +PoSelectionRequest(PoSelector seSelector)

  +<b>final</b> prepareSelectFile(byte[] path)
  +<b>final</b> prepareSelectFile(shord lid)
  +<b>final</b> prepareSelectFile(SelectControl selectControl)

  +<b>final</b> prepareReadRecordFile(byte sfi, int recordNumber)

  #CalypsoPo parse(SeResponse seResponse)
}

+class CalypsoPo {
  ~CalypsoPo(<color:red>SeResponse selectionResponse</color>)

  +<b>final</b> DirectoryHeader getDirectoryHeader()
  +<b>final</b> ElementaryFile getFileBySfi(byte sfi)
  +<b>final</b> ElementaryFile getFileByLid(short lid)
  +<b>final</b> Map<Byte, ElementaryFile> getAllFiles()
}

+class PoTransaction {
  +PoTransaction(SeResource<CalypsoPo> poResource, PoSecuritySetting[0..1] securitySetting)

  +<b>final</b> prepareSelectFile(short lid)
  +<b>final</b> prepareSelectFile(byte[] lid)
  +<b>final</b> prepareSelectFile(SelectFileControl control)
  +<b>final</b> prepareReadRecordFile(byte sfi, int recordNumber)
  +<b>final</b> prepareReadRecordFile(byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize))
  +<b>final</b> prepareReadSubRecordFile(byte sfi, int firstRecordNumber, int numberOfRecord, int recordOffset,
    int recordLength)
  +<b>final</b> prepareReadBinaryFile(byte sfi, int dataLength, int[0..1] dataOffset)
  +<b>final</b> prepareReadCounterFile(byte sfi, int countersNumber)
  +<b>final</b> prepareAppendRecord(byte sfi, byte[] recordData)
  +<b>final</b> prepareUpdateRecord(byte sfi, int recordNumber, byte[] recordData)
  +<b>final</b> prepareWriteRecord(byte sfi, int recordNumber, byte[] recordData)
  +<b>final</b> prepareUpdateBinaryFile(byte sfi, byte[] fileData, int[0..1] dataOffset)
  +<b>final</b> prepareWriteBinaryFile(byte sfi, byte[] fileData, int[0..1] dataOffset)
  +<b>final</b> prepareIncreaseCounter(byte sfi, int counterNumber, int incValue)
  +<b>final</b> prepareDecreaseCounter(byte sfi, int counterNumber, int decValue)
  +<b>final</b> prepareSetCounter(byte sfi, int counterNumber, int newValue)
  +<b>final</b> int prepareSearchRecord(byte sfi, byte offset, SearchOffsetMode offsetMode, byte[] searchData,
    Byte[] searchMask, SearchReadMode readMode)
  +<b>final</b> int[] getSearchResult(int searchRequestNumber)
}

PoSelectionRequest -down- CalypsoPo
CalypsoPo -down- PoTransaction
}

package ticketing.operator.specificdatamodel #FFFFFF {

+class "<b>final</b> SpecificPoSelectionRequest" as SpecificPoSelectionRequest {
  +SpecificPoSelectionRequest(PoSelector seSelector)

  +prepareReadEnvironment()
  +prepareReadEventLog()

  #SpecificCalypsoPo parse(SeResponse seResponse)
}

+class "<b>final</b> SpecificCalypsoPo" as SpecificCalypsoPo {
  +String getEnvironment()
  +String getEventLog()
  +String getContractTitle()
  +int getNumberOfTicket()
}

+class "<b>final</b> SpecificPoTransaction" as SpecificPoTransaction {
  +SpecificPoTransaction(SeResource<SpecificCalypsoPo> specificPoResource,
    PoSecuritySetting[0..1] securitySetting)

  +prepareReadEnvironment()
  +preparePersoEnvironment(String environmentData)
  +prepareReadEventLog()
  +prepareUpdateEventLog(String eventData)
  +prepareReadContract()
  +prepareLoadContract(String contractTitle, int numberOfTickets)
  +prepareDebitTicket(String contractTitle, int numberOfTickets)
}

SpecificPoSelectionRequest -down- SpecificCalypsoPo
SpecificCalypsoPo -down- SpecificPoTransaction
}

PoSelectionRequest <|-right- SpecificPoSelectionRequest : extends
CalypsoPo <|-right- SpecificCalypsoPo : extends
PoTransaction <|-right- SpecificPoTransaction : extends
@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>