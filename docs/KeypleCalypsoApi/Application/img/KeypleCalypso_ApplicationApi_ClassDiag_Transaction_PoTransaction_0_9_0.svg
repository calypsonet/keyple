<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1991px" preserveAspectRatio="none" style="width:1214px;height:1991px;" version="1.1" viewBox="0 0 1214 1991" width="1214px" zoomAndPan="magnify"><defs/><g><!--MD5=[a0ee729f83dda31870600cae83338b00]
cluster org.keyple.calypso--><polygon fill="#FFFFFF" points="22,24,159,24,166,47.6094,1192,47.6094,1192,1979,22,1979,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="166" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="131" x="26" y="40.5332">org.keyple.calypso</text><!--MD5=[f9c58d90839a0c7c212d8c6553ac9eb7]
cluster transaction--><polygon fill="#FFFFFF" points="46,68,131,68,138,91.6094,1168,91.6094,1168,1826,46,1826,46,68" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="138" y1="91.6094" y2="91.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79" x="50" y="84.5332">transaction</text><!--MD5=[858307e347215d8034d295bce1f15f07]
class SelectFileControl--><rect fill="#FEFECE" height="89.5078" id="SelectFileControl" style="stroke: #D4AC0D; stroke-width: 1.5;" width="137" x="889.5" y="1873"/><ellipse cx="904.5" cy="1889" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M903,1890 L903,1892 L907,1892 L907,1891 L907,1890.5156 L907.625,1890 L908,1890 L908.375,1890 L909,1890.5156 L909,1891 L909,1894 L901,1894 L900.5156,1894 L900,1893.375 L900,1893 L900,1892.625 L900.5156,1892 L901,1892 L901,1892 L901,1886 L901,1886 L900.5156,1886 L900,1885.375 L900,1885 L900,1884.625 L900.5156,1884 L901,1884 L909,1884 L909,1887 L909,1887.4844 L908.375,1888 L908,1888 L907.625,1888 L907,1887.4844 L907,1887 L907,1886 L903,1886 L903,1888 L904,1888 L904,1887.5156 L904,1887.5156 L904.625,1887 L905,1887 L905.375,1887 L906,1887.5156 L906,1888 L906,1890 L906,1890.4844 L905.375,1891 L905.375,1891 L905,1891 L904.625,1891 L904,1890.4844 L904,1890.4844 L904,1890 L903,1890 Z "/><ellipse cx="923.5" cy="1888.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="929.5" y="1893.9102">SelectFileControl</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="890.5" x2="1025.5" y1="1905" y2="1905"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="895.5" y="1920.4189">FIRST_EF,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="895.5" y="1934.2549">NEXT_EF,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="895.5" y="1948.0908">CURRENT_DF</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="890.5" x2="1025.5" y1="1954.5078" y2="1954.5078"/><!--MD5=[4ea882bf7bd4263b7e27aeb216026ca4]
class PoSecuritySettingBuilder--><rect fill="#FEFECE" height="297.0469" id="PoSecuritySettingBuilder" style="stroke: #D4AC0D; stroke-width: 1.5;" width="486" x="197" y="104"/><ellipse cx="333.25" cy="120" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M335.25,116.5 Q335.4531,116 335.6875,115.75 Q335.9219,115.5 336.1875,115.5 Q336.6563,115.5 336.9531,115.7813 Q337.25,116.0625 337.25,116.7188 L337.25,118.2813 Q337.25,118.9375 336.9688,119.2188 Q336.6875,119.5 336.25,119.5 Q335.8594,119.5 335.6094,119.3281 Q335.3594,119.1563 335.25,118.7031 Q335.2031,118.3906 335.0313,118.2188 Q334.7188,117.8906 334.1563,117.7031 Q333.5938,117.5 333.0313,117.5 Q332.3281,117.5 331.7344,117.7813 Q331.1563,118.0625 330.7031,118.6875 Q330.25,119.3125 330.25,120.1719 L330.25,121.0938 Q330.25,122.125 331.0938,122.8125 Q331.9375,123.5 333.4375,123.5 Q334.3281,123.5 334.9531,123.2969 Q335.3125,123.1875 335.7188,122.8281 Q335.9844,122.625 336.125,122.5625 Q336.2656,122.5 336.4375,122.5 Q336.7656,122.5 337,122.7656 Q337.25,123.0156 337.25,123.375 Q337.25,123.7188 336.9063,124.125 Q336.4063,124.7188 335.6094,125.0469 Q334.5625,125.5 333.2813,125.5 Q331.7813,125.5 330.5781,124.9063 Q329.6094,124.4375 328.9219,123.4219 Q328.25,122.4063 328.25,121.2031 L328.25,120.1094 Q328.25,118.8594 328.8438,117.7656 Q329.4531,116.6719 330.5,116.0938 Q331.5625,115.5 332.75,115.5 Q333.4688,115.5 334.0938,115.75 Q334.7188,116 335.25,116.5 Z "/><ellipse cx="358.75" cy="119.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="29" x="364.75" y="124.9102">static</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="396.75" y="124.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="135" x="423.75" y="124.9102">PoSecuritySettingBuilder</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="198" x2="682" y1="136" y2="136"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="205" y="144"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="225" x="217" y="151.4189">final SeResource&lt;CalypsoSam&gt; samResource</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="205" y="157.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="141" x="217" y="165.2549">List&lt;Byte&gt; authorizedKvcList</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="205" y="171.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="222" x="217" y="179.0908">final EnumMap&lt;AccessLevel, Byte&gt; defaultKif</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="205" y="185.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="217" y="192.9268">final EnumMap&lt;AccessLevel, Byte&gt; defaultKvc</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="205" y="199.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="300" x="217" y="206.7627">final EnumMap&lt;AccessLevel, Byte&gt; defaultKeyRecordNumber</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="258" x="217" y="220.5986">ModificationMode sessionModificationMode = ATOMIC</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="254" x="217" y="234.4346">RatificationMode ratificationMode = CLOSE_RATIFIED</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="198" x2="682" y1="240.8516" y2="240.8516"/><ellipse cx="208" cy="251.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="328" x="217" y="256.2705">PoSecuritySettingBuilder(SeResource&lt;CalypsoSam&gt; samResource)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="220" y="270.1064"/><ellipse cx="208" cy="279.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="457" x="217" y="283.9424">PoSecuritySettingBuilder sessionModificationMode(ModificationMode sessionModificationMode)</text><ellipse cx="208" cy="293.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="363" x="217" y="297.7783">PoSecuritySettingBuilder ratificationMode(RatificationMode ratificationMode)</text><ellipse cx="208" cy="307.1953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="424" x="217" y="311.6143">PoSecuritySettingBuilder sessionDefaultKif(AccessLevel sessionAccessLevel, byte kif)</text><ellipse cx="208" cy="321.0313" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="436" x="217" y="325.4502">PoSecuritySettingBuilder sessionDefaultKvc(AccessLevel sessionAccessLevel, byte kvc)</text><ellipse cx="208" cy="334.8672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="460" x="217" y="339.2861">PoSecuritySettingBuilder sessionDefaultKeyRecordNumber(AccessLevel sessionAccessLevel,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="217" y="353.1221">byte keyRecordNumber)</text><ellipse cx="208" cy="362.5391" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="397" x="217" y="366.958">PoSecuritySettingBuilder sessionAuthorizedKvcList(List&lt;Byte&gt; authorizedKvcList)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="220" y="380.7939"/><ellipse cx="208" cy="390.2109" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="217" y="394.6299">PoSecuritySetting build()</text><!--MD5=[e4d4ea7db949ad9d239210033b878e09]
class PoSecuritySetting--><rect fill="#FEFECE" height="227.8672" id="PoSecuritySetting" style="stroke: #D4AC0D; stroke-width: 1.5;" width="327" x="288.5" y="479"/><ellipse cx="380.75" cy="495" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M382.75,491.5 Q382.9531,491 383.1875,490.75 Q383.4219,490.5 383.6875,490.5 Q384.1563,490.5 384.4531,490.7813 Q384.75,491.0625 384.75,491.7188 L384.75,493.2813 Q384.75,493.9375 384.4688,494.2188 Q384.1875,494.5 383.75,494.5 Q383.3594,494.5 383.1094,494.3281 Q382.8594,494.1563 382.75,493.7031 Q382.7031,493.3906 382.5313,493.2188 Q382.2188,492.8906 381.6563,492.7031 Q381.0938,492.5 380.5313,492.5 Q379.8281,492.5 379.2344,492.7813 Q378.6563,493.0625 378.2031,493.6875 Q377.75,494.3125 377.75,495.1719 L377.75,496.0938 Q377.75,497.125 378.5938,497.8125 Q379.4375,498.5 380.9375,498.5 Q381.8281,498.5 382.4531,498.2969 Q382.8125,498.1875 383.2188,497.8281 Q383.4844,497.625 383.625,497.5625 Q383.7656,497.5 383.9375,497.5 Q384.2656,497.5 384.5,497.7656 Q384.75,498.0156 384.75,498.375 Q384.75,498.7188 384.4063,499.125 Q383.9063,499.7188 383.1094,500.0469 Q382.0625,500.5 380.7813,500.5 Q379.2813,500.5 378.0781,499.9063 Q377.1094,499.4375 376.4219,498.4219 Q375.75,497.4063 375.75,496.2031 L375.75,495.1094 Q375.75,493.8594 376.3438,492.7656 Q376.9531,491.6719 378,491.0938 Q379.0625,490.5 380.25,490.5 Q380.9688,490.5 381.5938,490.75 Q382.2188,491 382.75,491.5 Z "/><ellipse cx="406.25" cy="494.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="412.25" y="499.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="439.25" y="499.9102">PoSecuritySetting</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="289.5" x2="614.5" y1="511" y2="511"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="289.5" x2="614.5" y1="519" y2="519"/><ellipse cx="299.5" cy="530" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="308.5" y="534.4189">PoSecuritySetting(SamResource samResource);</text><polygon fill="#FFFF44" points="299.5,538.8359,303.5,542.8359,299.5,546.8359,295.5,542.8359" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="231" x="308.5" y="548.2549">ModificationMode getSessionModificationMode()</text><polygon fill="#FFFF44" points="299.5,552.6719,303.5,556.6719,299.5,560.6719,295.5,556.6719" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="223" x="308.5" y="562.0908">RatificationMode getSessionRatificationMode()</text><polygon fill="#FFFF44" points="299.5,566.5078,303.5,570.5078,299.5,574.5078,295.5,570.5078" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="223" x="308.5" y="575.9268">Byte getSessionDefaultKif(AccessLevel level)</text><polygon fill="#FFFF44" points="299.5,580.3438,303.5,584.3438,299.5,588.3438,295.5,584.3438" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="308.5" y="589.7627">Byte getSessionDefaultKvc(AccessLevel level)</text><polygon fill="#FFFF44" points="299.5,594.1797,303.5,598.1797,299.5,602.1797,295.5,598.1797" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="301" x="308.5" y="603.5986">Byte getSessionDefaultKeyRecordNumber(AccessLevel level)</text><polygon fill="#FFFF44" points="299.5,608.0156,303.5,612.0156,299.5,616.0156,295.5,612.0156" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="308.5" y="617.4346">Boolean isSessionKvcAuthorized(byte kvc)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="311.5" y="631.2705"/><polygon fill="#FFFF44" points="299.5,635.6875,303.5,639.6875,299.5,643.6875,295.5,639.6875" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="308.5" y="645.1064">PinTransmissionMode getPinTransmissionMode()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="311.5" y="658.9424"/><polygon fill="#FFFF44" points="299.5,663.3594,303.5,667.3594,299.5,671.3594,295.5,667.3594" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="308.5" y="672.7783">LogRead getSvGetLogReadMode()</text><polygon fill="#FFFF44" points="299.5,677.1953,303.5,681.1953,299.5,685.1953,295.5,681.1953" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="201" x="308.5" y="686.6143">NegativeBalance getSvNegativeBalance()</text><polygon fill="#FFFF44" points="299.5,691.0313,303.5,695.0313,299.5,699.0313,295.5,695.0313" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="308.5" y="700.4502">Boolean isSvKvcAuthorized(byte kvc)</text><path d="M718.5,198.5 L718.5,248.5 L683.149,252.5 L718.5,256.5 L718.5,306.6094 A0,0 0 0 0 718.5,306.6094 L1151.5,306.6094 A0,0 0 0 0 1151.5,306.6094 L1151.5,208.5 L1141.5,198.5 L718.5,198.5 A0,0 0 0 0 718.5,198.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1141.5,198.5 L1141.5,208.5 L1151.5,208.5 L1141.5,198.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="405" x="724.5" y="216.9951">Default values in PoTransaction if PoSecuritySetting doesn't specify it:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="732.5" y="233.3467">- session ModificationMode as ATOMIC</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="283" x="732.5" y="249.6982">- session RatificationMode as CLOSE_RATIFIED</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="360" x="732.5" y="266.0498">- PinTransmissionMode as ENCRYPTED if PoSecurity defined</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="210" x="732.5" y="282.4014">- any KIF/KVC values are authorized</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="404" x="732.5" y="298.7529">- no verification is done for: HCE token expiration, revoked PO or SAM</text><!--MD5=[e8e21ba3995782366e9aa9ad2c6b2d5f]
class PoResource--><rect fill="#FEFECE" height="75.6719" id="PoResource" style="stroke: #D4AC0D; stroke-width: 1.5;" width="191" x="62.5" y="555"/><ellipse cx="84.25" cy="571" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M86.25,567.5 Q86.4531,567 86.6875,566.75 Q86.9219,566.5 87.1875,566.5 Q87.6563,566.5 87.9531,566.7813 Q88.25,567.0625 88.25,567.7188 L88.25,569.2813 Q88.25,569.9375 87.9688,570.2188 Q87.6875,570.5 87.25,570.5 Q86.8594,570.5 86.6094,570.3281 Q86.3594,570.1563 86.25,569.7031 Q86.2031,569.3906 86.0313,569.2188 Q85.7188,568.8906 85.1563,568.7031 Q84.5938,568.5 84.0313,568.5 Q83.3281,568.5 82.7344,568.7813 Q82.1563,569.0625 81.7031,569.6875 Q81.25,570.3125 81.25,571.1719 L81.25,572.0938 Q81.25,573.125 82.0938,573.8125 Q82.9375,574.5 84.4375,574.5 Q85.3281,574.5 85.9531,574.2969 Q86.3125,574.1875 86.7188,573.8281 Q86.9844,573.625 87.125,573.5625 Q87.2656,573.5 87.4375,573.5 Q87.7656,573.5 88,573.7656 Q88.25,574.0156 88.25,574.375 Q88.25,574.7188 87.9063,575.125 Q87.4063,575.7188 86.6094,576.0469 Q85.5625,576.5 84.2813,576.5 Q82.7813,576.5 81.5781,575.9063 Q80.6094,575.4375 79.9219,574.4219 Q79.25,573.4063 79.25,572.2031 L79.25,571.1094 Q79.25,569.8594 79.8438,568.7656 Q80.4531,567.6719 81.5,567.0938 Q82.5625,566.5 83.75,566.5 Q84.4688,566.5 85.0938,566.75 Q85.7188,567 86.25,567.5 Z "/><ellipse cx="104.75" cy="570.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="110.75" y="575.9102">SeResource</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="62" x="194.5" y="552"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="195.5" y="565.457">CalypsoPo</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="63.5" x2="252.5" y1="587" y2="587"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="63.5" x2="252.5" y1="595" y2="595"/><ellipse cx="73.5" cy="606" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="82.5" y="610.4189">SeResource(</text><text fill="#FF0000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="146.5" y="610.4189">SeReader seReader</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="3" x="244.5" y="610.4189">,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="82.5" y="624.2549">CalypsoPo po);</text><!--MD5=[8eb5cec01ad571a9feeff1db4f73a667]
class PoTransaction--><rect fill="#FEFECE" height="601.4375" id="PoTransaction" style="stroke: #D4AC0D; stroke-width: 1.5;" width="611" x="216.5" y="768"/><ellipse cx="472.25" cy="784" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M474.25,780.5 Q474.4531,780 474.6875,779.75 Q474.9219,779.5 475.1875,779.5 Q475.6563,779.5 475.9531,779.7813 Q476.25,780.0625 476.25,780.7188 L476.25,782.2813 Q476.25,782.9375 475.9688,783.2188 Q475.6875,783.5 475.25,783.5 Q474.8594,783.5 474.6094,783.3281 Q474.3594,783.1563 474.25,782.7031 Q474.2031,782.3906 474.0313,782.2188 Q473.7188,781.8906 473.1563,781.7031 Q472.5938,781.5 472.0313,781.5 Q471.3281,781.5 470.7344,781.7813 Q470.1563,782.0625 469.7031,782.6875 Q469.25,783.3125 469.25,784.1719 L469.25,785.0938 Q469.25,786.125 470.0938,786.8125 Q470.9375,787.5 472.4375,787.5 Q473.3281,787.5 473.9531,787.2969 Q474.3125,787.1875 474.7188,786.8281 Q474.9844,786.625 475.125,786.5625 Q475.2656,786.5 475.4375,786.5 Q475.7656,786.5 476,786.7656 Q476.25,787.0156 476.25,787.375 Q476.25,787.7188 475.9063,788.125 Q475.4063,788.7188 474.6094,789.0469 Q473.5625,789.5 472.2813,789.5 Q470.7813,789.5 469.5781,788.9063 Q468.6094,788.4375 467.9219,787.4219 Q467.25,786.4063 467.25,785.2031 L467.25,784.1094 Q467.25,782.8594 467.8438,781.7656 Q468.4531,780.6719 469.5,780.0938 Q470.5625,779.5 471.75,779.5 Q472.4688,779.5 473.0938,779.75 Q473.7188,780 474.25,780.5 Z "/><ellipse cx="497.75" cy="783.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="503.75" y="788.9102">PoTransaction</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="217.5" x2="826.5" y1="800" y2="800"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="217.5" x2="826.5" y1="808" y2="808"/><ellipse cx="227.5" cy="819" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="388" x="236.5" y="823.4189">PoTransaction(PoResource poResource, PoSecuritySetting[0..1] securitySetting)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="239.5" y="837.2549"/><ellipse cx="227.5" cy="846.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="851.0908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="262.5" y="851.0908">prepareReleaseChannel()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="239.5" y="864.9268"/><ellipse cx="227.5" cy="874.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="878.7627">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="262.5" y="878.7627">processPoCommands()</text><ellipse cx="227.5" cy="888.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="892.5986">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="262.5" y="892.5986">processOpening(AccessLevel level)</text><ellipse cx="227.5" cy="902.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="906.4346">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="262.5" y="906.4346">processClosing()</text><ellipse cx="227.5" cy="915.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="920.2705">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="262.5" y="920.2705">processCancel()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="239.5" y="934.1064"/><ellipse cx="227.5" cy="943.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="947.9424">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="262.5" y="947.9424">prepareCheckPinStatus()</text><ellipse cx="227.5" cy="957.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="961.7783">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="262.5" y="961.7783">processVerifyPin(String pin)</text><ellipse cx="227.5" cy="971.1953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="975.6143">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="262.5" y="975.6143">processVerifyPin(byte[] pin)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="239.5" y="989.4502"/><ellipse cx="227.5" cy="998.8672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1003.2861">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="338" x="262.5" y="1003.2861">prepareSvGet(SvSetting.Operation operation, SvSetting.Action action)</text><ellipse cx="227.5" cy="1012.7031" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1017.1221">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="278" x="262.5" y="1017.1221">prepareSvReload(int amount, int date, int time, String free)</text><ellipse cx="227.5" cy="1026.5391" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1030.958">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="309" x="262.5" y="1030.958">prepareSvReload(int amount, byte[] date, byte[] time, byte[] free)</text><ellipse cx="227.5" cy="1040.375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1044.7939">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="141" x="262.5" y="1044.7939">prepareSvReload(int amount)</text><ellipse cx="227.5" cy="1054.2109" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1058.6299">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="212" x="262.5" y="1058.6299">prepareSvDebit(int amount, int date, int time)</text><ellipse cx="227.5" cy="1068.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1072.4658">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="244" x="262.5" y="1072.4658">prepareSvDebit(int amount, byte[] date, byte[] time)</text><ellipse cx="227.5" cy="1081.8828" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1086.3018">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="262.5" y="1086.3018">prepareSvDebit(int amount)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="239.5" y="1100.1377"/><ellipse cx="227.5" cy="1109.5547" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1113.9736">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="262.5" y="1113.9736">prepareSelectFile(short lid)</text><ellipse cx="227.5" cy="1123.3906" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1127.8096">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="262.5" y="1127.8096">prepareSelectFile(byte[] lid)</text><ellipse cx="227.5" cy="1137.2266" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1141.6455">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="208" x="262.5" y="1141.6455">prepareSelectFile(SelectFileControl control)</text><ellipse cx="227.5" cy="1151.0625" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1155.4814">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="247" x="262.5" y="1155.4814">prepareReadRecordFile(byte sfi, int recordNumber)</text><ellipse cx="227.5" cy="1164.8984" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1169.3174">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="455" x="262.5" y="1169.3174">prepareReadRecordFile(byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize))</text><ellipse cx="227.5" cy="1178.7344" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1183.1533">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="559" x="262.5" y="1183.1533">prepareReadSubRecordFile(byte sfi, int firstRecordNumber, int numberOfRecord, int recordOffset, int recordLength)</text><ellipse cx="227.5" cy="1192.5703" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1196.9893">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="324" x="262.5" y="1196.9893">prepareReadBinaryFile(byte sfi, int dataLength, int[0..1] dataOffset)</text><ellipse cx="227.5" cy="1206.4063" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1210.8252">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="261" x="262.5" y="1210.8252">prepareReadCounterFile(byte sfi, int countersNumber)</text><ellipse cx="227.5" cy="1220.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1224.6611">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="245" x="262.5" y="1224.6611">prepareAppendRecord(byte sfi, byte[] recordData)</text><ellipse cx="227.5" cy="1234.0781" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1238.4971">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="330" x="262.5" y="1238.4971">prepareUpdateRecord(byte sfi, int recordNumber, byte[] recordData)</text><ellipse cx="227.5" cy="1247.9141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1252.333">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="321" x="262.5" y="1252.333">prepareWriteRecord(byte sfi, int recordNumber, byte[] recordData)</text><ellipse cx="227.5" cy="1261.75" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1266.1689">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="331" x="262.5" y="1266.1689">prepareUpdateBinaryFile(byte sfi, byte[] fileData, int[0..1] dataOffset)</text><ellipse cx="227.5" cy="1275.5859" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1280.0049">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="322" x="262.5" y="1280.0049">prepareWriteBinaryFile(byte sfi, byte[] fileData, int[0..1] dataOffset)</text><ellipse cx="227.5" cy="1289.4219" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1293.8408">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="318" x="262.5" y="1293.8408">prepareIncreaseCounter(byte sfi, int counterNumber, int incValue)</text><ellipse cx="227.5" cy="1303.2578" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1307.6768">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="327" x="262.5" y="1307.6768">prepareDecreaseCounter(byte sfi, int counterNumber, int decValue)</text><ellipse cx="227.5" cy="1317.0938" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1321.5127">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="300" x="262.5" y="1321.5127">prepareSetCounter(byte sfi, int counterNumber, int newValue)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="239.5" y="1335.3486"/><ellipse cx="227.5" cy="1344.7656" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1349.1846">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="262.5" y="1349.1846">prepareInvalidate()</text><ellipse cx="227.5" cy="1358.6016" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1363.0205">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="262.5" y="1363.0205">prepareRehabilitate()</text><!--MD5=[2242c43c330acc437358859ea7f59776]
class SessionState--><rect fill="#FEFECE" height="89.5078" id="SessionState" style="stroke: #D4AC0D; stroke-width: 1.5;" width="125" x="459.5" y="1430"/><ellipse cx="478.1" cy="1446" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M476.6,1447 L476.6,1449 L480.6,1449 L480.6,1448 L480.6,1447.5156 L481.225,1447 L481.6,1447 L481.975,1447 L482.6,1447.5156 L482.6,1448 L482.6,1451 L474.6,1451 L474.1156,1451 L473.6,1450.375 L473.6,1450 L473.6,1449.625 L474.1156,1449 L474.6,1449 L474.6,1449 L474.6,1443 L474.6,1443 L474.1156,1443 L473.6,1442.375 L473.6,1442 L473.6,1441.625 L474.1156,1441 L474.6,1441 L482.6,1441 L482.6,1444 L482.6,1444.4844 L481.975,1445 L481.6,1445 L481.225,1445 L480.6,1444.4844 L480.6,1444 L480.6,1443 L476.6,1443 L476.6,1445 L477.6,1445 L477.6,1444.5156 L477.6,1444.5156 L478.225,1444 L478.6,1444 L478.975,1444 L479.6,1444.5156 L479.6,1445 L479.6,1447 L479.6,1447.4844 L478.975,1448 L478.975,1448 L478.6,1448 L478.225,1448 L477.6,1447.4844 L477.6,1447.4844 L477.6,1447 L476.6,1447 Z "/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="494.9" y="1442.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="503.9" y="1450.9102">SessionState</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="460.5" x2="583.5" y1="1462" y2="1462"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="465.5" y="1477.4189">SESSION_UNITIALIZED,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="465.5" y="1491.2549">SESSION_OPEN,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="465.5" y="1505.0908">SESSION_CLOSED</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="460.5" x2="583.5" y1="1511.5078" y2="1511.5078"/><!--MD5=[bf7a0c1c8b34ad25b46528e084cfcf9f]
class SessionSetting--><rect fill="#FEFECE" height="48" id="SessionSetting" style="stroke: #D4AC0D; stroke-width: 1.5;" width="154" x="620" y="1451"/><ellipse cx="635" cy="1467" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M637,1463.5 Q637.2031,1463 637.4375,1462.75 Q637.6719,1462.5 637.9375,1462.5 Q638.4063,1462.5 638.7031,1462.7813 Q639,1463.0625 639,1463.7188 L639,1465.2813 Q639,1465.9375 638.7188,1466.2188 Q638.4375,1466.5 638,1466.5 Q637.6094,1466.5 637.3594,1466.3281 Q637.1094,1466.1563 637,1465.7031 Q636.9531,1465.3906 636.7813,1465.2188 Q636.4688,1464.8906 635.9063,1464.7031 Q635.3438,1464.5 634.7813,1464.5 Q634.0781,1464.5 633.4844,1464.7813 Q632.9063,1465.0625 632.4531,1465.6875 Q632,1466.3125 632,1467.1719 L632,1468.0938 Q632,1469.125 632.8438,1469.8125 Q633.6875,1470.5 635.1875,1470.5 Q636.0781,1470.5 636.7031,1470.2969 Q637.0625,1470.1875 637.4688,1469.8281 Q637.7344,1469.625 637.875,1469.5625 Q638.0156,1469.5 638.1875,1469.5 Q638.5156,1469.5 638.75,1469.7656 Q639,1470.0156 639,1470.375 Q639,1470.7188 638.6563,1471.125 Q638.1563,1471.7188 637.3594,1472.0469 Q636.3125,1472.5 635.0313,1472.5 Q633.5313,1472.5 632.3281,1471.9063 Q631.3594,1471.4375 630.6719,1470.4219 Q630,1469.4063 630,1468.2031 L630,1467.1094 Q630,1465.8594 630.5938,1464.7656 Q631.2031,1463.6719 632.25,1463.0938 Q633.3125,1462.5 634.5,1462.5 Q635.2188,1462.5 635.8438,1462.75 Q636.4688,1463 637,1463.5 Z "/><ellipse cx="654" cy="1466.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="660" y="1471.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="687" y="1471.9102">SessionSetting</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="621" x2="773" y1="1483" y2="1483"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="621" x2="773" y1="1491" y2="1491"/><!--MD5=[45c40070d26b32101cf9b7ab72916b9e]
class AccessLevel--><rect fill="#FEFECE" height="89.5078" id="AccessLevel" style="stroke: #D4AC0D; stroke-width: 1.5;" width="223" x="791.5" y="1720"/><ellipse cx="858.75" cy="1736" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M857.25,1737 L857.25,1739 L861.25,1739 L861.25,1738 L861.25,1737.5156 L861.875,1737 L862.25,1737 L862.625,1737 L863.25,1737.5156 L863.25,1738 L863.25,1741 L855.25,1741 L854.7656,1741 L854.25,1740.375 L854.25,1740 L854.25,1739.625 L854.7656,1739 L855.25,1739 L855.25,1739 L855.25,1733 L855.25,1733 L854.7656,1733 L854.25,1732.375 L854.25,1732 L854.25,1731.625 L854.7656,1731 L855.25,1731 L863.25,1731 L863.25,1734 L863.25,1734.4844 L862.625,1735 L862.25,1735 L861.875,1735 L861.25,1734.4844 L861.25,1734 L861.25,1733 L857.25,1733 L857.25,1735 L858.25,1735 L858.25,1734.5156 L858.25,1734.5156 L858.875,1734 L859.25,1734 L859.625,1734 L860.25,1734.5156 L860.25,1735 L860.25,1737 L860.25,1737.4844 L859.625,1738 L859.625,1738 L859.25,1738 L858.875,1738 L858.25,1737.4844 L858.25,1737.4844 L858.25,1737 L857.25,1737 Z "/><ellipse cx="884.25" cy="1735.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="890.25" y="1740.9102">AccessLevel</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="792.5" x2="1013.5" y1="1752" y2="1752"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="792.5" x2="1013.5" y1="1760" y2="1760"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="211" x="797.5" y="1775.4189">SESSION_LVL_PERSO("perso", byte 0x01),</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="797.5" y="1789.2549">SESSION_LVL_LOAD("load", byte 0x02),</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="197" x="797.5" y="1803.0908">SESSION_LVL_DEBIT("debit", byte 0x03)</text><!--MD5=[e19a48d2c11a8f9a6a11f4ef9a7d8d18]
class ModificationMode--><rect fill="#FEFECE" height="75.6719" id="ModificationMode" style="stroke: #D4AC0D; stroke-width: 1.5;" width="138" x="665" y="1581"/><ellipse cx="680" cy="1597" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M678.5,1598 L678.5,1600 L682.5,1600 L682.5,1599 L682.5,1598.5156 L683.125,1598 L683.5,1598 L683.875,1598 L684.5,1598.5156 L684.5,1599 L684.5,1602 L676.5,1602 L676.0156,1602 L675.5,1601.375 L675.5,1601 L675.5,1600.625 L676.0156,1600 L676.5,1600 L676.5,1600 L676.5,1594 L676.5,1594 L676.0156,1594 L675.5,1593.375 L675.5,1593 L675.5,1592.625 L676.0156,1592 L676.5,1592 L684.5,1592 L684.5,1595 L684.5,1595.4844 L683.875,1596 L683.5,1596 L683.125,1596 L682.5,1595.4844 L682.5,1595 L682.5,1594 L678.5,1594 L678.5,1596 L679.5,1596 L679.5,1595.5156 L679.5,1595.5156 L680.125,1595 L680.5,1595 L680.875,1595 L681.5,1595.5156 L681.5,1596 L681.5,1598 L681.5,1598.4844 L680.875,1599 L680.875,1599 L680.5,1599 L680.125,1599 L679.5,1598.4844 L679.5,1598.4844 L679.5,1598 L678.5,1598 Z "/><ellipse cx="699" cy="1596.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95" x="705" y="1601.9102">ModificationMode</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="666" x2="802" y1="1613" y2="1613"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="42" x="671" y="1628.4189">ATOMIC,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="671" y="1642.2549">MULTIPLE</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="666" x2="802" y1="1648.6719" y2="1648.6719"/><!--MD5=[139c679d0f2db6318e7e57d2f6dd7d7b]
class RatificationMode--><rect fill="#FEFECE" height="75.6719" id="RatificationMode" style="stroke: #D4AC0D; stroke-width: 1.5;" width="134" x="496" y="1581"/><ellipse cx="511" cy="1597" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M509.5,1598 L509.5,1600 L513.5,1600 L513.5,1599 L513.5,1598.5156 L514.125,1598 L514.5,1598 L514.875,1598 L515.5,1598.5156 L515.5,1599 L515.5,1602 L507.5,1602 L507.0156,1602 L506.5,1601.375 L506.5,1601 L506.5,1600.625 L507.0156,1600 L507.5,1600 L507.5,1600 L507.5,1594 L507.5,1594 L507.0156,1594 L506.5,1593.375 L506.5,1593 L506.5,1592.625 L507.0156,1592 L507.5,1592 L515.5,1592 L515.5,1595 L515.5,1595.4844 L514.875,1596 L514.5,1596 L514.125,1596 L513.5,1595.4844 L513.5,1595 L513.5,1594 L509.5,1594 L509.5,1596 L510.5,1596 L510.5,1595.5156 L510.5,1595.5156 L511.125,1595 L511.5,1595 L511.875,1595 L512.5,1595.5156 L512.5,1596 L512.5,1598 L512.5,1598.4844 L511.875,1599 L511.875,1599 L511.5,1599 L511.125,1599 L510.5,1598.4844 L510.5,1598.4844 L510.5,1598 L509.5,1598 Z "/><ellipse cx="530" cy="1596.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="536" y="1601.9102">RatificationMode</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="497" x2="629" y1="1613" y2="1613"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="502" y="1628.4189">CLOSE_RATIFIED,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="502" y="1642.2549">CLOSE_NOT_RATIFIED</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="497" x2="629" y1="1648.6719" y2="1648.6719"/><!--MD5=[ce8182edd4590e04a2102797ac389b3e]
class EncryptionMode--><rect fill="#FEFECE" height="75.6719" id="EncryptionMode" style="stroke: #D4AC0D; stroke-width: 1.5;" width="130" x="838" y="1581"/><ellipse cx="853" cy="1597" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M851.5,1598 L851.5,1600 L855.5,1600 L855.5,1599 L855.5,1598.5156 L856.125,1598 L856.5,1598 L856.875,1598 L857.5,1598.5156 L857.5,1599 L857.5,1602 L849.5,1602 L849.0156,1602 L848.5,1601.375 L848.5,1601 L848.5,1600.625 L849.0156,1600 L849.5,1600 L849.5,1600 L849.5,1594 L849.5,1594 L849.0156,1594 L848.5,1593.375 L848.5,1593 L848.5,1592.625 L849.0156,1592 L849.5,1592 L857.5,1592 L857.5,1595 L857.5,1595.4844 L856.875,1596 L856.5,1596 L856.125,1596 L855.5,1595.4844 L855.5,1595 L855.5,1594 L851.5,1594 L851.5,1596 L852.5,1596 L852.5,1595.5156 L852.5,1595.5156 L853.125,1595 L853.5,1595 L853.875,1595 L854.5,1595.5156 L854.5,1596 L854.5,1598 L854.5,1598.4844 L853.875,1599 L853.875,1599 L853.5,1599 L853.125,1599 L852.5,1598.4844 L852.5,1598.4844 L852.5,1598 L851.5,1598 Z "/><ellipse cx="872" cy="1596.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="878" y="1601.9102">EncryptionMode</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="839" x2="967" y1="1613" y2="1613"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="54" x="844" y="1628.4189">ACTIVATE,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="844" y="1642.2549">DEACTIVATE</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="839" x2="967" y1="1648.6719" y2="1648.6719"/><!--MD5=[587c29523c7e651cb28d7191d1daa746]
class AuthenticationMode--><rect fill="#FEFECE" height="75.6719" id="AuthenticationMode" style="stroke: #D4AC0D; stroke-width: 1.5;" width="150" x="606" y="1727"/><ellipse cx="621" cy="1743" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M619.5,1744 L619.5,1746 L623.5,1746 L623.5,1745 L623.5,1744.5156 L624.125,1744 L624.5,1744 L624.875,1744 L625.5,1744.5156 L625.5,1745 L625.5,1748 L617.5,1748 L617.0156,1748 L616.5,1747.375 L616.5,1747 L616.5,1746.625 L617.0156,1746 L617.5,1746 L617.5,1746 L617.5,1740 L617.5,1740 L617.0156,1740 L616.5,1739.375 L616.5,1739 L616.5,1738.625 L617.0156,1738 L617.5,1738 L625.5,1738 L625.5,1741 L625.5,1741.4844 L624.875,1742 L624.5,1742 L624.125,1742 L623.5,1741.4844 L623.5,1741 L623.5,1740 L619.5,1740 L619.5,1742 L620.5,1742 L620.5,1741.5156 L620.5,1741.5156 L621.125,1741 L621.5,1741 L621.875,1741 L622.5,1741.5156 L622.5,1742 L622.5,1744 L622.5,1744.4844 L621.875,1745 L621.875,1745 L621.5,1745 L621.125,1745 L620.5,1744.4844 L620.5,1744.4844 L620.5,1744 L619.5,1744 Z "/><ellipse cx="640" cy="1742.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="107" x="646" y="1747.9102">AuthenticationMode</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="607" x2="755" y1="1759" y2="1759"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="612" y="1774.4189">REQUESTED,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="612" y="1788.2549">NOT_REQUESTED</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="607" x2="755" y1="1794.6719" y2="1794.6719"/><!--MD5=[69e7de8796175c80a787a8fe6d04a077]
class PinTransmissionMode--><rect fill="#FEFECE" height="75.6719" id="PinTransmissionMode" style="stroke: #D4AC0D; stroke-width: 1.5;" width="168" x="809" y="1437"/><ellipse cx="824" cy="1453" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M822.5,1454 L822.5,1456 L826.5,1456 L826.5,1455 L826.5,1454.5156 L827.125,1454 L827.5,1454 L827.875,1454 L828.5,1454.5156 L828.5,1455 L828.5,1458 L820.5,1458 L820.0156,1458 L819.5,1457.375 L819.5,1457 L819.5,1456.625 L820.0156,1456 L820.5,1456 L820.5,1456 L820.5,1450 L820.5,1450 L820.0156,1450 L819.5,1449.375 L819.5,1449 L819.5,1448.625 L820.0156,1448 L820.5,1448 L828.5,1448 L828.5,1451 L828.5,1451.4844 L827.875,1452 L827.5,1452 L827.125,1452 L826.5,1451.4844 L826.5,1451 L826.5,1450 L822.5,1450 L822.5,1452 L823.5,1452 L823.5,1451.5156 L823.5,1451.5156 L824.125,1451 L824.5,1451 L824.875,1451 L825.5,1451.5156 L825.5,1452 L825.5,1454 L825.5,1454.4844 L824.875,1455 L824.875,1455 L824.5,1455 L824.125,1455 L823.5,1454.4844 L823.5,1454.4844 L823.5,1454 L822.5,1454 Z "/><ellipse cx="843" cy="1452.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="849" y="1457.9102">PinTransmissionMode</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="810" x2="976" y1="1469" y2="1469"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="815" y="1484.4189">PLAIN,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="815" y="1498.2549">ENCRYPTED</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="810" x2="976" y1="1504.6719" y2="1504.6719"/><!--MD5=[43918d86839edc1befb88ea50efcfbfb]
class SamResource--><rect fill="#FEFECE" height="75.6719" id="SamResource" style="stroke: #D4AC0D; stroke-width: 1.5;" width="191" x="650.5" y="555"/><ellipse cx="667.3" cy="571" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M669.3,567.5 Q669.5031,567 669.7375,566.75 Q669.9719,566.5 670.2375,566.5 Q670.7063,566.5 671.0031,566.7813 Q671.3,567.0625 671.3,567.7188 L671.3,569.2813 Q671.3,569.9375 671.0188,570.2188 Q670.7375,570.5 670.3,570.5 Q669.9094,570.5 669.6594,570.3281 Q669.4094,570.1563 669.3,569.7031 Q669.2531,569.3906 669.0813,569.2188 Q668.7688,568.8906 668.2063,568.7031 Q667.6438,568.5 667.0813,568.5 Q666.3781,568.5 665.7844,568.7813 Q665.2063,569.0625 664.7531,569.6875 Q664.3,570.3125 664.3,571.1719 L664.3,572.0938 Q664.3,573.125 665.1438,573.8125 Q665.9875,574.5 667.4875,574.5 Q668.3781,574.5 669.0031,574.2969 Q669.3625,574.1875 669.7688,573.8281 Q670.0344,573.625 670.175,573.5625 Q670.3156,573.5 670.4875,573.5 Q670.8156,573.5 671.05,573.7656 Q671.3,574.0156 671.3,574.375 Q671.3,574.7188 670.9563,575.125 Q670.4563,575.7188 669.6594,576.0469 Q668.6125,576.5 667.3313,576.5 Q665.8313,576.5 664.6281,575.9063 Q663.6594,575.4375 662.9719,574.4219 Q662.3,573.4063 662.3,572.2031 L662.3,571.1094 Q662.3,569.8594 662.8938,568.7656 Q663.5031,567.6719 664.55,567.0938 Q665.6125,566.5 666.8,566.5 Q667.5188,566.5 668.1438,566.75 Q668.7688,567 669.3,567.5 Z "/><ellipse cx="686.7" cy="570.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="692.7" y="575.9102">SeResource</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="73" x="771.5" y="552"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="71" x="772.5" y="565.457">CalypsoSam</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="651.5" x2="840.5" y1="587" y2="587"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="651.5" x2="840.5" y1="595" y2="595"/><ellipse cx="661.5" cy="606" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="670.5" y="610.4189">SeResource(</text><text fill="#FF0000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="734.5" y="610.4189">SeReader seReader</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="3" x="832.5" y="610.4189">,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="670.5" y="624.2549">CalypsoSam sam);</text><!--MD5=[f25ff1fa8fa59bbc0543eaadeb7d653a]
class CalypsoSam--><rect fill="#FEFECE" height="158.6875" id="CalypsoSam" style="stroke: #D4AC0D; stroke-width: 1.5;" width="251" x="876.5" y="513.5"/><ellipse cx="943.25" cy="529.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M945.25,526 Q945.4531,525.5 945.6875,525.25 Q945.9219,525 946.1875,525 Q946.6563,525 946.9531,525.2813 Q947.25,525.5625 947.25,526.2188 L947.25,527.7813 Q947.25,528.4375 946.9688,528.7188 Q946.6875,529 946.25,529 Q945.8594,529 945.6094,528.8281 Q945.3594,528.6563 945.25,528.2031 Q945.2031,527.8906 945.0313,527.7188 Q944.7188,527.3906 944.1563,527.2031 Q943.5938,527 943.0313,527 Q942.3281,527 941.7344,527.2813 Q941.1563,527.5625 940.7031,528.1875 Q940.25,528.8125 940.25,529.6719 L940.25,530.5938 Q940.25,531.625 941.0938,532.3125 Q941.9375,533 943.4375,533 Q944.3281,533 944.9531,532.7969 Q945.3125,532.6875 945.7188,532.3281 Q945.9844,532.125 946.125,532.0625 Q946.2656,532 946.4375,532 Q946.7656,532 947,532.2656 Q947.25,532.5156 947.25,532.875 Q947.25,533.2188 946.9063,533.625 Q946.4063,534.2188 945.6094,534.5469 Q944.5625,535 943.2813,535 Q941.7813,535 940.5781,534.4063 Q939.6094,533.9375 938.9219,532.9219 Q938.25,531.9063 938.25,530.7031 L938.25,529.6094 Q938.25,528.3594 938.8438,527.2656 Q939.4531,526.1719 940.5,525.5938 Q941.5625,525 942.75,525 Q943.4688,525 944.0938,525.25 Q944.7188,525.5 945.25,526 Z "/><ellipse cx="968.75" cy="529" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="974.75" y="534.4102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="1001.75" y="534.4102">CalypsoSam</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="877.5" x2="1126.5" y1="545.5" y2="545.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="877.5" x2="1126.5" y1="553.5" y2="553.5"/><polygon fill="#4177AF" points="887.5,560.5,883.5,566.5,891.5,566.5" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="896.5" y="568.9189">CalypsoSam(</text><text fill="#FF0000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="157" x="960.5" y="568.9189">SeResponse selectionResponse</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="4" x="1117.5" y="568.9189">)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="899.5" y="582.7549"/><ellipse cx="887.5" cy="592.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="896.5" y="596.5908">SamRevision getSamRevision()</text><ellipse cx="887.5" cy="606.0078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="896.5" y="610.4268">byte[] getSerialNumber()</text><ellipse cx="887.5" cy="619.8438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="896.5" y="624.2627">byte getPlatform()</text><ellipse cx="887.5" cy="633.6797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="896.5" y="638.0986">byte getApplicationType()</text><ellipse cx="887.5" cy="647.5156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="896.5" y="651.9346">byte getApplicationSubType()</text><ellipse cx="887.5" cy="661.3516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="896.5" y="665.7705">byte getSoftwareIssuer()</text><!--MD5=[7d16591ce1ac0fb103d5c2b0f24533d6]
class SvSetting--><rect fill="#FEFECE" height="48" id="SvSetting" style="stroke: #D4AC0D; stroke-width: 1.5;" width="121" x="131.5" y="1451"/><ellipse cx="146.5" cy="1467" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M148.5,1463.5 Q148.7031,1463 148.9375,1462.75 Q149.1719,1462.5 149.4375,1462.5 Q149.9063,1462.5 150.2031,1462.7813 Q150.5,1463.0625 150.5,1463.7188 L150.5,1465.2813 Q150.5,1465.9375 150.2188,1466.2188 Q149.9375,1466.5 149.5,1466.5 Q149.1094,1466.5 148.8594,1466.3281 Q148.6094,1466.1563 148.5,1465.7031 Q148.4531,1465.3906 148.2813,1465.2188 Q147.9688,1464.8906 147.4063,1464.7031 Q146.8438,1464.5 146.2813,1464.5 Q145.5781,1464.5 144.9844,1464.7813 Q144.4063,1465.0625 143.9531,1465.6875 Q143.5,1466.3125 143.5,1467.1719 L143.5,1468.0938 Q143.5,1469.125 144.3438,1469.8125 Q145.1875,1470.5 146.6875,1470.5 Q147.5781,1470.5 148.2031,1470.2969 Q148.5625,1470.1875 148.9688,1469.8281 Q149.2344,1469.625 149.375,1469.5625 Q149.5156,1469.5 149.6875,1469.5 Q150.0156,1469.5 150.25,1469.7656 Q150.5,1470.0156 150.5,1470.375 Q150.5,1470.7188 150.1563,1471.125 Q149.6563,1471.7188 148.8594,1472.0469 Q147.8125,1472.5 146.5313,1472.5 Q145.0313,1472.5 143.8281,1471.9063 Q142.8594,1471.4375 142.1719,1470.4219 Q141.5,1469.4063 141.5,1468.2031 L141.5,1467.1094 Q141.5,1465.8594 142.0938,1464.7656 Q142.7031,1463.6719 143.75,1463.0938 Q144.8125,1462.5 146,1462.5 Q146.7188,1462.5 147.3438,1462.75 Q147.9688,1463 148.5,1463.5 Z "/><ellipse cx="165.5" cy="1466.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="171.5" y="1471.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="198.5" y="1471.9102">SvSetting</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="132.5" x2="251.5" y1="1483" y2="1483"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="132.5" x2="251.5" y1="1491" y2="1491"/><!--MD5=[cca5d97aaf46870920fae66c9bd85cdd]
class Operation--><rect fill="#FEFECE" height="75.6719" id="Operation" style="stroke: #D4AC0D; stroke-width: 1.5;" width="97" x="86.5" y="1581"/><ellipse cx="101.5" cy="1597" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M100,1598 L100,1600 L104,1600 L104,1599 L104,1598.5156 L104.625,1598 L105,1598 L105.375,1598 L106,1598.5156 L106,1599 L106,1602 L98,1602 L97.5156,1602 L97,1601.375 L97,1601 L97,1600.625 L97.5156,1600 L98,1600 L98,1600 L98,1594 L98,1594 L97.5156,1594 L97,1593.375 L97,1593 L97,1592.625 L97.5156,1592 L98,1592 L106,1592 L106,1595 L106,1595.4844 L105.375,1596 L105,1596 L104.625,1596 L104,1595.4844 L104,1595 L104,1594 L100,1594 L100,1596 L101,1596 L101,1595.5156 L101,1595.5156 L101.625,1595 L102,1595 L102.375,1595 L103,1595.5156 L103,1596 L103,1598 L103,1598.4844 L102.375,1599 L102.375,1599 L102,1599 L101.625,1599 L101,1598.4844 L101,1598.4844 L101,1598 L100,1598 Z "/><ellipse cx="120.5" cy="1596.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="54" x="126.5" y="1601.9102">Operation</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="87.5" x2="182.5" y1="1613" y2="1613"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="92.5" y="1628.4189">RELOAD,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="92.5" y="1642.2549">DEBIT</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="87.5" x2="182.5" y1="1648.6719" y2="1648.6719"/><!--MD5=[f8e7078f77c005d15b486c0c98deb1e6]
class Action--><rect fill="#FEFECE" height="75.6719" id="Action" style="stroke: #D4AC0D; stroke-width: 1.5;" width="76" x="219" y="1581"/><ellipse cx="234" cy="1597" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M232.5,1598 L232.5,1600 L236.5,1600 L236.5,1599 L236.5,1598.5156 L237.125,1598 L237.5,1598 L237.875,1598 L238.5,1598.5156 L238.5,1599 L238.5,1602 L230.5,1602 L230.0156,1602 L229.5,1601.375 L229.5,1601 L229.5,1600.625 L230.0156,1600 L230.5,1600 L230.5,1600 L230.5,1594 L230.5,1594 L230.0156,1594 L229.5,1593.375 L229.5,1593 L229.5,1592.625 L230.0156,1592 L230.5,1592 L238.5,1592 L238.5,1595 L238.5,1595.4844 L237.875,1596 L237.5,1596 L237.125,1596 L236.5,1595.4844 L236.5,1595 L236.5,1594 L232.5,1594 L232.5,1596 L233.5,1596 L233.5,1595.5156 L233.5,1595.5156 L234.125,1595 L234.5,1595 L234.875,1595 L235.5,1595.5156 L235.5,1596 L235.5,1598 L235.5,1598.4844 L234.875,1599 L234.875,1599 L234.5,1599 L234.125,1599 L233.5,1598.4844 L233.5,1598.4844 L233.5,1598 L232.5,1598 Z "/><ellipse cx="253" cy="1596.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="33" x="259" y="1601.9102">Action</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="220" x2="294" y1="1613" y2="1613"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="225" y="1628.4189">DO,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="29" x="225" y="1642.2549">UNDO</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="220" x2="294" y1="1648.6719" y2="1648.6719"/><!--MD5=[67d91b3e56e3fb89140abbb352fa8438]
class LogRead--><rect fill="#FEFECE" height="75.6719" id="LogRead" style="stroke: #D4AC0D; stroke-width: 1.5;" width="94" x="330" y="1581"/><ellipse cx="345" cy="1597" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M343.5,1598 L343.5,1600 L347.5,1600 L347.5,1599 L347.5,1598.5156 L348.125,1598 L348.5,1598 L348.875,1598 L349.5,1598.5156 L349.5,1599 L349.5,1602 L341.5,1602 L341.0156,1602 L340.5,1601.375 L340.5,1601 L340.5,1600.625 L341.0156,1600 L341.5,1600 L341.5,1600 L341.5,1594 L341.5,1594 L341.0156,1594 L340.5,1593.375 L340.5,1593 L340.5,1592.625 L341.0156,1592 L341.5,1592 L349.5,1592 L349.5,1595 L349.5,1595.4844 L348.875,1596 L348.5,1596 L348.125,1596 L347.5,1595.4844 L347.5,1595 L347.5,1594 L343.5,1594 L343.5,1596 L344.5,1596 L344.5,1595.5156 L344.5,1595.5156 L345.125,1595 L345.5,1595 L345.875,1595 L346.5,1595.5156 L346.5,1596 L346.5,1598 L346.5,1598.4844 L345.875,1599 L345.875,1599 L345.5,1599 L345.125,1599 L344.5,1598.4844 L344.5,1598.4844 L344.5,1598 L343.5,1598 Z "/><ellipse cx="364" cy="1596.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="370" y="1601.9102">LogRead</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="331" x2="423" y1="1613" y2="1613"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="336" y="1628.4189">SINGLE,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="336" y="1642.2549">ALL</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="331" x2="423" y1="1648.6719" y2="1648.6719"/><!--MD5=[50d6b8eba543a732d1dd3c761d982397]
class NegativeBalance--><rect fill="#FEFECE" height="75.6719" id="NegativeBalance" style="stroke: #D4AC0D; stroke-width: 1.5;" width="136" x="288" y="1437"/><ellipse cx="303" cy="1453" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M301.5,1454 L301.5,1456 L305.5,1456 L305.5,1455 L305.5,1454.5156 L306.125,1454 L306.5,1454 L306.875,1454 L307.5,1454.5156 L307.5,1455 L307.5,1458 L299.5,1458 L299.0156,1458 L298.5,1457.375 L298.5,1457 L298.5,1456.625 L299.0156,1456 L299.5,1456 L299.5,1456 L299.5,1450 L299.5,1450 L299.0156,1450 L298.5,1449.375 L298.5,1449 L298.5,1448.625 L299.0156,1448 L299.5,1448 L307.5,1448 L307.5,1451 L307.5,1451.4844 L306.875,1452 L306.5,1452 L306.125,1452 L305.5,1451.4844 L305.5,1451 L305.5,1450 L301.5,1450 L301.5,1452 L302.5,1452 L302.5,1451.5156 L302.5,1451.5156 L303.125,1451 L303.5,1451 L303.875,1451 L304.5,1451.5156 L304.5,1452 L304.5,1454 L304.5,1454.4844 L303.875,1455 L303.875,1455 L303.5,1455 L303.125,1455 L302.5,1454.4844 L302.5,1454.4844 L302.5,1454 L301.5,1454 Z "/><ellipse cx="322" cy="1452.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="328" y="1457.9102">NegativeBalance</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="289" x2="423" y1="1469" y2="1469"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="294" y="1484.4189">FORBIDDEN,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="294" y="1498.2549">AUTHORIZED</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="289" x2="423" y1="1504.6719" y2="1504.6719"/><!--MD5=[b5831fe2f38c217483a231289f3a8748]
link PoSecuritySettingBuilder to PoSecuritySetting--><path d="M445.246,401.48 C446.167,427.45 447.112,454.1 447.992,478.94 " fill="none" id="PoSecuritySettingBuilder-PoSecuritySetting" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="448" y="445.4951">build</text><polygon fill="#000000" points="457,454.3516,460,460.3516,463,454.3516,457,454.3516" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[a40139effe78355afd96e1fe38f816a4]
reverse link PoSecuritySetting to SamResource--><path d="M628.907,593 C636.03,593 643.153,593 650.276,593 " fill="none" id="PoSecuritySetting&lt;-SamResource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="615.652,593,621.652,597,627.652,593,621.652,589,615.652,593" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="623.3167" y="590.1436">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="620.6313" y="607.0815">0..1</text><!--MD5=[f5f07a045c16f9b5b991b6ad223e4b75]
reverse link SamResource to CalypsoSam--><path d="M855.159,593 C862.231,593 869.303,593 876.375,593 " fill="none" id="SamResource&lt;-CalypsoSam" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="842,593,848,597,854,593,848,589,842,593" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="849.618" y="589.9086">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="861.5064" y="590.0279">1</text><!--MD5=[49b2cd243b315032ac87ae560f8bd7c4]
reverse link SvSetting to Operation--><path d="M177.048,1513.25 C168.694,1534.061 158.316,1559.915 149.961,1580.73 " fill="none" id="SvSetting&lt;-Operation" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="179.7344" cy="1506.555" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="176.7538" x2="182.715" y1="1513.979" y2="1499.131"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="172.3104" x2="187.1584" y1="1503.5744" y2="1509.5356"/><!--MD5=[ad0f2bead1761192d1c3cbd4a713f69a]
reverse link SvSetting to Action--><path d="M208.912,1512.947 C218.462,1533.81 230.365,1559.814 239.94,1580.73 " fill="none" id="SvSetting&lt;-Action" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="205.9176" cy="1506.4052" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="209.2473" x2="202.588" y1="1513.6793" y2="1499.131"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="198.6435" x2="213.1918" y1="1509.7348" y2="1503.0755"/><!--MD5=[40b37511570e7b53b6592a746222781a]
reverse link SvSetting to LogRead--><path d="M234.136,1508.342 C262.655,1530.232 300.362,1559.175 329.876,1581.829 " fill="none" id="SvSetting&lt;-LogRead" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="228.481" cy="1504.0021" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="234.8271" x2="222.135" y1="1508.8733" y2="1499.131"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="223.6099" x2="233.3522" y1="1510.3482" y2="1497.6561"/><!--MD5=[8d1c764bcc19989851e984ffe55e2961]
reverse link SvSetting to NegativeBalance--><path d="M267.647,1475 C274.331,1475 281.015,1475 287.7,1475 " fill="none" id="SvSetting&lt;-NegativeBalance" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="260.539" cy="1475" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="268.539" x2="252.539" y1="1475" y2="1475"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="260.539" x2="260.539" y1="1483" y2="1467"/><!--MD5=[e4e6b0c197a4fe408c8d4c7214bc9356]
link PoResource to PoTransaction--><path d="M186.562,631.15 C209.69,661.24 244.717,706.8 283.549,757.32 " fill="none" id="PoResource-&gt;PoTransaction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="291.626,767.82,291.1382,760.6254,284.3095,758.3085,284.7972,765.5031,291.626,767.82" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="183.5563" y="652.0544">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="278.4137" y="757.1147">1</text><!--MD5=[127e9a2466ec7ea86d71a4cf335a990c]
link PoResource to PoSecuritySetting--><!--MD5=[7ef23bb65cbd7f21990abf12f0f9fb41]
link PoSecuritySetting to PoTransaction--><path d="M468.722,707.11 C470.94,722.12 473.294,738.04 475.73,754.51 " fill="none" id="PoSecuritySetting-&gt;PoTransaction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="477.699,767.84,480.7791,761.3198,475.9451,755.9689,472.865,762.4891,477.699,767.84" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="447.0886" y="728.4433">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="469.4293" y="757.1352">1</text><!--MD5=[4e36a4e3a201b7955d2f14bdee0043a9]
reverse link PoTransaction to SessionState--><path d="M522,1384.106 C522,1401.209 522,1416.742 522,1429.902 " fill="none" id="PoTransaction&lt;-SessionState" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="522" cy="1377.042" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="522" x2="522" y1="1385.042" y2="1369.042"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="514" x2="530" y1="1377.042" y2="1377.042"/><!--MD5=[ce3c63ddc54d4d675759c68b3655a59d]
reverse link PoTransaction to SessionSetting--><path d="M657.62,1382.977 C669.627,1410.73 679.879,1434.427 686.911,1450.68 " fill="none" id="PoTransaction&lt;-SessionSetting" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="654.7683" cy="1376.3844" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="657.9447" x2="651.592" y1="1383.7268" y2="1369.042"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="647.4259" x2="662.1107" y1="1379.5607" y2="1373.2081"/><!--MD5=[01907a979ee07ab82f1dc532a4541c2c]
reverse link SessionSetting to EncryptionMode--><path d="M743.301,1507.916 C774.619,1529.505 816.097,1558.096 848.932,1580.73 " fill="none" id="SessionSetting&lt;-EncryptionMode" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="737.1427" cy="1503.6714" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="743.7294" x2="730.556" y1="1508.2119" y2="1499.131"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="732.6022" x2="741.6831" y1="1510.2581" y2="1497.0848"/><!--MD5=[19a5bab6cb0e733f5b38e95cd959a25a]
reverse link SessionSetting to ModificationMode--><path d="M706.864,1513.857 C712.259,1534.563 718.918,1560.117 724.289,1580.73 " fill="none" id="SessionSetting&lt;-ModificationMode" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="705.0445" cy="1506.8724" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="707.0619" x2="703.027" y1="1514.6139" y2="1499.131"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="697.303" x2="712.7859" y1="1508.8899" y2="1504.855"/><!--MD5=[0e9a2e2ec4d6aea28d869b2d373dbe85]
reverse link SessionSetting to RatificationMode--><path d="M664.674,1510.256 C644.59,1531.539 618.766,1558.904 598.171,1580.73 " fill="none" id="SessionSetting&lt;-RatificationMode" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="669.6817" cy="1504.9497" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="664.1914" x2="675.172" y1="1510.7683" y2="1499.131"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="663.8631" x2="675.5004" y1="1499.4594" y2="1510.4399"/><!--MD5=[d0f8f68742f1a8058f4f2e5a0ad06650]
reverse link SessionSetting to AccessLevel--><path d="M757.776,1505.559 C769.045,1510.635 780.796,1515.665 792,1520 C876.294,1552.616 932.526,1508.131 986,1581 C1012.29,1616.832 1003.008,1639.939 986,1681 C980.073,1695.309 970.35,1708.437 959.607,1719.824 " fill="none" id="SessionSetting&lt;-AccessLevel" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="751.1069" cy="1502.4931" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="758.3758" x2="743.838" y1="1505.8342" y2="1499.152"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="747.7658" x2="754.448" y1="1509.762" y2="1495.2242"/><!--MD5=[37e957bec1fd56bfe0d2d70b2ed06b69]
link EncryptionMode to AccessLevel--><!--MD5=[aad50e08903197c6896398c3f9217d50]
reverse link SessionSetting to AuthenticationMode--><path d="M633.203,1505.596 C569.378,1535.352 480.301,1577.346 478,1581 C454.322,1618.612 453.224,1644.102 478,1681 C506.389,1723.278 560.526,1744.035 605.757,1754.218 " fill="none" id="SessionSetting&lt;-AuthenticationMode" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="639.95" cy="1502.4546" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="632.698" x2="647.202" y1="1505.8322" y2="1499.077"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="636.5724" x2="643.3276" y1="1495.2026" y2="1509.7066"/><!--MD5=[6952bc2877cf5d205c9a3c02c8dd195c]
link ModificationMode to AuthenticationMode--><!--MD5=[079f273270ef1dd73893779fe3d467bc]
reverse link PoTransaction to PinTransmissionMode--><path d="M737.907,1379.355 C745.787,1386.54 753.821,1393.443 762,1400 C773.337,1409.09 779.085,1406.34 792,1413 C806.11,1420.276 820.933,1428.738 834.745,1436.999 " fill="none" id="PoTransaction&lt;-PinTransmissionMode" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="732.7085" cy="1374.4843" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="738.546" x2="726.871" y1="1379.9545" y2="1369.014"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="727.2382" x2="738.1787" y1="1380.3217" y2="1368.6468"/><!--MD5=[746f3c5b2505d7b38384202071141ba9]
reverse link PoTransaction to SvSetting--><path d="M268.118,1380.697 C244.676,1409.432 224.646,1433.984 211.025,1450.68 " fill="none" id="PoTransaction&lt;-SvSetting" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="272.5701" cy="1375.241" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="267.5132" x2="277.627" y1="1381.44" y2="1369.042"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="266.3711" x2="278.7691" y1="1370.1841" y2="1380.2979"/><!--MD5=[28e38a2b5aeddf77f446bb48690e6362]
link SessionState to SessionSetting--><!--MD5=[bc4e75526f74fbb68a5aed8e4c56686a]
link SessionSetting to PinTransmissionMode--><!--MD5=[15b34b46d09c17d92f3246bd8d6b690e]
link PinTransmissionMode to SvSetting--><!--MD5=[3429ec821e60fb1fffd23386c89f33c5]
link PoTransaction to SelectFileControl--><path d="M827.806,1182.088 C944.944,1246.536 1051,1341.479 1051,1474 C1051,1474 1051,1474 1051,1766 C1051,1797.38 1047.05,1806.466 1032,1834 C1024.5,1847.721 1014.34,1861.068 1003.947,1872.905 " fill="none" id="PoTransaction-SelectFileControl" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[75cf09f748786ce5d6dd001ad977eb2a]
link AuthenticationMode to SelectFileControl--><!--MD5=[74a50dd98f0184a20a423563b477bf52]
@startuml
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam shadowing false

skinparam StateBorderColor #D4AC0D
skinparam ActivityBorderColor #D4AC0D

skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #EAFAF1
skinparam ClassBorderColor<<green>> #2ECC71
hide <<green>> stereotype

skinparam ClassBackgroundColor<<orange>> #FDF2E9
skinparam ClassBorderColor<<orange>> #E67E22
hide <<orange>> stereotype

skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

package org.keyple.calypso #FFFFFF {
  package transaction #FFFFFF {
+class "static <b>final</b> PoSecuritySettingBuilder" as PoSecuritySettingBuilder {
  -final SeResource<CalypsoSam> samResource
  -List<Byte> authorizedKvcList
  -final EnumMap<AccessLevel, Byte> defaultKif
  -final EnumMap<AccessLevel, Byte> defaultKvc
  -final EnumMap<AccessLevel, Byte> defaultKeyRecordNumber
  ModificationMode sessionModificationMode = ATOMIC
  RatificationMode ratificationMode = CLOSE_RATIFIED

  +PoSecuritySettingBuilder(SeResource<CalypsoSam> samResource)

  +PoSecuritySettingBuilder sessionModificationMode(ModificationMode sessionModificationMode)
  +PoSecuritySettingBuilder ratificationMode(RatificationMode ratificationMode)
  +PoSecuritySettingBuilder sessionDefaultKif(AccessLevel sessionAccessLevel, byte kif)
  +PoSecuritySettingBuilder sessionDefaultKvc(AccessLevel sessionAccessLevel, byte kvc)
  +PoSecuritySettingBuilder sessionDefaultKeyRecordNumber(AccessLevel sessionAccessLevel,
    byte keyRecordNumber)
  +PoSecuritySettingBuilder sessionAuthorizedKvcList(List<Byte> authorizedKvcList)

  +PoSecuritySetting build()
}

+class "<b>final</b> PoSecuritySetting" as PoSecuritySetting {
  +PoSecuritySetting(SamResource samResource);


  #ModificationMode getSessionModificationMode()
  #RatificationMode getSessionRatificationMode()
  #Byte getSessionDefaultKif(AccessLevel level)
  #Byte getSessionDefaultKvc(AccessLevel level)
  #Byte getSessionDefaultKeyRecordNumber(AccessLevel level)
  #Boolean isSessionKvcAuthorized(byte kvc)

  #PinTransmissionMode getPinTransmissionMode()

  #LogRead getSvGetLogReadMode()
  #NegativeBalance getSvNegativeBalance()
  #Boolean isSvKvcAuthorized(byte kvc)
}

note as N1
Default values in PoTransaction if PoSecuritySetting doesn't specify it:
  - session ModificationMode as ATOMIC
  - session RatificationMode as CLOSE_RATIFIED
  - PinTransmissionMode as ENCRYPTED if PoSecurity defined
  - any KIF/KVC values are authorized
  - no verification is done for: HCE token expiration, revoked PO or SAM
end note

    PoSecuritySettingBuilder .right. N1
    PoSecuritySettingBuilder -down- PoSecuritySetting : build >

    together {
      +class "SeResource<CalypsoSam>" as SamResource {
        +SeResource(<color:red>SeReader seReader</color>,
          CalypsoSam sam);
      }

      +class "<b>final</b> CalypsoSam" as CalypsoSam {
        ~CalypsoSam(<color:red>SeResponse selectionResponse</color>)

        +SamRevision getSamRevision()
        +byte[] getSerialNumber()
        +byte getPlatform()
        +byte getApplicationType()
        +byte getApplicationSubType()
        +byte getSoftwareIssuer()
      }
    }

    PoSecuritySetting "1 " o-right- " 0..1" SamResource
    SamResource "1" o- "1" CalypsoSam

    +class "SeResource<CalypsoPo>" as PoResource {
      +SeResource(<color:red>SeReader seReader</color>,
        CalypsoPo po);
    }

+class PoTransaction {
  +PoTransaction(PoResource poResource, PoSecuritySetting[0..1] securitySetting)

  +<b>final</b> prepareReleaseChannel()

  +<b>final</b> processPoCommands()
  +<b>final</b> processOpening(AccessLevel level)
  +<b>final</b> processClosing()
  +<b>final</b> processCancel()

  +<b>final</b> prepareCheckPinStatus()
  +<b>final</b> processVerifyPin(String pin)
  +<b>final</b> processVerifyPin(byte[] pin)

  +<b>final</b> prepareSvGet(SvSetting.Operation operation, SvSetting.Action action)
  +<b>final</b> prepareSvReload(int amount, int date, int time, String free)
  +<b>final</b> prepareSvReload(int amount, byte[] date, byte[] time, byte[] free)
  +<b>final</b> prepareSvReload(int amount)
  +<b>final</b> prepareSvDebit(int amount, int date, int time)
  +<b>final</b> prepareSvDebit(int amount, byte[] date, byte[] time)
  +<b>final</b> prepareSvDebit(int amount)

  +<b>final</b> prepareSelectFile(short lid)
  +<b>final</b> prepareSelectFile(byte[] lid)
  +<b>final</b> prepareSelectFile(SelectFileControl control)
  +<b>final</b> prepareReadRecordFile(byte sfi, int recordNumber)
  +<b>final</b> prepareReadRecordFile(byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize))
  +<b>final</b> prepareReadSubRecordFile(byte sfi, int firstRecordNumber, int numberOfRecord, int recordOffset, int recordLength)
  +<b>final</b> prepareReadBinaryFile(byte sfi, int dataLength, int[0..1] dataOffset)
  +<b>final</b> prepareReadCounterFile(byte sfi, int countersNumber)
  +<b>final</b> prepareAppendRecord(byte sfi, byte[] recordData)
  +<b>final</b> prepareUpdateRecord(byte sfi, int recordNumber, byte[] recordData)
  +<b>final</b> prepareWriteRecord(byte sfi, int recordNumber, byte[] recordData)
  +<b>final</b> prepareUpdateBinaryFile(byte sfi, byte[] fileData, int[0..1] dataOffset)
  +<b>final</b> prepareWriteBinaryFile(byte sfi, byte[] fileData, int[0..1] dataOffset)
  +<b>final</b> prepareIncreaseCounter(byte sfi, int counterNumber, int incValue)
  +<b>final</b> prepareDecreaseCounter(byte sfi, int counterNumber, int decValue)
  +<b>final</b> prepareSetCounter(byte sfi, int counterNumber, int newValue)

  +<b>final</b> prepareInvalidate()
  +<b>final</b> prepareRehabilitate()

}
-enum SessionState {
  SESSION_UNITIALIZED,
  SESSION_OPEN,
  SESSION_CLOSED
}

+class "<b>final</b> SessionSetting" as SessionSetting {
}

+enum AccessLevel {
  SESSION_LVL_PERSO("perso", byte 0x01),
  SESSION_LVL_LOAD("load", byte 0x02),
  SESSION_LVL_DEBIT("debit", byte 0x03)
}

+enum ModificationMode {
  ATOMIC,
  MULTIPLE
}

+enum RatificationMode {
  CLOSE_RATIFIED,
  CLOSE_NOT_RATIFIED
}

+enum EncryptionMode {
  ACTIVATE,
  DEACTIVATE
}

+enum AuthenticationMode {
  REQUESTED,
  NOT_REQUESTED
}

+enum PinTransmissionMode {
  PLAIN,
  ENCRYPTED
}

together {
  +class "<b>final</b> SvSetting" as SvSetting {
  }

  +enum Operation {
    RELOAD,
    DEBIT
  }

  +enum Action {
    DO,
    UNDO
  }

  +enum LogRead {
    SINGLE,
    ALL
  }

  +enum NegativeBalance {
    FORBIDDEN,
    AUTHORIZED
  }
}

    SvSetting +-down- Operation
    SvSetting +-down- Action
    SvSetting +-down- LogRead
    SvSetting +-right- NegativeBalance

    PoResource "1" - -o "1" PoTransaction
    PoResource -right[hidden]- PoSecuritySetting
    PoTransaction "1" o-up- "0..1" PoSecuritySetting

    PoTransaction +-down- SessionState

    PoTransaction +-down- SessionSetting
    SessionSetting +-down- EncryptionMode
    SessionSetting +-down- ModificationMode
    SessionSetting +-down- RatificationMode
    SessionSetting +- - AccessLevel
    EncryptionMode -down[hidden]- AccessLevel
    SessionSetting +- - AuthenticationMode
    ModificationMode -down[hidden]- AuthenticationMode

    PoTransaction +-down- PinTransmissionMode
    PoTransaction +-down- SvSetting

    SessionState -right[hidden]- SessionSetting
    SessionSetting -right[hidden]- PinTransmissionMode
    PinTransmissionMode -right[hidden]- SvSetting
  }

+enum SelectFileControl {
  FIRST_EF,
  NEXT_EF,
  CURRENT_DF
}

  PoTransaction - - SelectFileControl
  AuthenticationMode -down[hidden]- SelectFileControl
}
@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>