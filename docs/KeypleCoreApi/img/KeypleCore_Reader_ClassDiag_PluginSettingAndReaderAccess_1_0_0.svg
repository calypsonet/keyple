<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1075px" preserveAspectRatio="none" style="width:1135px;height:1075px;" version="1.1" viewBox="0 0 1135 1075" width="1135px" zoomAndPan="magnify"><defs/><g><!--MD5=[c3c915b379c717332e210d38dcd6e8a2]
cluster org.eclipse.keyple.core--><polygon fill="#FFFFFF" points="22,24,193,24,200,47.6094,1113,47.6094,1113,1063,22,1063,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="200" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="26" y="40.5332">org.eclipse.keyple.core</text><!--MD5=[d7d97e45e091edffeb4e8c3bb1cf3c1a]
cluster plugin.factory--><polygon fill="#FFFFFF" points="363,68,465,68,472,91.6094,545,91.6094,545,196,363,196,363,68" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="363" x2="472" y1="91.6094" y2="91.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96" x="367" y="84.5332">plugin.factory</text><!--MD5=[9d4f2f8fc0ef5fca8dbaabf8542dfdf0]
cluster reader--><polygon fill="#FFFFFF" points="46,246,99,246,106,269.6094,1089,269.6094,1089,1039,46,1039,46,246" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="106" y1="269.6094" y2="269.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="50" y="262.5332">reader</text><!--MD5=[2e31800f208179cab94650aeb782e4d8]
cluster event--><polygon fill="#FFFFFF" points="343,763,390,763,397,786.6094,1065,786.6094,1065,1015,343,1015,343,763" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="343" x2="397" y1="786.6094" y2="786.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="41" x="347" y="779.5332">event</text><!--MD5=[5c68026ea752d2e8f1e184b2d7c89ced]
class PluginFactory--><rect fill="#FEFECE" height="75.6719" id="PluginFactory" style="stroke: #D4AC0D; stroke-width: 1.5;" width="149" x="379.5" y="104"/><ellipse cx="408.45" cy="120" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M409.45,117 L409.45,123 L411.45,123 L411.9344,123 L412.45,123.625 L412.45,124 L412.45,124.375 L411.9344,125 L411.45,125 L405.45,125 L404.9656,125 L404.45,124.375 L404.45,124 L404.45,123.625 L404.9656,123 L405.45,123 L407.45,123 L407.45,117 L405.45,117 L404.9656,117 L404.45,116.375 L404.45,116 L404.45,115.625 L404.9656,115 L405.45,115 L411.45,115 L411.9344,115 L412.45,115.625 L412.45,116 L412.45,116.375 L411.9344,117 L411.45,117 L409.45,117 Z "/><ellipse cx="430.55" cy="119.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="75" x="436.55" y="124.9102">PluginFactory</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="380.5" x2="527.5" y1="136" y2="136"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="380.5" x2="527.5" y1="144" y2="144"/><ellipse cx="390.5" cy="155" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="399.5" y="159.4189">String getPluginName()</text><ellipse cx="390.5" cy="168.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="399.5" y="173.2549">Plugin getPluginInstance()</text><!--MD5=[bc3f57c567736ad71a70f1388d085699]
class SmartCardService--><rect fill="#FEFECE" height="208.3828" id="SmartCardService" style="stroke: #D4AC0D; stroke-width: 1.5;" width="263" x="527.5" y="282"/><ellipse cx="585.75" cy="302.0938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M587.75,298.5938 Q587.9531,298.0938 588.1875,297.8438 Q588.4219,297.5938 588.6875,297.5938 Q589.1563,297.5938 589.4531,297.875 Q589.75,298.1563 589.75,298.8125 L589.75,300.375 Q589.75,301.0313 589.4688,301.3125 Q589.1875,301.5938 588.75,301.5938 Q588.3594,301.5938 588.1094,301.4219 Q587.8594,301.25 587.75,300.7969 Q587.7031,300.4844 587.5313,300.3125 Q587.2188,299.9844 586.6563,299.7969 Q586.0938,299.5938 585.5313,299.5938 Q584.8281,299.5938 584.2344,299.875 Q583.6563,300.1563 583.2031,300.7813 Q582.75,301.4063 582.75,302.2656 L582.75,303.1875 Q582.75,304.2188 583.5938,304.9063 Q584.4375,305.5938 585.9375,305.5938 Q586.8281,305.5938 587.4531,305.3906 Q587.8125,305.2813 588.2188,304.9219 Q588.4844,304.7188 588.625,304.6563 Q588.7656,304.5938 588.9375,304.5938 Q589.2656,304.5938 589.5,304.8594 Q589.75,305.1094 589.75,305.4688 Q589.75,305.8125 589.4063,306.2188 Q588.9063,306.8125 588.1094,307.1406 Q587.0625,307.5938 585.7813,307.5938 Q584.2813,307.5938 583.0781,307 Q582.1094,306.5313 581.4219,305.5156 Q580.75,304.5 580.75,303.2969 L580.75,302.2031 Q580.75,300.9531 581.3438,299.8594 Q581.9531,298.7656 583,298.1875 Q584.0625,297.5938 585.25,297.5938 Q585.9688,297.5938 586.5938,297.8438 Q587.2188,298.0938 587.75,298.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="642.25" y="299.457">«Singleton»</text><ellipse cx="611.25" cy="309.1406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="617.25" y="314.5508">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="644.25" y="314.5508">SmartCardService</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="528.5" x2="789.5" y1="322.1875" y2="322.1875"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="535.5" y="330.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="23" x="547.5" y="337.6064">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="164" x="573.5" y="337.6064">SmartCardService uniqueInstance</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="535.5" y="344.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="547.5" y="351.4424">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="573.5" y="351.4424">ConcurrentMap&lt;String, Plugin&gt; plugins</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="528.5" x2="789.5" y1="357.8594" y2="357.8594"/><ellipse cx="538.5" cy="368.8594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="155" x="547.5" y="373.2783">SmartCardService getInstance()</text><ellipse cx="538.5" cy="382.6953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="547.5" y="387.1143">String getVersion()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="550.5" y="400.9502"/><ellipse cx="538.5" cy="410.3672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="237" x="547.5" y="414.7861">Plugin registerPlugin(PluginFactory pluginFactory)</text><ellipse cx="538.5" cy="424.2031" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="547.5" y="428.6221">boolean isRegistered(String pluginName)</text><ellipse cx="538.5" cy="438.0391" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="212" x="547.5" y="442.458">boolean unregisterPlugin(String pluginName)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="550.5" y="456.2939"/><ellipse cx="538.5" cy="465.7109" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="547.5" y="470.1299">Plugin getPlugin(String name)</text><ellipse cx="538.5" cy="479.5469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="547.5" y="483.9658">Map&lt;String, Plugin&gt; getPlugins()</text><!--MD5=[b628511dd50102041730ee0512f882c8]
class Plugin--><rect fill="#F0FFFF" height="117.1797" id="Plugin" style="stroke: #0000FF; stroke-width: 1.5;" width="194" x="394" y="575"/><ellipse cx="463.75" cy="591" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M464.75,588 L464.75,594 L466.75,594 L467.2344,594 L467.75,594.625 L467.75,595 L467.75,595.375 L467.2344,596 L466.75,596 L460.75,596 L460.2656,596 L459.75,595.375 L459.75,595 L459.75,594.625 L460.2656,594 L460.75,594 L462.75,594 L462.75,588 L460.75,588 L460.2656,588 L459.75,587.375 L459.75,587 L459.75,586.625 L460.2656,586 L460.75,586 L466.75,586 L467.2344,586 L467.75,586.625 L467.75,587 L467.75,587.375 L467.2344,588 L466.75,588 L464.75,588 Z "/><ellipse cx="489.25" cy="590.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="35" x="495.25" y="595.9102">Plugin</text><line style="stroke: #0000FF; stroke-width: 1.5;" x1="395" x2="587" y1="607" y2="607"/><line style="stroke: #0000FF; stroke-width: 1.5;" x1="395" x2="587" y1="615" y2="615"/><ellipse cx="405" cy="626" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="414" y="630.4189">String getName()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="417" y="644.2549"/><ellipse cx="405" cy="653.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="414" y="658.0908">Map&lt;String, Reader&gt; getReaders()</text><ellipse cx="405" cy="667.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="414" y="671.9268">Set&lt;String&gt; getReaderNames()</text><ellipse cx="405" cy="681.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="414" y="685.7627">Reader getReader(String name)</text><!--MD5=[e86a4777f2c0372cf9fb3cd047e1466e]
class Reader--><rect fill="#EEFFEE" height="131.0156" id="Reader" style="stroke: #008000; stroke-width: 1.5;" width="360" x="670" y="568"/><ellipse cx="819.75" cy="584" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M820.75,581 L820.75,587 L822.75,587 L823.2344,587 L823.75,587.625 L823.75,588 L823.75,588.375 L823.2344,589 L822.75,589 L816.75,589 L816.2656,589 L815.75,588.375 L815.75,588 L815.75,587.625 L816.2656,587 L816.75,587 L818.75,587 L818.75,581 L816.75,581 L816.2656,581 L815.75,580.375 L815.75,580 L815.75,579.625 L816.2656,579 L816.75,579 L822.75,579 L823.2344,579 L823.75,579.625 L823.75,580 L823.75,580.375 L823.2344,581 L822.75,581 L820.75,581 Z "/><ellipse cx="845.25" cy="583.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="41" x="851.25" y="588.9102">Reader</text><line style="stroke: #008000; stroke-width: 1.5;" x1="671" x2="1029" y1="600" y2="600"/><line style="stroke: #008000; stroke-width: 1.5;" x1="671" x2="1029" y1="608" y2="608"/><ellipse cx="681" cy="619" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="690" y="623.4189">String getName()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="693" y="637.2549"/><ellipse cx="681" cy="646.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="690" y="651.0908">boolean isCardPresent()</text><ellipse cx="681" cy="660.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="334" x="690" y="664.9268">activateProtocol(String applicationReference, String pluginReference)</text><ellipse cx="681" cy="674.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="690" y="678.7627">deactivateProtocol(String applicationReference)</text><ellipse cx="681" cy="688.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="690" y="692.5986">boolean isContactlessTransmission()</text><!--MD5=[c8cbac6d6d9e600bce6d5400427f5af6]
class PoolPlugin--><rect fill="#F0FFFF" height="89.5078" id="PoolPlugin" style="stroke: #0000FF; stroke-width: 1.5;" width="262" x="62" y="854"/><ellipse cx="153.25" cy="870" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M154.25,867 L154.25,873 L156.25,873 L156.7344,873 L157.25,873.625 L157.25,874 L157.25,874.375 L156.7344,875 L156.25,875 L150.25,875 L149.7656,875 L149.25,874.375 L149.25,874 L149.25,873.625 L149.7656,873 L150.25,873 L152.25,873 L152.25,867 L150.25,867 L149.7656,867 L149.25,866.375 L149.25,866 L149.25,865.625 L149.7656,865 L150.25,865 L156.25,865 L156.7344,865 L157.25,865.625 L157.25,866 L157.25,866.375 L156.7344,867 L156.25,867 L154.25,867 Z "/><ellipse cx="178.75" cy="869.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="184.75" y="874.9102">PoolPlugin</text><line style="stroke: #0000FF; stroke-width: 1.5;" x1="63" x2="323" y1="886" y2="886"/><line style="stroke: #0000FF; stroke-width: 1.5;" x1="63" x2="323" y1="894" y2="894"/><ellipse cx="73" cy="905" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="236" x="82" y="909.4189">SortedSet&lt;String&gt; getReaderGroupReferences()</text><ellipse cx="73" cy="918.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="82" y="923.2549">Reader allocateReader(String groupReference)</text><ellipse cx="73" cy="932.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="82" y="937.0908">releaseReader(Reader reader)</text><!--MD5=[1fa9a61019755e60a0cb03f0bc3590aa]
class ObservablePlugin--><rect fill="#F0FFFF" height="103.3438" id="ObservablePlugin" style="stroke: #0000FF; stroke-width: 1.5;" width="263" x="359.5" y="847.5"/><ellipse cx="431.25" cy="863.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M432.25,860.5 L432.25,866.5 L434.25,866.5 L434.7344,866.5 L435.25,867.125 L435.25,867.5 L435.25,867.875 L434.7344,868.5 L434.25,868.5 L428.25,868.5 L427.7656,868.5 L427.25,867.875 L427.25,867.5 L427.25,867.125 L427.7656,866.5 L428.25,866.5 L430.25,866.5 L430.25,860.5 L428.25,860.5 L427.7656,860.5 L427.25,859.875 L427.25,859.5 L427.25,859.125 L427.7656,858.5 L428.25,858.5 L434.25,858.5 L434.7344,858.5 L435.25,859.125 L435.25,859.5 L435.25,859.875 L434.7344,860.5 L434.25,860.5 L432.25,860.5 Z "/><ellipse cx="456.75" cy="863" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="100" x="462.75" y="868.4102">ObservablePlugin</text><line style="stroke: #0000FF; stroke-width: 1.5;" x1="360.5" x2="621.5" y1="879.5" y2="879.5"/><line style="stroke: #0000FF; stroke-width: 1.5;" x1="360.5" x2="621.5" y1="887.5" y2="887.5"/><ellipse cx="370.5" cy="898.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="379.5" y="902.9189">addObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="447.5" y="902.9189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="473.5" y="902.9189">PluginObserver observer)</text><ellipse cx="370.5" cy="912.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="379.5" y="916.7549">removeObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="465.5" y="916.7549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="491.5" y="916.7549">PluginObserver observer)</text><ellipse cx="370.5" cy="926.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="379.5" y="930.5908">clearObservers()</text><ellipse cx="370.5" cy="940.0078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="379.5" y="944.4268">int countObservers()</text><!--MD5=[e2341a3d5316e117132fc49473ae3219]
class ObservableReader--><rect fill="#EEFFEE" height="200.1953" id="ObservableReader" style="stroke: #008000; stroke-width: 1.5;" width="391" x="657.5" y="799"/><ellipse cx="790.25" cy="815" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M791.25,812 L791.25,818 L793.25,818 L793.7344,818 L794.25,818.625 L794.25,819 L794.25,819.375 L793.7344,820 L793.25,820 L787.25,820 L786.7656,820 L786.25,819.375 L786.25,819 L786.25,818.625 L786.7656,818 L787.25,818 L789.25,818 L789.25,812 L787.25,812 L786.7656,812 L786.25,811.375 L786.25,811 L786.25,810.625 L786.7656,810 L787.25,810 L793.25,810 L793.7344,810 L794.25,810.625 L794.25,811 L794.25,811.375 L793.7344,812 L793.25,812 L791.25,812 Z "/><ellipse cx="815.75" cy="814.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106" x="821.75" y="819.9102">ObservableReader</text><line style="stroke: #008000; stroke-width: 1.5;" x1="658.5" x2="1047.5" y1="831" y2="831"/><line style="stroke: #008000; stroke-width: 1.5;" x1="658.5" x2="1047.5" y1="839" y2="839"/><ellipse cx="668.5" cy="850" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="677.5" y="854.4189">addObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="745.5" y="854.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="771.5" y="854.4189">ReaderObserver observer)</text><ellipse cx="668.5" cy="863.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="677.5" y="868.2549">removeObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="763.5" y="868.2549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="789.5" y="868.2549">ReaderObserver observer)</text><ellipse cx="668.5" cy="877.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="677.5" y="882.0908">clearObservers()</text><ellipse cx="668.5" cy="891.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="677.5" y="895.9268">int countObservers()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="680.5" y="909.7627"/><ellipse cx="668.5" cy="919.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="365" x="677.5" y="923.5986">setDefaultSelectionRequest(AbstractDefaultSelectionsRequest selectionsR,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="273" x="677.5" y="937.4346">NotificationMode notificationM, PollingMode[0..1] pollingM)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="680.5" y="951.2705"/><ellipse cx="668.5" cy="960.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="677.5" y="965.1064">startCardDetection(PollingMode pollingMode)</text><ellipse cx="668.5" cy="974.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="677.5" y="978.9424">stopCardDetection()</text><ellipse cx="668.5" cy="988.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="677.5" y="992.7783">finalizeCardProcessing()</text><!--MD5=[230717490673261be3b1e9de94e2929c]
link SmartCardService to Plugin--><path d="M581.7063,499.9503 C581.7063,499.9503 551.315,544.361 537.922,563.933 " fill="none" id="SmartCardService-Plugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="530.444,574.861,538.8277,569.6924,533.2676,570.7346,532.2254,565.1746,530.444,574.861" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="533.2676" x2="537.785" y1="570.7346" y2="564.1325"/><polygon fill="#A80036" points="588.483,490.047,581.7935,492.7398,581.7063,499.9503,588.3957,497.2576,588.483,490.047" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="565" y="534.4951">plugins</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="576.0474" y="511.7694">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="529.9466" y="564.245">*</text><!--MD5=[8b513e08943f8bfe5c241563ffc49ec0]
link Plugin to Reader--><path d="M600.151,633.5 C600.151,633.5 637.771,633.5 656.663,633.5 " fill="none" id="Plugin-Reader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="669.765,633.5,660.765,629.5,664.765,633.5,660.765,637.5,669.765,633.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="664.765" x2="656.765" y1="633.5" y2="633.5"/><polygon fill="#A80036" points="588.151,633.5,594.151,637.5,600.151,633.5,594.151,629.5,588.151,633.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="607.5" y="626.9951">readers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="595.8571" y="630.3892">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="657.0559" y="630.6647">*</text><!--MD5=[2219806bdc996f946b60beec9aa5725f]
reverse link Plugin to PoolPlugin--><path d="M402.211,704.91 C382.474,721.08 361.829,738.404 343,755 C306.561,787.116 266.84,825.127 237.432,853.884 " fill="none" id="Plugin&lt;-PoolPlugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="397.863,699.424,417.793,692.226,406.701,710.281,397.863,699.424" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="371" y="743.4951">extends</text><!--MD5=[550a12816f88094ca7e979a72eedae9c]
reverse link Plugin to ObservablePlugin--><path d="M491,712.225 C491,755.849 491,809.03 491,847.296 " fill="none" id="Plugin&lt;-ObservablePlugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="484,712.001,491,692.001,498,712.001,484,712.001" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="492" y="743.4951">extends</text><!--MD5=[495ccb80ac82bdc45a1b0288016f2c00]
reverse link Reader to ObservableReader--><path d="M850.967,719.428 C851.256,744.791 851.575,772.816 851.873,798.999 " fill="none" id="Reader&lt;-ObservableReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="843.966,719.375,850.738,699.297,857.965,719.216,843.966,719.375" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="852" y="743.4951">extends</text><!--MD5=[d842569d2f438607af8ed0fb4cdffa11]
link PluginFactory to SmartCardService--><path d="M485.358,180.018 C508.407,207.227 540.927,245.616 571.602,281.828 " fill="none" id="PluginFactory-SmartCardService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="547.5,223,550.5,217,553.5,223,547.5,223" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="527" y="239.4951">registers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="485.1376" y="201.1911">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="557.9267" y="271.0843">1</text><!--MD5=[a4001258c8db405fbf0ed58a92e714fd]
link PluginFactory to Plugin--><path d="M450.416,180.191 C445.022,243.943 436.957,378.049 452,490 C455.587,516.692 462.792,545.461 470.044,570.112 " fill="none" id="PluginFactory-&gt;Plugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="471.494,574.986,472.7592,565.2187,470.0671,570.1939,465.0919,567.5018,471.494,574.986" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="453" y="391.4951">creates</text><polygon fill="#000000" points="470,400.3516,473,406.3516,476,400.3516,470,400.3516" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="442.287" y="201.102">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="461.5464" y="563.97">1</text><!--MD5=[96ac7ed5b9c82942bc298a1d8e0de903]
@startuml
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam shadowing false

skinparam StateBorderColor #D4AC0D
skinparam ActivityBorderColor #D4AC0D

skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #EAFAF1
skinparam ClassBorderColor<<green>> #2ECC71
hide <<green>> stereotype

skinparam ClassBackgroundColor<<orange>> #FDF2E9
skinparam ClassBorderColor<<orange>> #E67E22
hide <<orange>> stereotype

skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

package org.eclipse.keyple.core #FFFFFF {
  package plugin.factory #FFFFFF {
+interface PluginFactory {
  +String getPluginName()
  +Plugin getPluginInstance()
}
  }
  package reader #FFFFFF {
+class "<b>final</b> SmartCardService" as SmartCardService << Singleton >> {
  -<b>final</b> {static}SmartCardService uniqueInstance
  -<b>final</b> ConcurrentMap<String, Plugin> plugins
  +{static}SmartCardService getInstance()
  +String getVersion()

  +Plugin registerPlugin(PluginFactory pluginFactory)
  +boolean isRegistered(String pluginName)
  +boolean unregisterPlugin(String pluginName)

  +Plugin getPlugin(String name)
  +Map<String, Plugin> getPlugins()
}
+interface Plugin {
  +String getName()

  +Map<String, Reader> getReaders()
  +Set<String> getReaderNames()
  +Reader getReader(String name)
}
+interface Reader {
  +String getName()

  +boolean isCardPresent()
  +activateProtocol(String applicationReference, String pluginReference)
  +deactivateProtocol(String applicationReference)
  +boolean isContactlessTransmission()
}

    SmartCardService "1" *-down-> "*" Plugin : plugins
    Plugin "1" *-right-> "*" Reader : readers

+interface PoolPlugin {
  +SortedSet<String> getReaderGroupReferences()
  +Reader allocateReader(String groupReference)
  +releaseReader(Reader reader)
}
    Plugin <|- - PoolPlugin : extends

    package event #FFFFFF {
+interface ObservablePlugin {
  +addObserver(<b>final</b> PluginObserver observer)
  +removeObserver(<b>final</b> PluginObserver observer)
  +clearObservers()
  +int countObservers()
}
+interface ObservableReader {
  +addObserver(<b>final</b> ReaderObserver observer)
  +removeObserver(<b>final</b> ReaderObserver observer)
  +clearObservers()
  +int countObservers()

  +setDefaultSelectionRequest(AbstractDefaultSelectionsRequest selectionsR,
    NotificationMode notificationM, PollingMode[0..1] pollingM)

  +startCardDetection(PollingMode pollingMode)
  +stopCardDetection()
  +finalizeCardProcessing()
}
    }
    Plugin <|- - ObservablePlugin : extends
    Reader <|- - ObservableReader : extends
  }

  PluginFactory "*" -down- "1" SmartCardService : registers <
  PluginFactory "1" - -> "1" Plugin : creates >
}

interface Plugin <<Plugin>>
interface ObservablePlugin <<Plugin>>
interface PoolPlugin <<Plugin>>
hide <<Plugin>> stereotype

interface Reader <<Reader>>
interface ObservableReader <<Reader>>
hide <<Reader>> stereotype

skinparam class {
  BackgroundColor<<Plugin>> Azure
  BorderColor<<Plugin>> Blue
  BackgroundColor<<Reader>> #EEFFEE
  BorderColor<<Reader>> Green
}
@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>