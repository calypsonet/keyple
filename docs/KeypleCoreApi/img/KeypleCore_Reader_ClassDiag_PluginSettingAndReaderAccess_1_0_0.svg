<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1117px" preserveAspectRatio="none" style="width:1150px;height:1117px;" version="1.1" viewBox="0 0 1150 1117" width="1150px" zoomAndPan="magnify"><defs/><g><!--MD5=[c3c915b379c717332e210d38dcd6e8a2]
cluster org.eclipse.keyple.core--><polygon fill="#FFFFFF" points="22,24,193,24,200,47.6094,1128,47.6094,1128,1105,22,1105,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="200" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="26" y="40.5332">org.eclipse.keyple.core</text><!--MD5=[d7d97e45e091edffeb4e8c3bb1cf3c1a]
cluster plugin.factory--><polygon fill="#FFFFFF" points="363,68,465,68,472,91.6094,545,91.6094,545,196,363,196,363,68" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="363" x2="472" y1="91.6094" y2="91.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96" x="367" y="84.5332">plugin.factory</text><!--MD5=[9d4f2f8fc0ef5fca8dbaabf8542dfdf0]
cluster reader--><polygon fill="#FFFFFF" points="46,246,99,246,106,269.6094,1104,269.6094,1104,1081,46,1081,46,246" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="106" y1="269.6094" y2="269.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="50" y="262.5332">reader</text><!--MD5=[2e31800f208179cab94650aeb782e4d8]
cluster event--><polygon fill="#FFFFFF" points="343,777,390,777,397,800.6094,1080,800.6094,1080,1057,343,1057,343,777" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="343" x2="397" y1="800.6094" y2="800.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="41" x="347" y="793.5332">event</text><!--MD5=[5c68026ea752d2e8f1e184b2d7c89ced]
class PluginFactory--><rect fill="#FEFECE" height="75.6719" id="PluginFactory" style="stroke: #D4AC0D; stroke-width: 1.5;" width="149" x="379.5" y="104"/><ellipse cx="408.45" cy="120" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M409.45,117 L409.45,123 L411.45,123 L411.9344,123 L412.45,123.625 L412.45,124 L412.45,124.375 L411.9344,125 L411.45,125 L405.45,125 L404.9656,125 L404.45,124.375 L404.45,124 L404.45,123.625 L404.9656,123 L405.45,123 L407.45,123 L407.45,117 L405.45,117 L404.9656,117 L404.45,116.375 L404.45,116 L404.45,115.625 L404.9656,115 L405.45,115 L411.45,115 L411.9344,115 L412.45,115.625 L412.45,116 L412.45,116.375 L411.9344,117 L411.45,117 L409.45,117 Z "/><ellipse cx="430.55" cy="119.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="75" x="436.55" y="124.9102">PluginFactory</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="380.5" x2="527.5" y1="136" y2="136"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="380.5" x2="527.5" y1="144" y2="144"/><ellipse cx="390.5" cy="155" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="399.5" y="159.4189">String getPluginName()</text><ellipse cx="390.5" cy="168.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="399.5" y="173.2549">Plugin getPluginInstance()</text><!--MD5=[bc3f57c567736ad71a70f1388d085699]
class SmartCardService--><rect fill="#FEFECE" height="208.3828" id="SmartCardService" style="stroke: #D4AC0D; stroke-width: 1.5;" width="263" x="527.5" y="282"/><ellipse cx="585.75" cy="302.0938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M587.75,298.5938 Q587.9531,298.0938 588.1875,297.8438 Q588.4219,297.5938 588.6875,297.5938 Q589.1563,297.5938 589.4531,297.875 Q589.75,298.1563 589.75,298.8125 L589.75,300.375 Q589.75,301.0313 589.4688,301.3125 Q589.1875,301.5938 588.75,301.5938 Q588.3594,301.5938 588.1094,301.4219 Q587.8594,301.25 587.75,300.7969 Q587.7031,300.4844 587.5313,300.3125 Q587.2188,299.9844 586.6563,299.7969 Q586.0938,299.5938 585.5313,299.5938 Q584.8281,299.5938 584.2344,299.875 Q583.6563,300.1563 583.2031,300.7813 Q582.75,301.4063 582.75,302.2656 L582.75,303.1875 Q582.75,304.2188 583.5938,304.9063 Q584.4375,305.5938 585.9375,305.5938 Q586.8281,305.5938 587.4531,305.3906 Q587.8125,305.2813 588.2188,304.9219 Q588.4844,304.7188 588.625,304.6563 Q588.7656,304.5938 588.9375,304.5938 Q589.2656,304.5938 589.5,304.8594 Q589.75,305.1094 589.75,305.4688 Q589.75,305.8125 589.4063,306.2188 Q588.9063,306.8125 588.1094,307.1406 Q587.0625,307.5938 585.7813,307.5938 Q584.2813,307.5938 583.0781,307 Q582.1094,306.5313 581.4219,305.5156 Q580.75,304.5 580.75,303.2969 L580.75,302.2031 Q580.75,300.9531 581.3438,299.8594 Q581.9531,298.7656 583,298.1875 Q584.0625,297.5938 585.25,297.5938 Q585.9688,297.5938 586.5938,297.8438 Q587.2188,298.0938 587.75,298.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="642.25" y="299.457">«Singleton»</text><ellipse cx="611.25" cy="309.1406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="617.25" y="314.5508">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="644.25" y="314.5508">SmartCardService</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="528.5" x2="789.5" y1="322.1875" y2="322.1875"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="535.5" y="330.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="23" x="547.5" y="337.6064">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="164" x="573.5" y="337.6064">SmartCardService uniqueInstance</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="535.5" y="344.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="547.5" y="351.4424">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="573.5" y="351.4424">ConcurrentMap&lt;String, Plugin&gt; plugins</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="528.5" x2="789.5" y1="357.8594" y2="357.8594"/><ellipse cx="538.5" cy="368.8594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="155" x="547.5" y="373.2783">SmartCardService getInstance()</text><ellipse cx="538.5" cy="382.6953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="547.5" y="387.1143">String getVersion()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="550.5" y="400.9502"/><ellipse cx="538.5" cy="410.3672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="237" x="547.5" y="414.7861">Plugin registerPlugin(PluginFactory pluginFactory)</text><ellipse cx="538.5" cy="424.2031" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="547.5" y="428.6221">boolean isRegistered(String pluginName)</text><ellipse cx="538.5" cy="438.0391" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="212" x="547.5" y="442.458">boolean unregisterPlugin(String pluginName)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="550.5" y="456.2939"/><ellipse cx="538.5" cy="465.7109" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="547.5" y="470.1299">Plugin getPlugin(String name)</text><ellipse cx="538.5" cy="479.5469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="547.5" y="483.9658">Map&lt;String, Plugin&gt; getPlugins()</text><!--MD5=[b628511dd50102041730ee0512f882c8]
class Plugin--><rect fill="#F0FFFF" height="117.1797" id="Plugin" style="stroke: #0000FF; stroke-width: 1.5;" width="194" x="394" y="582"/><ellipse cx="463.75" cy="598" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M464.75,595 L464.75,601 L466.75,601 L467.2344,601 L467.75,601.625 L467.75,602 L467.75,602.375 L467.2344,603 L466.75,603 L460.75,603 L460.2656,603 L459.75,602.375 L459.75,602 L459.75,601.625 L460.2656,601 L460.75,601 L462.75,601 L462.75,595 L460.75,595 L460.2656,595 L459.75,594.375 L459.75,594 L459.75,593.625 L460.2656,593 L460.75,593 L466.75,593 L467.2344,593 L467.75,593.625 L467.75,594 L467.75,594.375 L467.2344,595 L466.75,595 L464.75,595 Z "/><ellipse cx="489.25" cy="597.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="35" x="495.25" y="602.9102">Plugin</text><line style="stroke: #0000FF; stroke-width: 1.5;" x1="395" x2="587" y1="614" y2="614"/><line style="stroke: #0000FF; stroke-width: 1.5;" x1="395" x2="587" y1="622" y2="622"/><ellipse cx="405" cy="633" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="414" y="637.4189">String getName()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="417" y="651.2549"/><ellipse cx="405" cy="660.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="414" y="665.0908">Map&lt;String, Reader&gt; getReaders()</text><ellipse cx="405" cy="674.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="414" y="678.9268">Set&lt;String&gt; getReaderNames()</text><ellipse cx="405" cy="688.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="414" y="692.7627">Reader getReader(String name)</text><!--MD5=[e86a4777f2c0372cf9fb3cd047e1466e]
class Reader--><rect fill="#EEFFEE" height="144.8516" id="Reader" style="stroke: #008000; stroke-width: 1.5;" width="360" x="674" y="568"/><ellipse cx="823.75" cy="584" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M824.75,581 L824.75,587 L826.75,587 L827.2344,587 L827.75,587.625 L827.75,588 L827.75,588.375 L827.2344,589 L826.75,589 L820.75,589 L820.2656,589 L819.75,588.375 L819.75,588 L819.75,587.625 L820.2656,587 L820.75,587 L822.75,587 L822.75,581 L820.75,581 L820.2656,581 L819.75,580.375 L819.75,580 L819.75,579.625 L820.2656,579 L820.75,579 L826.75,579 L827.2344,579 L827.75,579.625 L827.75,580 L827.75,580.375 L827.2344,581 L826.75,581 L824.75,581 Z "/><ellipse cx="849.25" cy="583.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="41" x="855.25" y="588.9102">Reader</text><line style="stroke: #008000; stroke-width: 1.5;" x1="675" x2="1033" y1="600" y2="600"/><line style="stroke: #008000; stroke-width: 1.5;" x1="675" x2="1033" y1="608" y2="608"/><ellipse cx="685" cy="619" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="694" y="623.4189">String getName()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="697" y="637.2549"/><ellipse cx="685" cy="646.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="694" y="651.0908">boolean isCardPresent()</text><ellipse cx="685" cy="660.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="694" y="664.9268">boolean isContactlessTransmission()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="697" y="678.7627"/><ellipse cx="685" cy="688.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="334" x="694" y="692.5986">activateProtocol(String applicationReference, String pluginReference)</text><ellipse cx="685" cy="702.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="694" y="706.4346">deactivateProtocol(String applicationReference)</text><!--MD5=[c8cbac6d6d9e600bce6d5400427f5af6]
class PoolPlugin--><rect fill="#F0FFFF" height="89.5078" id="PoolPlugin" style="stroke: #0000FF; stroke-width: 1.5;" width="262" x="62" y="882"/><ellipse cx="153.25" cy="898" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M154.25,895 L154.25,901 L156.25,901 L156.7344,901 L157.25,901.625 L157.25,902 L157.25,902.375 L156.7344,903 L156.25,903 L150.25,903 L149.7656,903 L149.25,902.375 L149.25,902 L149.25,901.625 L149.7656,901 L150.25,901 L152.25,901 L152.25,895 L150.25,895 L149.7656,895 L149.25,894.375 L149.25,894 L149.25,893.625 L149.7656,893 L150.25,893 L156.25,893 L156.7344,893 L157.25,893.625 L157.25,894 L157.25,894.375 L156.7344,895 L156.25,895 L154.25,895 Z "/><ellipse cx="178.75" cy="897.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="184.75" y="902.9102">PoolPlugin</text><line style="stroke: #0000FF; stroke-width: 1.5;" x1="63" x2="323" y1="914" y2="914"/><line style="stroke: #0000FF; stroke-width: 1.5;" x1="63" x2="323" y1="922" y2="922"/><ellipse cx="73" cy="933" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="236" x="82" y="937.4189">SortedSet&lt;String&gt; getReaderGroupReferences()</text><ellipse cx="73" cy="946.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="82" y="951.2549">Reader allocateReader(String groupReference)</text><ellipse cx="73" cy="960.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="82" y="965.0908">releaseReader(Reader reader)</text><!--MD5=[1fa9a61019755e60a0cb03f0bc3590aa]
class ObservablePlugin--><rect fill="#F0FFFF" height="103.3438" id="ObservablePlugin" style="stroke: #0000FF; stroke-width: 1.5;" width="263" x="359.5" y="875.5"/><ellipse cx="431.25" cy="891.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M432.25,888.5 L432.25,894.5 L434.25,894.5 L434.7344,894.5 L435.25,895.125 L435.25,895.5 L435.25,895.875 L434.7344,896.5 L434.25,896.5 L428.25,896.5 L427.7656,896.5 L427.25,895.875 L427.25,895.5 L427.25,895.125 L427.7656,894.5 L428.25,894.5 L430.25,894.5 L430.25,888.5 L428.25,888.5 L427.7656,888.5 L427.25,887.875 L427.25,887.5 L427.25,887.125 L427.7656,886.5 L428.25,886.5 L434.25,886.5 L434.7344,886.5 L435.25,887.125 L435.25,887.5 L435.25,887.875 L434.7344,888.5 L434.25,888.5 L432.25,888.5 Z "/><ellipse cx="456.75" cy="891" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="100" x="462.75" y="896.4102">ObservablePlugin</text><line style="stroke: #0000FF; stroke-width: 1.5;" x1="360.5" x2="621.5" y1="907.5" y2="907.5"/><line style="stroke: #0000FF; stroke-width: 1.5;" x1="360.5" x2="621.5" y1="915.5" y2="915.5"/><ellipse cx="370.5" cy="926.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="379.5" y="930.9189">addObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="447.5" y="930.9189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="473.5" y="930.9189">PluginObserver observer)</text><ellipse cx="370.5" cy="940.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="379.5" y="944.7549">removeObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="465.5" y="944.7549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="491.5" y="944.7549">PluginObserver observer)</text><ellipse cx="370.5" cy="954.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="379.5" y="958.5908">clearObservers()</text><ellipse cx="370.5" cy="968.0078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="379.5" y="972.4268">int countObservers()</text><!--MD5=[e2341a3d5316e117132fc49473ae3219]
class ObservableReader--><rect fill="#EEFFEE" height="227.8672" id="ObservableReader" style="stroke: #008000; stroke-width: 1.5;" width="406" x="658" y="813"/><ellipse cx="798.25" cy="829" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M799.25,826 L799.25,832 L801.25,832 L801.7344,832 L802.25,832.625 L802.25,833 L802.25,833.375 L801.7344,834 L801.25,834 L795.25,834 L794.7656,834 L794.25,833.375 L794.25,833 L794.25,832.625 L794.7656,832 L795.25,832 L797.25,832 L797.25,826 L795.25,826 L794.7656,826 L794.25,825.375 L794.25,825 L794.25,824.625 L794.7656,824 L795.25,824 L801.25,824 L801.7344,824 L802.25,824.625 L802.25,825 L802.25,825.375 L801.7344,826 L801.25,826 L799.25,826 Z "/><ellipse cx="823.75" cy="828.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106" x="829.75" y="833.9102">ObservableReader</text><line style="stroke: #008000; stroke-width: 1.5;" x1="659" x2="1063" y1="845" y2="845"/><line style="stroke: #008000; stroke-width: 1.5;" x1="659" x2="1063" y1="853" y2="853"/><ellipse cx="669" cy="864" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="678" y="868.4189">addObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="746" y="868.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="772" y="868.4189">ReaderObserver observer)</text><ellipse cx="669" cy="877.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="678" y="882.2549">removeObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="764" y="882.2549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="790" y="882.2549">ReaderObserver observer)</text><ellipse cx="669" cy="891.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="678" y="896.0908">clearObservers()</text><ellipse cx="669" cy="905.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="678" y="909.9268">int countObservers()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="681" y="923.7627"/><ellipse cx="669" cy="933.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="269" x="678" y="937.5986">setDefaultSelections(AbstractDefaultSelectionsRequest</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="208" x="678" y="951.4346">selectionsR, NotificationMode notificationM)</text><ellipse cx="669" cy="960.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="380" x="678" y="965.2705">setDefaultSelectionsAndStartCardDetection(AbstractDefaultSelectionsRequest</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="311" x="678" y="979.1064">selectionsR, NotificationMode notificationM, PollingMode pollingM)</text><ellipse cx="669" cy="988.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="678" y="992.9424">startCardDetection(PollingMode pollingMode)</text><ellipse cx="669" cy="1002.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="678" y="1006.7783">stopCardDetection()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="681" y="1020.6143"/><ellipse cx="669" cy="1030.0313" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="678" y="1034.4502">finalizeCardProcessing()</text><!--MD5=[230717490673261be3b1e9de94e2929c]
link SmartCardService to Plugin--><path d="M583.779,500.0569 C583.779,500.0569 550.93,549.427 536.585,570.988 " fill="none" id="SmartCardService-Plugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="529.269,581.983,537.5848,576.706,532.0388,577.8203,530.9245,572.2743,529.269,581.983" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="532.0388" x2="536.47" y1="577.8203" y2="571.1595"/><polygon fill="#A80036" points="590.426,490.066,583.7722,492.8458,583.779,500.0569,590.4328,497.2771,590.426,490.066" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="570" y="534.4951">plugins</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="578.1331" y="511.7898">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="528.8519" y="570.9666">*</text><!--MD5=[8b513e08943f8bfe5c241563ffc49ec0]
link Plugin to Reader--><path d="M600.277,640.5 C600.277,640.5 640.295,640.5 660.475,640.5 " fill="none" id="Plugin-Reader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="673.755,640.5,664.755,636.5,668.755,640.5,664.755,644.5,673.755,640.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="668.755" x2="660.755" y1="640.5" y2="640.5"/><polygon fill="#A80036" points="588.277,640.5,594.277,644.5,600.277,640.5,594.277,636.5,588.277,640.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="609.5" y="633.9951">readers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="595.9927" y="637.3892">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="661.0454" y="637.6682">*</text><!--MD5=[2219806bdc996f946b60beec9aa5725f]
reverse link Plugin to PoolPlugin--><path d="M405.903,712.344 C384.982,730.43 362.888,750.11 343,769 C304.323,805.735 262.575,849.827 232.967,881.919 " fill="none" id="Plugin&lt;-PoolPlugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="401.511,706.889,421.247,699.179,410.627,717.514,401.511,706.889" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="371" y="757.4951">extends</text><!--MD5=[550a12816f88094ca7e979a72eedae9c]
reverse link Plugin to ObservablePlugin--><path d="M491,719.104 C491,768.783 491,831.824 491,875.188 " fill="none" id="Plugin&lt;-ObservablePlugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="484,719.073,491,699.073,498,719.073,484,719.073" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="492" y="757.4951">extends</text><!--MD5=[495ccb80ac82bdc45a1b0288016f2c00]
reverse link Reader to ObservableReader--><path d="M856.263,733.467 C856.886,758.808 857.57,786.594 858.219,812.977 " fill="none" id="Reader&lt;-ObservableReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="849.261,733.458,855.766,713.291,863.256,733.113,849.261,733.458" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="857" y="757.4951">extends</text><!--MD5=[d842569d2f438607af8ed0fb4cdffa11]
link PluginFactory to SmartCardService--><path d="M485.358,180.018 C508.407,207.227 540.927,245.616 571.602,281.828 " fill="none" id="PluginFactory-SmartCardService" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="527" y="226.4951">sets</text><polygon fill="#000000" points="535,235.3516,538,241.3516,541,235.3516,535,235.3516" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="485.1376" y="201.1911">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="557.9267" y="271.0843">1</text><!--MD5=[a4001258c8db405fbf0ed58a92e714fd]
link PluginFactory to Plugin--><path d="M453.03,180.447 C452.624,197.932 452.2,219.03 452,238 C450.821,349.994 437.749,378.91 452,490 C455.727,519.054 463.371,550.524 470.912,577.063 " fill="none" id="PluginFactory-&gt;Plugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="472.318,581.959,473.6786,572.2046,470.938,577.1532,465.9893,574.4126,472.318,581.959" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="453" y="391.4951">creates</text><polygon fill="#000000" points="470,400.3516,473,406.3516,476,400.3516,470,400.3516" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="445.3455" y="201.1064">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="462.4759" y="570.9396">1</text><!--MD5=[6f52c569f751d535eac89068c17d9508]
@startuml
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam shadowing false

skinparam StateBorderColor #D4AC0D
skinparam ActivityBorderColor #D4AC0D

skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #EAFAF1
skinparam ClassBorderColor<<green>> #2ECC71
hide <<green>> stereotype

skinparam ClassBackgroundColor<<orange>> #FDF2E9
skinparam ClassBorderColor<<orange>> #E67E22
hide <<orange>> stereotype

skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

package org.eclipse.keyple.core #FFFFFF {
  package plugin.factory #FFFFFF {
+interface PluginFactory {
  +String getPluginName()
  +Plugin getPluginInstance()
}
  }
  package reader #FFFFFF {
+class "<b>final</b> SmartCardService" as SmartCardService << Singleton >> {
  -<b>final</b> {static}SmartCardService uniqueInstance
  -<b>final</b> ConcurrentMap<String, Plugin> plugins
  +{static}SmartCardService getInstance()
  +String getVersion()

  +Plugin registerPlugin(PluginFactory pluginFactory)
  +boolean isRegistered(String pluginName)
  +boolean unregisterPlugin(String pluginName)

  +Plugin getPlugin(String name)
  +Map<String, Plugin> getPlugins()
}
+interface Plugin {
  +String getName()

  +Map<String, Reader> getReaders()
  +Set<String> getReaderNames()
  +Reader getReader(String name)
}
+interface Reader {
  +String getName()

  +boolean isCardPresent()
  +boolean isContactlessTransmission()

  +activateProtocol(String applicationReference, String pluginReference)
  +deactivateProtocol(String applicationReference)
}

    SmartCardService "1" *-down-> "*" Plugin : plugins
    Plugin "1" *-right-> "*" Reader : readers

+interface PoolPlugin {
  +SortedSet<String> getReaderGroupReferences()
  +Reader allocateReader(String groupReference)
  +releaseReader(Reader reader)
}
    Plugin <|- - PoolPlugin : extends

    package event #FFFFFF {
+interface ObservablePlugin {
  +addObserver(<b>final</b> PluginObserver observer)
  +removeObserver(<b>final</b> PluginObserver observer)
  +clearObservers()
  +int countObservers()
}
+interface ObservableReader {
  +addObserver(<b>final</b> ReaderObserver observer)
  +removeObserver(<b>final</b> ReaderObserver observer)
  +clearObservers()
  +int countObservers()

  +setDefaultSelections(AbstractDefaultSelectionsRequest
    selectionsR, NotificationMode notificationM)
  +setDefaultSelectionsAndStartCardDetection(AbstractDefaultSelectionsRequest
    selectionsR, NotificationMode notificationM, PollingMode pollingM)
  +startCardDetection(PollingMode pollingMode)
  +stopCardDetection()

  +finalizeCardProcessing()
}
    }
    Plugin <|- - ObservablePlugin : extends
    Reader <|- - ObservableReader : extends
  }

  PluginFactory "*" -down- "1" SmartCardService : sets >
  PluginFactory "1" - -> "1" Plugin : creates >
}

interface Plugin <<Plugin>>
interface ObservablePlugin <<Plugin>>
interface PoolPlugin <<Plugin>>
hide <<Plugin>> stereotype

interface Reader <<Reader>>
interface ObservableReader <<Reader>>
hide <<Reader>> stereotype

skinparam class {
  BackgroundColor<<Plugin>> Azure
  BorderColor<<Plugin>> Blue
  BackgroundColor<<Reader>> #EEFFEE
  BorderColor<<Reader>> Green
}
@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>