<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1420px" preserveAspectRatio="none" style="width:2386px;height:1420px;" version="1.1" viewBox="0 0 2386 1420" width="2386px" zoomAndPan="magnify"><defs/><g><!--MD5=[c3c915b379c717332e210d38dcd6e8a2]
cluster org.eclipse.keyple.core--><polygon fill="#FFFFFF" points="22,24,193,24,200,47.6094,2364,47.6094,2364,1408,22,1408,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="200" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="26" y="40.5332">org.eclipse.keyple.core</text><!--MD5=[9d4f2f8fc0ef5fca8dbaabf8542dfdf0]
cluster reader--><polygon fill="#FFFFFF" points="1630,449.5,1683,449.5,1690,473.1094,2332,473.1094,2332,1092.5,1630,1092.5,1630,449.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1630" x2="1690" y1="473.1094" y2="473.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="1634" y="466.0332">reader</text><!--MD5=[ef25ec125d353583c94ea8204eb06888]
cluster even_request--><polygon fill="#FFFFFF" points="2038,501.5,2085,501.5,2092,525.1094,2300,525.1094,2300,1060.5,2038,1060.5,2038,501.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2038" x2="2092" y1="525.1094" y2="525.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="41" x="2042" y="518.0332">event</text><!--MD5=[fc5f7357635190d92cef7ec8135ac887]
cluster card--><polygon fill="#FFFFFF" points="54,76,91,76,98,99.6094,1590,99.6094,1590,1376,54,1376,54,76" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="54" x2="98" y1="99.6094" y2="99.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="58" y="92.5332">card</text><!--MD5=[3400e5e1a9d8ffd8780970ed03335273]
cluster selection--><polygon fill="#FFFFFF" points="713,128,784,128,791,151.6094,973,151.6094,973,373,713,373,713,128" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="713" x2="791" y1="151.6094" y2="151.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65" x="717" y="144.5332">selection</text><!--MD5=[9b9eb2a75cf02134ca888acb9ec1b2e1]
class CardReader--><rect fill="#FEFECE" height="131.0156" id="CardReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="360" x="1662" y="746"/><ellipse cx="1798.25" cy="762" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M1799.25,759 L1799.25,765 L1801.25,765 L1801.7344,765 L1802.25,765.625 L1802.25,766 L1802.25,766.375 L1801.7344,767 L1801.25,767 L1795.25,767 L1794.7656,767 L1794.25,766.375 L1794.25,766 L1794.25,765.625 L1794.7656,765 L1795.25,765 L1797.25,765 L1797.25,759 L1795.25,759 L1794.7656,759 L1794.25,758.375 L1794.25,758 L1794.25,757.625 L1794.7656,757 L1795.25,757 L1801.25,757 L1801.7344,757 L1802.25,757.625 L1802.25,758 L1802.25,758.375 L1801.7344,759 L1801.25,759 L1799.25,759 Z "/><ellipse cx="1823.75" cy="761.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="68" x="1829.75" y="766.9102">CardReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1663" x2="2021" y1="778" y2="778"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1663" x2="2021" y1="786" y2="786"/><ellipse cx="1673" cy="797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="1682" y="801.4189">String getName()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1685" y="815.2549"/><ellipse cx="1673" cy="824.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="1682" y="829.0908">boolean isCardPresent()</text><ellipse cx="1673" cy="838.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="334" x="1682" y="842.9268">activateProtocol(String applicationReference, String pluginReference)</text><ellipse cx="1673" cy="852.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="1682" y="856.7627">deactivateProtocol(String applicationReference)</text><ellipse cx="1673" cy="866.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="1682" y="870.5986">boolean isContactlessTransmission()</text><!--MD5=[cfa5e1a9c30861ac5ad043f1201ace69]
class AbstractDefaultSelectionsRequest--><rect fill="#FEFECE" height="48" id="AbstractDefaultSelectionsRequest" style="stroke: #D4AC0D; stroke-width: 1.5;" width="219" x="2054.5" y="557.5"/><ellipse cx="2069.5" cy="573.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M2071.25,575 L2067.9531,575 L2067.5156,576 L2067.5156,576 L2067.9844,576 L2068.5,576.625 L2068.5,577 L2068.5,577.375 L2067.9844,578 L2067.5156,578 L2065.625,578 L2065.0156,578 L2064.5,577.375 L2064.5,577 L2064.5,576.625 L2065.0156,576 L2065.625,576 L2067.9375,570 L2067.0625,570 L2066.0156,570 L2065.5,569.375 L2065.5,569 L2065.5,568.625 L2066.0156,568 L2067.0625,568 L2070.7344,568 L2073.4219,576 L2073.9844,576 L2073.9844,576 L2074.5,576.625 L2074.5,577 L2074.5,577.375 L2073.9844,578 L2073.4219,578 L2071.5313,578 L2071.0156,578 L2070.5,577.375 L2070.5,577 L2070.5,576.625 L2071.0156,576 L2071.5313,576 L2071.5313,576 L2071.25,575 Z M2070.7031,573 L2069.5,569.4219 L2068.4688,573 L2070.7031,573 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="187" x="2083.5" y="578.4102">AbstractDefaultSelectionsRequest</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="2055.5" x2="2272.5" y1="589.5" y2="589.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="2055.5" x2="2272.5" y1="597.5" y2="597.5"/><!--MD5=[e2341a3d5316e117132fc49473ae3219]
class ObservableReader--><rect fill="#FEFECE" height="48" id="ObservableReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="138" x="2105" y="787.5"/><ellipse cx="2120" cy="803.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M2121,800.5 L2121,806.5 L2123,806.5 L2123.4844,806.5 L2124,807.125 L2124,807.5 L2124,807.875 L2123.4844,808.5 L2123,808.5 L2117,808.5 L2116.5156,808.5 L2116,807.875 L2116,807.5 L2116,807.125 L2116.5156,806.5 L2117,806.5 L2119,806.5 L2119,800.5 L2117,800.5 L2116.5156,800.5 L2116,799.875 L2116,799.5 L2116,799.125 L2116.5156,798.5 L2117,798.5 L2123,798.5 L2123.4844,798.5 L2124,799.125 L2124,799.5 L2124,799.875 L2123.4844,800.5 L2123,800.5 L2121,800.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106" x="2134" y="808.4102">ObservableReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="2106" x2="2242" y1="819.5" y2="819.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="2106" x2="2242" y1="827.5" y2="827.5"/><!--MD5=[8f41c7e8d8e3ce316d782de639711bb6]
class AbstractDefaultSelectionsResponse--><rect fill="#FEFECE" height="48" id="AbstractDefaultSelectionsResponse" style="stroke: #D4AC0D; stroke-width: 1.5;" width="229" x="2054.5" y="996.5"/><ellipse cx="2069.5" cy="1012.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M2071.25,1014 L2067.9531,1014 L2067.5156,1015 L2067.5156,1015 L2067.9844,1015 L2068.5,1015.625 L2068.5,1016 L2068.5,1016.375 L2067.9844,1017 L2067.5156,1017 L2065.625,1017 L2065.0156,1017 L2064.5,1016.375 L2064.5,1016 L2064.5,1015.625 L2065.0156,1015 L2065.625,1015 L2067.9375,1009 L2067.0625,1009 L2066.0156,1009 L2065.5,1008.375 L2065.5,1008 L2065.5,1007.625 L2066.0156,1007 L2067.0625,1007 L2070.7344,1007 L2073.4219,1015 L2073.9844,1015 L2073.9844,1015 L2074.5,1015.625 L2074.5,1016 L2074.5,1016.375 L2073.9844,1017 L2073.4219,1017 L2071.5313,1017 L2071.0156,1017 L2070.5,1016.375 L2070.5,1016 L2070.5,1015.625 L2071.0156,1015 L2071.5313,1015 L2071.5313,1015 L2071.25,1014 Z M2070.7031,1012 L2069.5,1008.4219 L2068.4688,1012 L2070.7031,1012 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="197" x="2083.5" y="1017.4102">AbstractDefaultSelectionsResponse</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="2055.5" x2="2282.5" y1="1028.5" y2="1028.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="2055.5" x2="2282.5" y1="1036.5" y2="1036.5"/><!--MD5=[8d2debdbb32bf9c83697f345c4529e73]
class ApduRequest--><rect fill="#FDF2E9" height="214.0313" id="ApduRequest" style="stroke: #E67E22; stroke-width: 1.5;" width="260" x="311" y="163.5"/><ellipse cx="380.25" cy="179.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M382.25,176 Q382.4531,175.5 382.6875,175.25 Q382.9219,175 383.1875,175 Q383.6563,175 383.9531,175.2813 Q384.25,175.5625 384.25,176.2188 L384.25,177.7813 Q384.25,178.4375 383.9688,178.7188 Q383.6875,179 383.25,179 Q382.8594,179 382.6094,178.8281 Q382.3594,178.6563 382.25,178.2031 Q382.2031,177.8906 382.0313,177.7188 Q381.7188,177.3906 381.1563,177.2031 Q380.5938,177 380.0313,177 Q379.3281,177 378.7344,177.2813 Q378.1563,177.5625 377.7031,178.1875 Q377.25,178.8125 377.25,179.6719 L377.25,180.5938 Q377.25,181.625 378.0938,182.3125 Q378.9375,183 380.4375,183 Q381.3281,183 381.9531,182.7969 Q382.3125,182.6875 382.7188,182.3281 Q382.9844,182.125 383.125,182.0625 Q383.2656,182 383.4375,182 Q383.7656,182 384,182.2656 Q384.25,182.5156 384.25,182.875 Q384.25,183.2188 383.9063,183.625 Q383.4063,184.2188 382.6094,184.5469 Q381.5625,185 380.2813,185 Q378.7813,185 377.5781,184.4063 Q376.6094,183.9375 375.9219,182.9219 Q375.25,181.9063 375.25,180.7031 L375.25,179.6094 Q375.25,178.3594 375.8438,177.2656 Q376.4531,176.1719 377.5,175.5938 Q378.5625,175 379.75,175 Q380.4688,175 381.0938,175.25 Q381.7188,175.5 382.25,176 Z "/><ellipse cx="405.75" cy="179" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="411.75" y="184.4102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="438.75" y="184.4102">ApduRequest</text><line style="stroke: #E67E22; stroke-width: 1.5;" x1="312" x2="570" y1="195.5" y2="195.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="319" y="203.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="331" y="210.9189">byte[] bytes</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="319" y="217.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="331" y="224.7549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="357" y="224.7549">boolean case4</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="319" y="231.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="331" y="238.5908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="354" y="238.5908">Set&lt;Integer&gt; successfulStatusCodes</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="319" y="245.0078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="331" y="252.4268">String name</text><line style="stroke: #E67E22; stroke-width: 1.5;" x1="312" x2="570" y1="258.8438" y2="258.8438"/><ellipse cx="322" cy="269.8438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="211" x="331" y="274.2627">ApduRequest(byte[] buffer, boolean case4)</text><ellipse cx="322" cy="283.6797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="331" y="288.0986">setName(&lt;final&gt; String name)</text><ellipse cx="322" cy="297.5156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="331" y="301.9346">setSuccessfulStatusCodes(Set&lt;Integer&gt; codes)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="334" y="315.7705"/><ellipse cx="322" cy="325.1875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="331" y="329.6064">byte[] getBytes()</text><ellipse cx="322" cy="339.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="331" y="343.4424">boolean isCase4()</text><ellipse cx="322" cy="352.8594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="331" y="357.2783">String getName()</text><ellipse cx="322" cy="366.6953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="204" x="331" y="371.1143">Set&lt;Integer&gt; getSuccessfulStatusCodes()</text><!--MD5=[020bc233d237158d8be37d9dae17a65e]
class ApduResponse--><rect fill="#FDEDEC" height="186.3594" id="ApduResponse" style="stroke: #E74C3C; stroke-width: 1.5;" width="260" x="283" y="1166"/><ellipse cx="346.75" cy="1182" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M348.75,1178.5 Q348.9531,1178 349.1875,1177.75 Q349.4219,1177.5 349.6875,1177.5 Q350.1563,1177.5 350.4531,1177.7813 Q350.75,1178.0625 350.75,1178.7188 L350.75,1180.2813 Q350.75,1180.9375 350.4688,1181.2188 Q350.1875,1181.5 349.75,1181.5 Q349.3594,1181.5 349.1094,1181.3281 Q348.8594,1181.1563 348.75,1180.7031 Q348.7031,1180.3906 348.5313,1180.2188 Q348.2188,1179.8906 347.6563,1179.7031 Q347.0938,1179.5 346.5313,1179.5 Q345.8281,1179.5 345.2344,1179.7813 Q344.6563,1180.0625 344.2031,1180.6875 Q343.75,1181.3125 343.75,1182.1719 L343.75,1183.0938 Q343.75,1184.125 344.5938,1184.8125 Q345.4375,1185.5 346.9375,1185.5 Q347.8281,1185.5 348.4531,1185.2969 Q348.8125,1185.1875 349.2188,1184.8281 Q349.4844,1184.625 349.625,1184.5625 Q349.7656,1184.5 349.9375,1184.5 Q350.2656,1184.5 350.5,1184.7656 Q350.75,1185.0156 350.75,1185.375 Q350.75,1185.7188 350.4063,1186.125 Q349.9063,1186.7188 349.1094,1187.0469 Q348.0625,1187.5 346.7813,1187.5 Q345.2813,1187.5 344.0781,1186.9063 Q343.1094,1186.4375 342.4219,1185.4219 Q341.75,1184.4063 341.75,1183.2031 L341.75,1182.1094 Q341.75,1180.8594 342.3438,1179.7656 Q342.9531,1178.6719 344,1178.0938 Q345.0625,1177.5 346.25,1177.5 Q346.9688,1177.5 347.5938,1177.75 Q348.2188,1178 348.75,1178.5 Z "/><ellipse cx="372.25" cy="1181.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="378.25" y="1186.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="86" x="405.25" y="1186.9102">ApduResponse</text><line style="stroke: #E74C3C; stroke-width: 1.5;" x1="284" x2="542" y1="1198" y2="1198"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="291" y="1206"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="303" y="1213.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="329" y="1213.4189">byte[] bytes</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="291" y="1219.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="303" y="1227.2549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="329" y="1227.2549">boolean successful</text><line style="stroke: #E74C3C; stroke-width: 1.5;" x1="284" x2="542" y1="1233.6719" y2="1233.6719"/><ellipse cx="294" cy="1244.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="303" y="1249.0908">ApduResponse(byte[] buffer)</text><ellipse cx="294" cy="1258.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="303" y="1262.9268">setSuccessfulStatusCodes(Set&lt;Integer&gt; codes)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="306" y="1276.7627"/><ellipse cx="294" cy="1286.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="303" y="1290.5986">byte[] getBytes()</text><ellipse cx="294" cy="1300.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="303" y="1304.4346">byte[] getDataOut()</text><ellipse cx="294" cy="1313.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="303" y="1318.2705">int getStatusCode()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="306" y="1332.1064"/><ellipse cx="294" cy="1341.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="303" y="1345.9424">boolean isSuccessful()</text><!--MD5=[17146a741b3becbcb08fff440a5eba97]
class SelectionStatus--><rect fill="#FDEDEC" height="144.8516" id="SelectionStatus" style="stroke: #E74C3C; stroke-width: 1.5;" width="399" x="602.5" y="1186.5"/><ellipse cx="749.25" cy="1202.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M751.25,1199 Q751.4531,1198.5 751.6875,1198.25 Q751.9219,1198 752.1875,1198 Q752.6563,1198 752.9531,1198.2813 Q753.25,1198.5625 753.25,1199.2188 L753.25,1200.7813 Q753.25,1201.4375 752.9688,1201.7188 Q752.6875,1202 752.25,1202 Q751.8594,1202 751.6094,1201.8281 Q751.3594,1201.6563 751.25,1201.2031 Q751.2031,1200.8906 751.0313,1200.7188 Q750.7188,1200.3906 750.1563,1200.2031 Q749.5938,1200 749.0313,1200 Q748.3281,1200 747.7344,1200.2813 Q747.1563,1200.5625 746.7031,1201.1875 Q746.25,1201.8125 746.25,1202.6719 L746.25,1203.5938 Q746.25,1204.625 747.0938,1205.3125 Q747.9375,1206 749.4375,1206 Q750.3281,1206 750.9531,1205.7969 Q751.3125,1205.6875 751.7188,1205.3281 Q751.9844,1205.125 752.125,1205.0625 Q752.2656,1205 752.4375,1205 Q752.7656,1205 753,1205.2656 Q753.25,1205.5156 753.25,1205.875 Q753.25,1206.2188 752.9063,1206.625 Q752.4063,1207.2188 751.6094,1207.5469 Q750.5625,1208 749.2813,1208 Q747.7813,1208 746.5781,1207.4063 Q745.6094,1206.9375 744.9219,1205.9219 Q744.25,1204.9063 744.25,1203.7031 L744.25,1202.6094 Q744.25,1201.3594 744.8438,1200.2656 Q745.4531,1199.1719 746.5,1198.5938 Q747.5625,1198 748.75,1198 Q749.4688,1198 750.0938,1198.25 Q750.7188,1198.5 751.25,1199 Z "/><ellipse cx="774.75" cy="1202" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="86" x="780.75" y="1207.4102">SelectionStatus</text><line style="stroke: #E74C3C; stroke-width: 1.5;" x1="603.5" x2="1000.5" y1="1218.5" y2="1218.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="610.5" y="1226.5"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="622.5" y="1233.9189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="648.5" y="1233.9189">byte[] atr</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="610.5" y="1240.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="622.5" y="1247.7549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="648.5" y="1247.7549">ApduResponse fci</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="610.5" y="1254.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="622.5" y="1261.5908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="648.5" y="1261.5908">boolean isMatching</text><line style="stroke: #E74C3C; stroke-width: 1.5;" x1="603.5" x2="1000.5" y1="1268.0078" y2="1268.0078"/><ellipse cx="613.5" cy="1279.0078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="373" x="622.5" y="1283.4268">SelectionStatus(AnswerToReset atr, ApduResponse fci, boolean isMatching)</text><ellipse cx="613.5" cy="1292.8438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="622.5" y="1297.2627">AnswerToReset getAtr()</text><ellipse cx="613.5" cy="1306.6797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="622.5" y="1311.0986">ApduResponse getFci()</text><ellipse cx="613.5" cy="1320.5156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="622.5" y="1324.9346">boolean hasMatched()</text><!--MD5=[81bdd127dee3d48e66ef7f85d7892fe8]
class DefaultSelectionsRequest--><rect fill="#FDF2E9" height="172.5234" id="DefaultSelectionsRequest" style="stroke: #E67E22; stroke-width: 1.5;" width="443" x="1114.5" y="495"/><ellipse cx="1240.75" cy="511" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M1242.75,507.5 Q1242.9531,507 1243.1875,506.75 Q1243.4219,506.5 1243.6875,506.5 Q1244.1563,506.5 1244.4531,506.7813 Q1244.75,507.0625 1244.75,507.7188 L1244.75,509.2813 Q1244.75,509.9375 1244.4688,510.2188 Q1244.1875,510.5 1243.75,510.5 Q1243.3594,510.5 1243.1094,510.3281 Q1242.8594,510.1563 1242.75,509.7031 Q1242.7031,509.3906 1242.5313,509.2188 Q1242.2188,508.8906 1241.6563,508.7031 Q1241.0938,508.5 1240.5313,508.5 Q1239.8281,508.5 1239.2344,508.7813 Q1238.6563,509.0625 1238.2031,509.6875 Q1237.75,510.3125 1237.75,511.1719 L1237.75,512.0938 Q1237.75,513.125 1238.5938,513.8125 Q1239.4375,514.5 1240.9375,514.5 Q1241.8281,514.5 1242.4531,514.2969 Q1242.8125,514.1875 1243.2188,513.8281 Q1243.4844,513.625 1243.625,513.5625 Q1243.7656,513.5 1243.9375,513.5 Q1244.2656,513.5 1244.5,513.7656 Q1244.75,514.0156 1244.75,514.375 Q1244.75,514.7188 1244.4063,515.125 Q1243.9063,515.7188 1243.1094,516.0469 Q1242.0625,516.5 1240.7813,516.5 Q1239.2813,516.5 1238.0781,515.9063 Q1237.1094,515.4375 1236.4219,514.4219 Q1235.75,513.4063 1235.75,512.2031 L1235.75,511.1094 Q1235.75,509.8594 1236.3438,508.7656 Q1236.9531,507.6719 1238,507.0938 Q1239.0625,506.5 1240.25,506.5 Q1240.9688,506.5 1241.5938,506.75 Q1242.2188,507 1242.75,507.5 Z "/><ellipse cx="1266.25" cy="510.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="1272.25" y="515.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="1299.25" y="515.9102">DefaultSelectionsRequest</text><line style="stroke: #E67E22; stroke-width: 1.5;" x1="1115.5" x2="1556.5" y1="527" y2="527"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1122.5" y="535"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="1134.5" y="542.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="187" x="1160.5" y="542.4189">List&lt;SeRequest&gt; selectionSeRequests</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1122.5" y="548.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="1134.5" y="556.2549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="259" x="1160.5" y="556.2549">MultiSeRequestProcessing multiSeRequestProcessing</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1122.5" y="562.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="1134.5" y="570.0908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="1160.5" y="570.0908">ChannelControl channelControl</text><line style="stroke: #E67E22; stroke-width: 1.5;" x1="1115.5" x2="1556.5" y1="576.5078" y2="576.5078"/><ellipse cx="1125.5" cy="587.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="318" x="1134.5" y="591.9268">DefaultSelectionsRequest(List&lt;SeRequest&gt; selectionSeRequests,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="417" x="1134.5" y="605.7627">MultiSeRequestProcessing multiSeRequestProcessing, ChannelControl channelControl)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1137.5" y="619.5986"/><ellipse cx="1125.5" cy="629.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="211" x="1134.5" y="633.4346">List&lt;SeRequest&gt; getSelectionSeRequests()</text><ellipse cx="1125.5" cy="642.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="282" x="1134.5" y="647.2705">MultiSeRequestProcessing getMultiSeRequestProcessing()</text><ellipse cx="1125.5" cy="656.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="172" x="1134.5" y="661.1064">ChannelControl getChannelControl()</text><!--MD5=[98ba62cb7f23ffced5bd52e8cedb0b75]
class DefaultSelectionsResponse--><rect fill="#FDEDEC" height="103.3438" id="DefaultSelectionsResponse" style="stroke: #E74C3C; stroke-width: 1.5;" width="390" x="1168" y="969"/><ellipse cx="1262.25" cy="985" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M1264.25,981.5 Q1264.4531,981 1264.6875,980.75 Q1264.9219,980.5 1265.1875,980.5 Q1265.6563,980.5 1265.9531,980.7813 Q1266.25,981.0625 1266.25,981.7188 L1266.25,983.2813 Q1266.25,983.9375 1265.9688,984.2188 Q1265.6875,984.5 1265.25,984.5 Q1264.8594,984.5 1264.6094,984.3281 Q1264.3594,984.1563 1264.25,983.7031 Q1264.2031,983.3906 1264.0313,983.2188 Q1263.7188,982.8906 1263.1563,982.7031 Q1262.5938,982.5 1262.0313,982.5 Q1261.3281,982.5 1260.7344,982.7813 Q1260.1563,983.0625 1259.7031,983.6875 Q1259.25,984.3125 1259.25,985.1719 L1259.25,986.0938 Q1259.25,987.125 1260.0938,987.8125 Q1260.9375,988.5 1262.4375,988.5 Q1263.3281,988.5 1263.9531,988.2969 Q1264.3125,988.1875 1264.7188,987.8281 Q1264.9844,987.625 1265.125,987.5625 Q1265.2656,987.5 1265.4375,987.5 Q1265.7656,987.5 1266,987.7656 Q1266.25,988.0156 1266.25,988.375 Q1266.25,988.7188 1265.9063,989.125 Q1265.4063,989.7188 1264.6094,990.0469 Q1263.5625,990.5 1262.2813,990.5 Q1260.7813,990.5 1259.5781,989.9063 Q1258.6094,989.4375 1257.9219,988.4219 Q1257.25,987.4063 1257.25,986.2031 L1257.25,985.1094 Q1257.25,983.8594 1257.8438,982.7656 Q1258.4531,981.6719 1259.5,981.0938 Q1260.5625,980.5 1261.75,980.5 Q1262.4688,980.5 1263.0938,980.75 Q1263.7188,981 1264.25,981.5 Z "/><ellipse cx="1287.75" cy="984.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="1293.75" y="989.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="155" x="1320.75" y="989.9102">DefaultSelectionsResponse</text><line style="stroke: #E74C3C; stroke-width: 1.5;" x1="1169" x2="1557" y1="1001" y2="1001"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1176" y="1009"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="1188" y="1016.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="223" x="1214" y="1016.4189">List&lt;SelectionResponse&gt; selectionResponses</text><line style="stroke: #E74C3C; stroke-width: 1.5;" x1="1169" x2="1557" y1="1022.8359" y2="1022.8359"/><ellipse cx="1179" cy="1033.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="364" x="1188" y="1038.2549">DefaultSelectionsResponse(List&lt;SelectionResponse&gt; selectionResponses)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1191" y="1052.0908"/><ellipse cx="1179" cy="1061.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="247" x="1188" y="1065.9268">List&lt;SelectionResponse&gt; getSelectionResponses()</text><!--MD5=[fe69726a57806ad10ba24c4aa6892678]
class SelectionRequest--><rect fill="#FDF2E9" height="131.0156" id="SelectionRequest" style="stroke: #E67E22; stroke-width: 1.5;" width="342" x="672" y="516"/><ellipse cx="770.75" cy="532" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M772.75,528.5 Q772.9531,528 773.1875,527.75 Q773.4219,527.5 773.6875,527.5 Q774.1563,527.5 774.4531,527.7813 Q774.75,528.0625 774.75,528.7188 L774.75,530.2813 Q774.75,530.9375 774.4688,531.2188 Q774.1875,531.5 773.75,531.5 Q773.3594,531.5 773.1094,531.3281 Q772.8594,531.1563 772.75,530.7031 Q772.7031,530.3906 772.5313,530.2188 Q772.2188,529.8906 771.6563,529.7031 Q771.0938,529.5 770.5313,529.5 Q769.8281,529.5 769.2344,529.7813 Q768.6563,530.0625 768.2031,530.6875 Q767.75,531.3125 767.75,532.1719 L767.75,533.0938 Q767.75,534.125 768.5938,534.8125 Q769.4375,535.5 770.9375,535.5 Q771.8281,535.5 772.4531,535.2969 Q772.8125,535.1875 773.2188,534.8281 Q773.4844,534.625 773.625,534.5625 Q773.7656,534.5 773.9375,534.5 Q774.2656,534.5 774.5,534.7656 Q774.75,535.0156 774.75,535.375 Q774.75,535.7188 774.4063,536.125 Q773.9063,536.7188 773.1094,537.0469 Q772.0625,537.5 770.7813,537.5 Q769.2813,537.5 768.0781,536.9063 Q767.1094,536.4375 766.4219,535.4219 Q765.75,534.4063 765.75,533.2031 L765.75,532.1094 Q765.75,530.8594 766.3438,529.7656 Q766.9531,528.6719 768,528.0938 Q769.0625,527.5 770.25,527.5 Q770.9688,527.5 771.5938,527.75 Q772.2188,528 772.75,528.5 Z "/><ellipse cx="796.25" cy="531.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="802.25" y="536.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="829.25" y="536.9102">SelectionRequest</text><line style="stroke: #E67E22; stroke-width: 1.5;" x1="673" x2="1013" y1="548" y2="548"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="680" y="556"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="692" y="563.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="718" y="563.4189">Selector selector</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="680" y="569.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="692" y="577.2549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="718" y="577.2549">CardRequest apduRequests</text><line style="stroke: #E67E22; stroke-width: 1.5;" x1="673" x2="1013" y1="583.6719" y2="583.6719"/><ellipse cx="683" cy="594.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="316" x="692" y="599.0908">SelectionRequest(Selector selector, CardRequest apduRequests)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="695" y="612.9268"/><ellipse cx="683" cy="622.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="692" y="626.7627">SeSelector getSeSelector()</text><ellipse cx="683" cy="636.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="692" y="640.5986">CardRequest getCardRequest()</text><!--MD5=[56e048d913f3867da577aedc7662ad82]
class SelectionResponse--><rect fill="#FDEDEC" height="131.0156" id="SelectionResponse" style="stroke: #E74C3C; stroke-width: 1.5;" width="439" x="630.5" y="955"/><ellipse cx="772.25" cy="971" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M774.25,967.5 Q774.4531,967 774.6875,966.75 Q774.9219,966.5 775.1875,966.5 Q775.6563,966.5 775.9531,966.7813 Q776.25,967.0625 776.25,967.7188 L776.25,969.2813 Q776.25,969.9375 775.9688,970.2188 Q775.6875,970.5 775.25,970.5 Q774.8594,970.5 774.6094,970.3281 Q774.3594,970.1563 774.25,969.7031 Q774.2031,969.3906 774.0313,969.2188 Q773.7188,968.8906 773.1563,968.7031 Q772.5938,968.5 772.0313,968.5 Q771.3281,968.5 770.7344,968.7813 Q770.1563,969.0625 769.7031,969.6875 Q769.25,970.3125 769.25,971.1719 L769.25,972.0938 Q769.25,973.125 770.0938,973.8125 Q770.9375,974.5 772.4375,974.5 Q773.3281,974.5 773.9531,974.2969 Q774.3125,974.1875 774.7188,973.8281 Q774.9844,973.625 775.125,973.5625 Q775.2656,973.5 775.4375,973.5 Q775.7656,973.5 776,973.7656 Q776.25,974.0156 776.25,974.375 Q776.25,974.7188 775.9063,975.125 Q775.4063,975.7188 774.6094,976.0469 Q773.5625,976.5 772.2813,976.5 Q770.7813,976.5 769.5781,975.9063 Q768.6094,975.4375 767.9219,974.4219 Q767.25,973.4063 767.25,972.2031 L767.25,971.1094 Q767.25,969.8594 767.8438,968.7656 Q768.4531,967.6719 769.5,967.0938 Q770.5625,966.5 771.75,966.5 Q772.4688,966.5 773.0938,966.75 Q773.7188,967 774.25,967.5 Z "/><ellipse cx="797.75" cy="970.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="803.75" y="975.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="830.75" y="975.9102">SelectionResponse</text><line style="stroke: #E74C3C; stroke-width: 1.5;" x1="631.5" x2="1068.5" y1="987" y2="987"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="638.5" y="995"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="650.5" y="1002.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="676.5" y="1002.4189">SelectionStatus selectionStatus</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="638.5" y="1008.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="650.5" y="1016.2549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="676.5" y="1016.2549">CardResponse apduResponses</text><line style="stroke: #E74C3C; stroke-width: 1.5;" x1="631.5" x2="1068.5" y1="1022.6719" y2="1022.6719"/><ellipse cx="641.5" cy="1033.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="413" x="650.5" y="1038.0908">SelectionResponse(SelectionStatus selectionStatus, CardResponse apduResponses)</text><ellipse cx="641.5" cy="1047.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="650.5" y="1051.9268">boolean isLogicalChannelOpen()</text><ellipse cx="641.5" cy="1061.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="650.5" y="1065.7627">SelectionStatus getSelectionStatus()</text><ellipse cx="641.5" cy="1075.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="211" x="650.5" y="1079.5986">List&lt;ApduResponse&gt; getApduResponses()</text><!--MD5=[96a4004012a1c08588eb87adf87ec875]
class ProxyReader--><rect fill="#FEFECE" height="131.0156" id="ProxyReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="492" x="578" y="746"/><ellipse cx="778.25" cy="762" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M779.25,759 L779.25,765 L781.25,765 L781.7344,765 L782.25,765.625 L782.25,766 L782.25,766.375 L781.7344,767 L781.25,767 L775.25,767 L774.7656,767 L774.25,766.375 L774.25,766 L774.25,765.625 L774.7656,765 L775.25,765 L777.25,765 L777.25,759 L775.25,759 L774.7656,759 L774.25,758.375 L774.25,758 L774.25,757.625 L774.7656,757 L775.25,757 L781.25,757 L781.7344,757 L782.25,757.625 L782.25,758 L782.25,758.375 L781.7344,759 L781.25,759 L779.25,759 Z "/><ellipse cx="803.75" cy="761.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="72" x="809.75" y="766.9102">ProxyReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="579" x2="1069" y1="778" y2="778"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="579" x2="1069" y1="786" y2="786"/><ellipse cx="589" cy="797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="417" x="598" y="801.4189">List&lt;SelectionResponse&gt; transmitCardSelections(List&lt;SelectionRequest&gt; seRequests,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="399" x="598" y="815.2549">MultiSelectionProcessing multiSelectionProcessing, ChannelControl channelControl)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="601" y="829.0908"/><ellipse cx="589" cy="838.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="466" x="598" y="842.9268">CardResponse transmitCardRequest(CardRequest cardRequest, ChannelControl channelControl)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="601" y="856.7627"/><ellipse cx="589" cy="866.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="598" y="870.5986">releaseChannel()</text><!--MD5=[d4546fa1b310652d2e612bec588497f1]
class CardRequest--><rect fill="#FDF2E9" height="89.5078" id="CardRequest" style="stroke: #E67E22; stroke-width: 1.5;" width="265" x="308.5" y="536.5"/><ellipse cx="380.75" cy="552.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M382.75,549 Q382.9531,548.5 383.1875,548.25 Q383.4219,548 383.6875,548 Q384.1563,548 384.4531,548.2813 Q384.75,548.5625 384.75,549.2188 L384.75,550.7813 Q384.75,551.4375 384.4688,551.7188 Q384.1875,552 383.75,552 Q383.3594,552 383.1094,551.8281 Q382.8594,551.6563 382.75,551.2031 Q382.7031,550.8906 382.5313,550.7188 Q382.2188,550.3906 381.6563,550.2031 Q381.0938,550 380.5313,550 Q379.8281,550 379.2344,550.2813 Q378.6563,550.5625 378.2031,551.1875 Q377.75,551.8125 377.75,552.6719 L377.75,553.5938 Q377.75,554.625 378.5938,555.3125 Q379.4375,556 380.9375,556 Q381.8281,556 382.4531,555.7969 Q382.8125,555.6875 383.2188,555.3281 Q383.4844,555.125 383.625,555.0625 Q383.7656,555 383.9375,555 Q384.2656,555 384.5,555.2656 Q384.75,555.5156 384.75,555.875 Q384.75,556.2188 384.4063,556.625 Q383.9063,557.2188 383.1094,557.5469 Q382.0625,558 380.7813,558 Q379.2813,558 378.0781,557.4063 Q377.1094,556.9375 376.4219,555.9219 Q375.75,554.9063 375.75,553.7031 L375.75,552.6094 Q375.75,551.3594 376.3438,550.2656 Q376.9531,549.1719 378,548.5938 Q379.0625,548 380.25,548 Q380.9688,548 381.5938,548.25 Q382.2188,548.5 382.75,549 Z "/><ellipse cx="406.25" cy="552" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="412.25" y="557.4102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="439.25" y="557.4102">CardRequest</text><line style="stroke: #E67E22; stroke-width: 1.5;" x1="309.5" x2="572.5" y1="568.5" y2="568.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="316.5" y="576.5"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="328.5" y="583.9189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="354.5" y="583.9189">List&lt;ApduRequest&gt; apduRequests</text><line style="stroke: #E67E22; stroke-width: 1.5;" x1="309.5" x2="572.5" y1="590.3359" y2="590.3359"/><ellipse cx="319.5" cy="601.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="239" x="328.5" y="605.7549">CardRequest(List&lt;ApduRequest&gt; apduRequests)</text><ellipse cx="319.5" cy="615.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="193" x="328.5" y="619.5908">List&lt;ApduRequest&gt; getApduRequests()</text><!--MD5=[62519695b550f8cbf5b64cbd0e08e475]
class CardResponse--><rect fill="#FDEDEC" height="117.1797" id="CardResponse" style="stroke: #E74C3C; stroke-width: 1.5;" width="429" x="102.5" y="962"/><ellipse cx="251.25" cy="978" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M253.25,974.5 Q253.4531,974 253.6875,973.75 Q253.9219,973.5 254.1875,973.5 Q254.6563,973.5 254.9531,973.7813 Q255.25,974.0625 255.25,974.7188 L255.25,976.2813 Q255.25,976.9375 254.9688,977.2188 Q254.6875,977.5 254.25,977.5 Q253.8594,977.5 253.6094,977.3281 Q253.3594,977.1563 253.25,976.7031 Q253.2031,976.3906 253.0313,976.2188 Q252.7188,975.8906 252.1563,975.7031 Q251.5938,975.5 251.0313,975.5 Q250.3281,975.5 249.7344,975.7813 Q249.1563,976.0625 248.7031,976.6875 Q248.25,977.3125 248.25,978.1719 L248.25,979.0938 Q248.25,980.125 249.0938,980.8125 Q249.9375,981.5 251.4375,981.5 Q252.3281,981.5 252.9531,981.2969 Q253.3125,981.1875 253.7188,980.8281 Q253.9844,980.625 254.125,980.5625 Q254.2656,980.5 254.4375,980.5 Q254.7656,980.5 255,980.7656 Q255.25,981.0156 255.25,981.375 Q255.25,981.7188 254.9063,982.125 Q254.4063,982.7188 253.6094,983.0469 Q252.5625,983.5 251.2813,983.5 Q249.7813,983.5 248.5781,982.9063 Q247.6094,982.4375 246.9219,981.4219 Q246.25,980.4063 246.25,979.2031 L246.25,978.1094 Q246.25,976.8594 246.8438,975.7656 Q247.4531,974.6719 248.5,974.0938 Q249.5625,973.5 250.75,973.5 Q251.4688,973.5 252.0938,973.75 Q252.7188,974 253.25,974.5 Z "/><ellipse cx="276.75" cy="977.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="282.75" y="982.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="85" x="309.75" y="982.9102">CardResponse</text><line style="stroke: #E74C3C; stroke-width: 1.5;" x1="103.5" x2="530.5" y1="994" y2="994"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="110.5" y="1002"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="122.5" y="1009.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="141" x="148.5" y="1009.4189">boolean logicalChannelStatus</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="110.5" y="1015.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="122.5" y="1023.2549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="148.5" y="1023.2549">List&lt;ApduResponse&gt; apduResponses</text><line style="stroke: #E74C3C; stroke-width: 1.5;" x1="103.5" x2="530.5" y1="1029.6719" y2="1029.6719"/><ellipse cx="113.5" cy="1040.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="403" x="122.5" y="1045.0908">SeResponse(boolean logicalChannelStatus, List&lt;ApduResponse&gt; apduResponses)</text><ellipse cx="113.5" cy="1054.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="122.5" y="1058.9268">boolean isLogicalChannelOpen()</text><ellipse cx="113.5" cy="1068.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="211" x="122.5" y="1072.7627">List&lt;ApduResponse&gt; getApduResponses()</text><!--MD5=[ee0d3336d8d2c9dd88a5ad188defe636]
class ChannelControl--><rect fill="#FDF2E9" height="75.6719" id="ChannelControl" style="stroke: #E67E22; stroke-width: 1.5;" width="130" x="373" y="773.5"/><ellipse cx="388" cy="789.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M390,786 Q390.2031,785.5 390.4375,785.25 Q390.6719,785 390.9375,785 Q391.4063,785 391.7031,785.2813 Q392,785.5625 392,786.2188 L392,787.7813 Q392,788.4375 391.7188,788.7188 Q391.4375,789 391,789 Q390.6094,789 390.3594,788.8281 Q390.1094,788.6563 390,788.2031 Q389.9531,787.8906 389.7813,787.7188 Q389.4688,787.3906 388.9063,787.2031 Q388.3438,787 387.7813,787 Q387.0781,787 386.4844,787.2813 Q385.9063,787.5625 385.4531,788.1875 Q385,788.8125 385,789.6719 L385,790.5938 Q385,791.625 385.8438,792.3125 Q386.6875,793 388.1875,793 Q389.0781,793 389.7031,792.7969 Q390.0625,792.6875 390.4688,792.3281 Q390.7344,792.125 390.875,792.0625 Q391.0156,792 391.1875,792 Q391.5156,792 391.75,792.2656 Q392,792.5156 392,792.875 Q392,793.2188 391.6563,793.625 Q391.1563,794.2188 390.3594,794.5469 Q389.3125,795 388.0313,795 Q386.5313,795 385.3281,794.4063 Q384.3594,793.9375 383.6719,792.9219 Q383,791.9063 383,790.7031 L383,789.6094 Q383,788.3594 383.5938,787.2656 Q384.2031,786.1719 385.25,785.5938 Q386.3125,785 387.5,785 Q388.2188,785 388.8438,785.25 Q389.4688,785.5 390,786 Z "/><ellipse cx="407" cy="789" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="413" y="794.4102">ChannelControl</text><line style="stroke: #E67E22; stroke-width: 1.5;" x1="374" x2="502" y1="805.5" y2="805.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="379" y="820.9189">KEEP_OPEN</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="379" y="834.7549">CLOSE_AFTER</text><line style="stroke: #E67E22; stroke-width: 1.5;" x1="374" x2="502" y1="841.1719" y2="841.1719"/><!--MD5=[d172dfe3fef1c01713438c88abcc6a2c]
class CardSelector--><rect fill="#FDF2E9" height="172.5234" id="CardSelector" style="stroke: #E67E22; stroke-width: 1.5;" width="228" x="729" y="184"/><ellipse cx="797.25" cy="200" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M799.25,196.5 Q799.4531,196 799.6875,195.75 Q799.9219,195.5 800.1875,195.5 Q800.6563,195.5 800.9531,195.7813 Q801.25,196.0625 801.25,196.7188 L801.25,198.2813 Q801.25,198.9375 800.9688,199.2188 Q800.6875,199.5 800.25,199.5 Q799.8594,199.5 799.6094,199.3281 Q799.3594,199.1563 799.25,198.7031 Q799.2031,198.3906 799.0313,198.2188 Q798.7188,197.8906 798.1563,197.7031 Q797.5938,197.5 797.0313,197.5 Q796.3281,197.5 795.7344,197.7813 Q795.1563,198.0625 794.7031,198.6875 Q794.25,199.3125 794.25,200.1719 L794.25,201.0938 Q794.25,202.125 795.0938,202.8125 Q795.9375,203.5 797.4375,203.5 Q798.3281,203.5 798.9531,203.2969 Q799.3125,203.1875 799.7188,202.8281 Q799.9844,202.625 800.125,202.5625 Q800.2656,202.5 800.4375,202.5 Q800.7656,202.5 801,202.7656 Q801.25,203.0156 801.25,203.375 Q801.25,203.7188 800.9063,204.125 Q800.4063,204.7188 799.6094,205.0469 Q798.5625,205.5 797.2813,205.5 Q795.7813,205.5 794.5781,204.9063 Q793.6094,204.4375 792.9219,203.4219 Q792.25,202.4063 792.25,201.2031 L792.25,200.1094 Q792.25,198.8594 792.8438,197.7656 Q793.4531,196.6719 794.5,196.0938 Q795.5625,195.5 796.75,195.5 Q797.4688,195.5 798.0938,195.75 Q798.7188,196 799.25,196.5 Z "/><ellipse cx="822.75" cy="199.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="828.75" y="204.9102">CardSelector</text><line style="stroke: #E67E22; stroke-width: 1.5;" x1="730" x2="956" y1="216" y2="216"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="737" y="224"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="749" y="231.4189">String[0..1] cardProtocol</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="737" y="237.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="749" y="245.2549">AtrFilter[0..1] atrFilter</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="737" y="251.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="749" y="259.0908">AidSelector[0..1] aidSelector</text><line style="stroke: #E67E22; stroke-width: 1.5;" x1="730" x2="956" y1="265.5078" y2="265.5078"/><polygon fill="#FFFF44" points="740,271.5078,744,275.5078,740,279.5078,736,275.5078" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="202" x="749" y="280.9268">CardSelector(CardSelectorBuilder builder)</text><ellipse cx="740" cy="290.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="139" x="749" y="294.7627">CardSelectorBuilder builder()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="752" y="308.5986"/><ellipse cx="740" cy="318.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="749" y="322.4346">String getCardProtocol()</text><ellipse cx="740" cy="331.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="749" y="336.2705">AtrFilter getAtrFilter()</text><ellipse cx="740" cy="345.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="749" y="350.1064">AidSelector getAidSelector()</text><!--MD5=[711d2f96df6540fbd76a7440720aee61]
link AbstractDefaultSelectionsRequest to ObservableReader--><path d="M2165.01,605.617 C2166.75,645.305 2170.32,726.696 2172.4,774.076 " fill="none" id="AbstractDefaultSelectionsRequest-&gt;ObservableReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="2172.98,787.322,2176.713,781.1524,2172.4538,775.3335,2168.7207,781.5032,2172.98,787.322" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="2195.5,709,2198.5,703,2201.5,709,2195.5,709" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="2170" y="725.4951">processes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="2140.5749" y="626.9835">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2164.8218" y="776.6165">1</text><!--MD5=[3f15c622a4c7827261536a2f30b9dbc5]
reverse link ObservableReader to AbstractDefaultSelectionsResponse--><path d="M2173.12,848.891 C2172.09,891.382 2170.43,960.404 2169.56,996.242 " fill="none" id="ObservableReader&lt;-AbstractDefaultSelectionsResponse" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="2173.44,835.843,2169.2962,841.7446,2173.15,847.8395,2177.2938,841.9379,2173.44,835.843" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="2172" y="921.4951">returns</text><polygon fill="#000000" points="2187.5,930.3516,2190.5,936.3516,2193.5,930.3516,2187.5,930.3516" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2165.5011" y="856.8581">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="2144.8847" y="985.516">0..1</text><!--MD5=[62457109ec23126117182205bf30d1e8]
reverse link CardReader to ObservableReader--><path d="M2042.29,811.5 C2064.57,811.5 2085.98,811.5 2104.83,811.5 " fill="none" id="CardReader&lt;-ObservableReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="2042.09,818.5,2022.09,811.5,2042.09,804.5,2042.09,818.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="2040.5" y="804.9951">extends</text><!--MD5=[3abe38f6d48b33a09291dfeae20c4e40]
link CardRequest to SelectionRequest--><path d="M587.101,581.5 C610.28,581.5 659.685,581.5 659.685,581.5 " fill="none" id="CardRequest-SelectionRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="671.685,581.5,665.685,577.5,659.685,581.5,665.685,585.5,671.685,581.5" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="573.744,581.5,582.744,585.5,578.744,581.5,582.744,577.5,573.744,581.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="578.744" x2="586.744" y1="581.5" y2="581.5"/><polygon fill="#000000" points="598.75,568.1758,592.75,571.1758,598.75,574.1758,598.75,568.1758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="604.75" y="574.9951">contains</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="581.5628" y="578.557">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="656.7637" y="578.6402">1</text><!--MD5=[54bf7d93c0d5a4ae5f90815e1c5319c6]
link ChannelControl to ProxyReader--><path d="M503.043,811.5 C524.851,811.5 550.626,811.5 577.938,811.5 " fill="none" id="ChannelControl-ProxyReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="528.5,798.1758,522.5,801.1758,528.5,804.1758,528.5,798.1758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="534.5" y="804.9951">sets</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="510.9683" y="808.1094">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="562.7492" y="808.7381">1</text><!--MD5=[cb7a02d41c622f6c4b85e81acb37ae6e]
link CardResponse to SelectionResponse--><path d="M545.206,1020.5 C568.973,1020.5 618.167,1020.5 618.167,1020.5 " fill="none" id="CardResponse-SelectionResponse" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="630.167,1020.5,624.167,1016.5,618.167,1020.5,624.167,1024.5,630.167,1020.5" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="531.871,1020.5,540.871,1024.5,536.871,1020.5,540.871,1016.5,531.871,1020.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="536.871" x2="544.871" y1="1020.5" y2="1020.5"/><polygon fill="#000000" points="557,1007.1758,551,1010.1758,557,1013.1758,557,1007.1758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="563" y="1013.9951">contains</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="539.6828" y="1017.7107">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="615.8389" y="1017.7381">1</text><!--MD5=[8992af58039d0c2a35c6488e098c010c]
reverse link CardRequest to ChannelControl--><!--MD5=[2d19cab51c242f8bbb461690006128e7]
link ChannelControl to CardResponse--><!--MD5=[2860f1b4feb665af3854a40949382cd8]
link SelectionRequest to ProxyReader--><path d="M837.606,647.226 C835.039,678.033 831.976,714.785 829.407,745.612 " fill="none" id="SelectionRequest-ProxyReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="847,709,850,703,853,709,847,709" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="834" y="725.4951">sends</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="828.6372" y="668.3414">+</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="822.6156" y="735.044">1</text><!--MD5=[f9b51580163274f31d6f6bc5423182a9]
link ProxyReader to SelectionResponse--><path d="M832.12,877.145 C835.234,901.937 838.785,930.21 841.897,954.99 " fill="none" id="ProxyReader-SelectionResponse" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="839" y="921.4951">receives</text><polygon fill="#000000" points="858,930.3516,861,936.3516,864,930.3516,858,930.3516" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="825.6253" y="898.7134">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="832.4976" y="944.0049">+</text><!--MD5=[2442a7d7f46532290415533a60537508]
link ProxyReader to CardRequest--><path d="M715.474,745.895 C651.491,707.805 572.186,660.595 515.3,626.731 " fill="none" id="ProxyReader-CardRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="664,705.6758,658,708.6758,664,711.6758,664,705.6758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="670" y="712.4951">sends</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="696.2212" y="735.3579">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="516.7466" y="647.4357">+</text><!--MD5=[07ed8df3c1c3d85fbf148d2489e3f22f]
link ProxyReader to CardResponse--><path d="M666.014,877.003 C599.463,904.175 522.625,935.547 458.015,961.926 " fill="none" id="ProxyReader-CardResponse" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="594,914.6758,588,917.6758,594,920.6758,594,914.6758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="600" y="921.4951">receives</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="641.3515" y="898.5559">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="467.7746" y="951.3179">1</text><!--MD5=[0a8982aabc8f86e09331c319837039e6]
link ApduRequest to CardRequest--><path d="M441,391.04 C441,436.515 441,524.425 441,524.425 " fill="none" id="ApduRequest-CardRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="441,536.425,445,530.425,441,524.425,437,530.425,441,536.425" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="441,377.84,437,386.84,441,382.84,445,386.84,441,377.84" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="441" x2="441" y1="382.84" y2="390.84"/><polygon fill="#000000" points="462,418.5,465,412.5,468,418.5,462,418.5" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="442" y="434.9951">contains</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="435.832" y="399.0953">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="433.4422" y="525.5285">1</text><!--MD5=[f6695b59d0619a673091bae8038ef6fb]
link CardResponse to ApduResponse--><path d="M344.8747,1090.1707 C344.8747,1090.1707 362.085,1132.568 370.643,1153.652 " fill="none" id="CardResponse-ApduResponse" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="375.646,1165.976,375.968,1156.1324,373.7658,1161.343,368.5552,1159.1408,375.646,1165.976" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="373.7658" x2="370.756" y1="1161.343" y2="1153.931"/><polygon fill="#FFFFFF" points="340.361,1079.052,338.9116,1086.1159,344.8747,1090.1707,346.3241,1083.1068,340.361,1079.052" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="364" y="1132.4951">contains</text><polygon fill="#000000" points="384,1141.3516,387,1147.3516,390,1141.3516,384,1141.3516" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="319.8675" y="1100.6686">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="367.3456" y="1155.1047">*</text><!--MD5=[95c317d0f743a4f66ed58e61dec092de]
link CardSelector to SelectionRequest--><path d="M843,377.43 C843,416.03 843,503.786 843,503.786 " fill="none" id="CardSelector-SelectionRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="843,515.786,847,509.786,843,503.786,839,509.786,843,515.786" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="836,377.16,843,357.16,850,377.16,836,377.16" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="864,418.5,867,412.5,870,418.5,864,418.5" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="844" y="434.9951">contains</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="820.1578" y="377.9342">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="835.6172" y="505.237">1</text><!--MD5=[97608637d7513f312b7c67d89b907e76]
link SelectionResponse to SelectionStatus--><path d="M834.4971,1097.8852 C834.4971,1097.8852 824.062,1149.298 819.142,1173.538 " fill="none" id="SelectionResponse-SelectionStatus" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="816.536,1186.38,822.2462,1178.3555,817.5305,1181.4799,814.4061,1176.7642,816.536,1186.38" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="817.5305" x2="819.122" y1="1181.4799" y2="1173.64"/><polygon fill="#FFFFFF" points="836.884,1086.125,831.7705,1091.2095,834.4971,1097.8852,839.6106,1092.8007,836.884,1086.125" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="832" y="1132.4951">contains</text><polygon fill="#000000" points="852,1141.3516,855,1147.3516,858,1141.3516,852,1141.3516" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="828.0666" y="1107.6912">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="810.6741" y="1175.587">1</text><!--MD5=[ec176352d42df87a4cd9af1296a31ac8]
link ApduResponse to SelectionStatus--><path d="M556.192,1259 C567.023,1259 590.332,1259 590.332,1259 " fill="none" id="ApduResponse-SelectionStatus" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="602.332,1259,596.332,1255,590.332,1259,596.332,1263,602.332,1259" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="543.072,1259,552.072,1263,548.072,1259,552.072,1255,543.072,1259" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="548.072" x2="556.072" y1="1259" y2="1259"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="13" x="566.25" y="1252.4951">fci</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="550.7869" y="1256.0574">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="587.3958" y="1256.1924">1</text><!--MD5=[344164cc16c1250005fbbdaf081f0a92]
link SelectionRequest to DefaultSelectionsRequest--><path d="M1027.05,581.5 C1051.32,581.5 1102.46,581.5 1102.46,581.5 " fill="none" id="SelectionRequest-DefaultSelectionsRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1114.46,581.5,1108.46,577.5,1102.46,581.5,1108.46,585.5,1114.46,581.5" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1014.04,581.5,1023.04,585.5,1019.04,581.5,1023.04,577.5,1014.04,581.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1019.04" x2="1027.04" y1="581.5" y2="581.5"/><polygon fill="#000000" points="1040.25,568.1758,1034.25,571.1758,1040.25,574.1758,1040.25,568.1758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="1046.25" y="574.9951">contains</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1021.9715" y="578.6402">+</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1099.3726" y="578.7225">1</text><!--MD5=[d6b4d9b01f2b8afad8d95954d96a7f96]
link SelectionResponse to DefaultSelectionsResponse--><path d="M1082.83,1020.5 C1106.84,1020.5 1155.95,1020.5 1155.95,1020.5 " fill="none" id="SelectionResponse-DefaultSelectionsResponse" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1167.95,1020.5,1161.95,1016.5,1155.95,1020.5,1161.95,1024.5,1167.95,1020.5" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1069.79,1020.5,1078.79,1024.5,1074.79,1020.5,1078.79,1016.5,1069.79,1020.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1074.79" x2="1082.79" y1="1020.5" y2="1020.5"/><polygon fill="#000000" points="1094.75,1007.1758,1088.75,1010.1758,1094.75,1013.1758,1094.75,1007.1758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="1100.75" y="1013.9951">contains</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1077.8325" y="1017.7137">+</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1153.1941" y="1017.6828">1</text><!--MD5=[73df4cfab2c06baa38840fab4245bc75]
link card to reader--><!--MD5=[fd588545689c9415c60011fd91fcaff6]
link ProxyReader to CardReader--><path d="M1070.1,811.5 C1245.35,811.5 1477.9,811.5 1641.79,811.5 " fill="none" id="ProxyReader-&gt;CardReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1641.93,804.5,1661.93,811.5,1641.93,818.5,1641.93,804.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1343" y="804.9951">extends</text><!--MD5=[5e346d07ad7d643161542811cd7afd2a]
link DefaultSelectionsRequest to AbstractDefaultSelectionsRequest--><path d="M1484.66,494.906 C1527.57,474.221 1575.43,455.079 1622,444.5 C1714.75,423.43 1963.88,404.13 2050,444.5 C2091.57,463.989 2123.25,506.91 2142.54,539.553 " fill="none" id="DefaultSelectionsRequest-&gt;AbstractDefaultSelectionsRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="2148.82,536.453,2152.44,557.331,2136.59,543.268,2148.82,536.453" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1812" y="421.9951">extends</text><!--MD5=[366ae983b86fde56611d6ed54fc230e3]
link DefaultSelectionsResponse to AbstractDefaultSelectionsResponse--><path d="M1558.11,1020.5 C1705.49,1020.5 1903.94,1020.5 2034.1,1020.5 " fill="none" id="DefaultSelectionsResponse-&gt;AbstractDefaultSelectionsResponse" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="2034.39,1013.5,2054.39,1020.5,2034.39,1027.5,2034.39,1013.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1783.25" y="1013.9951">extends</text><!--MD5=[084ab35d6be83a3e63a65ec2497f0270]
@startuml
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam shadowing false

skinparam StateBorderColor #D4AC0D
skinparam ActivityBorderColor #D4AC0D

skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #EAFAF1
skinparam ClassBorderColor<<green>> #2ECC71
hide <<green>> stereotype

skinparam ClassBackgroundColor<<orange>> #FDF2E9
skinparam ClassBorderColor<<orange>> #E67E22
hide <<orange>> stereotype

skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

package org.eclipse.keyple.core #FFFFFF {

  package reader #FFFFFF {
+interface CardReader {
  +String getName()

  +boolean isCardPresent()
  +activateProtocol(String applicationReference, String pluginReference)
  +deactivateProtocol(String applicationReference)
  +boolean isContactlessTransmission()
}

    package event as even_request #FFFFFF {
      abstract AbstractDefaultSelectionsRequest
      interface ObservableReader
      abstract AbstractDefaultSelectionsResponse

      ObservableReader "1" o-up- "0..1" AbstractDefaultSelectionsRequest : processes >
      ObservableReader "1" o-down- "0..1" AbstractDefaultSelectionsResponse : returns >
    }

    ObservableReader -left-|> CardReader : extends
  }

  package card #FFFFFF {
    together {
+class "<b>final</b> SelectionRequest" as SelectionRequest {
  -<b>final</b> Selector selector
  -<b>final</b> CardRequest apduRequests

  +SelectionRequest(Selector selector, CardRequest apduRequests)

  +SeSelector getSeSelector()
  +CardRequest getCardRequest()
}

+class "<b>final</b> SelectionResponse" as SelectionResponse {
  -<b>final</b> SelectionStatus selectionStatus
  -<b>final</b> CardResponse apduResponses

  +SelectionResponse(SelectionStatus selectionStatus, CardResponse apduResponses)
  +boolean isLogicalChannelOpen()
  +SelectionStatus getSelectionStatus()
  +List<ApduResponse> getApduResponses()
}
+interface ProxyReader {
  +List<SelectionResponse> transmitCardSelections(List<SelectionRequest> seRequests,
    MultiSelectionProcessing multiSelectionProcessing, ChannelControl channelControl)

  +CardResponse transmitCardRequest(CardRequest cardRequest, ChannelControl channelControl)

  +releaseChannel()
}
+class "<b>final</b> CardRequest" as CardRequest {
  -<b>final</b> List<ApduRequest> apduRequests

  +CardRequest(List<ApduRequest> apduRequests)
  +List<ApduRequest> getApduRequests()
}

+class "<b>final</b> CardResponse" as CardResponse {
  -<b>final</b> boolean logicalChannelStatus
  -<b>final</b> List<ApduResponse> apduResponses

  +SeResponse(boolean logicalChannelStatus, List<ApduResponse> apduResponses)
  +boolean isLogicalChannelOpen()
  +List<ApduResponse> getApduResponses()
}
+enum ChannelControl {
	KEEP_OPEN
	CLOSE_AFTER
}
    }

    SelectionRequest "1" o-left-> "*" CardRequest : contains >
    ProxyReader "1" -left- "1" ChannelControl : sets >
    SelectionResponse "1" o-left-> "*" CardResponse : contains >
    ChannelControl -up[hidden]-> CardRequest
    ChannelControl -down[hidden]-> CardResponse
    ProxyReader "1" -up- "+" SelectionRequest : sends >
    ProxyReader "1" -down- "+" SelectionResponse : receives >
    ProxyReader "1" - - "+" CardRequest : sends >
    ProxyReader "1" - - "1" CardResponse : receives >


+class "<b>final</b> ApduRequest" as ApduRequest {
  -byte[] bytes
  -<b>final</b> boolean case4
  -<b>final</b>Set<Integer> successfulStatusCodes
  -String name

  +ApduRequest(byte[] buffer, boolean case4)
  +setName(<final> String name)
  +setSuccessfulStatusCodes(Set<Integer> codes)

  +byte[] getBytes()
  +boolean isCase4()
  +String getName()
  +Set<Integer> getSuccessfulStatusCodes()
}


+class "<b>final</b> ApduResponse" as ApduResponse {
  -<b>final</b> byte[] bytes
  -<b>final</b> boolean successful

  +ApduResponse(byte[] buffer)
  +setSuccessfulStatusCodes(Set<Integer> codes)

  +byte[] getBytes()
  +byte[] getDataOut()
  +int getStatusCode()

  +boolean isSuccessful()
}
    CardRequest "1" o-up-> "*" ApduRequest : contains >
    CardResponse "0..1" o-down-> "*" ApduResponse : contains >

    package selection #FFFFFF {
+class CardSelector {
  -String[0..1] cardProtocol
  -AtrFilter[0..1] atrFilter
  -AidSelector[0..1] aidSelector
  #CardSelector(CardSelectorBuilder builder)
  +{static}CardSelectorBuilder builder()

  +String getCardProtocol()
  +AtrFilter getAtrFilter()
  +AidSelector getAidSelector()
}
    }
+class SelectionStatus {
  -<b>final</b> byte[] atr
  -<b>final</b> ApduResponse fci
  -<b>final</b> boolean isMatching

  +SelectionStatus(AnswerToReset atr, ApduResponse fci, boolean isMatching)
  +AnswerToReset getAtr()
  +ApduResponse getFci()
  +boolean hasMatched()
}
    SelectionRequest "1" o-up-|> "0..1" CardSelector : contains >
    SelectionResponse "1" o-down-> "1" SelectionStatus : contains >

    SelectionStatus "1" o-left-> "0..1" ApduResponse : fci

+class "<b>final</b> DefaultSelectionsRequest" as DefaultSelectionsRequest {
  -<b>final</b> List<SeRequest> selectionSeRequests
  -<b>final</b> MultiSeRequestProcessing multiSeRequestProcessing
  -<b>final</b> ChannelControl channelControl
  +DefaultSelectionsRequest(List<SeRequest> selectionSeRequests,
    MultiSeRequestProcessing multiSeRequestProcessing, ChannelControl channelControl)

  +List<SeRequest> getSelectionSeRequests()
  +MultiSeRequestProcessing getMultiSeRequestProcessing()
  +ChannelControl getChannelControl()
}

+class "<b>final</b> DefaultSelectionsResponse" as DefaultSelectionsResponse {
  -<b>final</b> List<SelectionResponse> selectionResponses
  +DefaultSelectionsResponse(List<SelectionResponse> selectionResponses)

  +List<SelectionResponse> getSelectionResponses()
}
    DefaultSelectionsRequest "1" o-left-> "+" SelectionRequest : contains >
    DefaultSelectionsResponse "1" o-left-> "+" SelectionResponse : contains >
  }

  card -right[hidden]- reader
  ProxyReader -right-|> CardReader : extends
  DefaultSelectionsRequest -right-|> AbstractDefaultSelectionsRequest : extends
  DefaultSelectionsResponse -right-|> AbstractDefaultSelectionsResponse : extends
}

skinparam ClassBackgroundColor<<redL>> #FDEDEC
skinparam ClassBorderColor<<redB>> #E74C3C

skinparam ClassBackgroundColor<<orangeL>> #FDF2E9
skinparam ClassBorderColor<<orangeB>> #E67E22

class ApduRequest <<Send>>
class CardRequest <<Send>>
class SelectionRequest <<Send>>
class DefaultSelectionsRequest <<Send>>
class CardSelector <<Send>>
class ChannelControl <<Send>>
hide <<Send>> stereotype

class CardResponse <<Receive>>
class ApduResponse <<Receive>>
class SelectionResponse <<Receive>>
class SelectionStatus <<Receive>>
class DefaultSelectionsResponse <<Receive>>
hide <<Receive>> stereotype

skinparam class {
  BackgroundColor<<Send>> #FDF2E9
  BorderColor<<Send>> #E67E22
  BackgroundColor<<Receive>> #FDEDEC
  BorderColor<<Receive>> #E74C3C
}
@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>