<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1138px" preserveAspectRatio="none" style="width:1055px;height:1138px;" version="1.1" viewBox="0 0 1055 1138" width="1055px" zoomAndPan="magnify"><defs/><g><!--MD5=[f70fa97960bc6b4e8dc736e90c677b35]
cluster specific.terminal_application--><polygon fill="#85C1E9" points="480,24.5,687,24.5,694,48.1094,697,48.1094,697,144.5,480,144.5,480,24.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="480" x2="694" y1="48.1094" y2="48.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="201" x="484" y="41.0332">specific.terminal_application</text><!--MD5=[c3c915b379c717332e210d38dcd6e8a2]
cluster org.eclipse.keyple.core--><polygon fill="#FFFFFF" points="22,194.5,193,194.5,200,218.1094,1033,218.1094,1033,859,22,859,22,194.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="200" y1="218.1094" y2="218.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="26" y="211.0332">org.eclipse.keyple.core</text><!--MD5=[9d4f2f8fc0ef5fca8dbaabf8542dfdf0]
cluster reader--><polygon fill="#FFFFFF" points="54,246.5,107,246.5,114,270.1094,744,270.1094,744,827,54,827,54,246.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="54" x2="114" y1="270.1094" y2="270.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="58" y="263.0332">reader</text><!--MD5=[3e81cc6ee7da4fa8b6adc12b329096f6]
cluster util--><polygon fill="#FFFFFF" points="166,298.5,194,298.5,201,322.1094,428,322.1094,428,547.5,166,547.5,166,298.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="166" x2="201" y1="322.1094" y2="322.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="170" y="315.0332">util</text><!--MD5=[c0aa8e866ae6fc39023503347be6a127]
cluster plugin.setting--><polygon fill="#FFFFFF" points="784,341,887,341,894,364.6094,1001,364.6094,1001,505,784,505,784,341" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="784" x2="894" y1="364.6094" y2="364.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="97" x="788" y="357.5332">plugin.setting</text><!--MD5=[150fc06e5233369d850ce0440eb89b50]
cluster specific.plugin--><polygon fill="#D7BDE2" points="144,942,253,942,260,965.6094,1002,965.6094,1002,1126,144,1126,144,942" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="144" x2="260" y1="965.6094" y2="965.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="103" x="148" y="958.5332">specific.plugin</text><!--MD5=[36749fbd9f1718a5265922a19e14c350]
class SpecificTerminal--><rect fill="#FEFECE" height="48" id="SpecificTerminal" style="stroke: #D4AC0D; stroke-width: 1.5;" width="124" x="526" y="80.5"/><ellipse cx="541" cy="96.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M543,93 Q543.2031,92.5 543.4375,92.25 Q543.6719,92 543.9375,92 Q544.4063,92 544.7031,92.2813 Q545,92.5625 545,93.2188 L545,94.7813 Q545,95.4375 544.7188,95.7188 Q544.4375,96 544,96 Q543.6094,96 543.3594,95.8281 Q543.1094,95.6563 543,95.2031 Q542.9531,94.8906 542.7813,94.7188 Q542.4688,94.3906 541.9063,94.2031 Q541.3438,94 540.7813,94 Q540.0781,94 539.4844,94.2813 Q538.9063,94.5625 538.4531,95.1875 Q538,95.8125 538,96.6719 L538,97.5938 Q538,98.625 538.8438,99.3125 Q539.6875,100 541.1875,100 Q542.0781,100 542.7031,99.7969 Q543.0625,99.6875 543.4688,99.3281 Q543.7344,99.125 543.875,99.0625 Q544.0156,99 544.1875,99 Q544.5156,99 544.75,99.2656 Q545,99.5156 545,99.875 Q545,100.2188 544.6563,100.625 Q544.1563,101.2188 543.3594,101.5469 Q542.3125,102 541.0313,102 Q539.5313,102 538.3281,101.4063 Q537.3594,100.9375 536.6719,99.9219 Q536,98.9063 536,97.7031 L536,96.6094 Q536,95.3594 536.5938,94.2656 Q537.2031,93.1719 538.25,92.5938 Q539.3125,92 540.5,92 Q541.2188,92 541.8438,92.25 Q542.4688,92.5 543,93 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="555" y="101.4102">SpecificTerminal</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="527" x2="649" y1="112.5" y2="112.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="527" x2="649" y1="120.5" y2="120.5"/><!--MD5=[bc3f57c567736ad71a70f1388d085699]
class SmartCardService--><rect fill="#FEFECE" height="208.3828" id="SmartCardService" style="stroke: #D4AC0D; stroke-width: 1.5;" width="263" x="456.5" y="339"/><ellipse cx="514.75" cy="359.0938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M516.75,355.5938 Q516.9531,355.0938 517.1875,354.8438 Q517.4219,354.5938 517.6875,354.5938 Q518.1563,354.5938 518.4531,354.875 Q518.75,355.1563 518.75,355.8125 L518.75,357.375 Q518.75,358.0313 518.4688,358.3125 Q518.1875,358.5938 517.75,358.5938 Q517.3594,358.5938 517.1094,358.4219 Q516.8594,358.25 516.75,357.7969 Q516.7031,357.4844 516.5313,357.3125 Q516.2188,356.9844 515.6563,356.7969 Q515.0938,356.5938 514.5313,356.5938 Q513.8281,356.5938 513.2344,356.875 Q512.6563,357.1563 512.2031,357.7813 Q511.75,358.4063 511.75,359.2656 L511.75,360.1875 Q511.75,361.2188 512.5938,361.9063 Q513.4375,362.5938 514.9375,362.5938 Q515.8281,362.5938 516.4531,362.3906 Q516.8125,362.2813 517.2188,361.9219 Q517.4844,361.7188 517.625,361.6563 Q517.7656,361.5938 517.9375,361.5938 Q518.2656,361.5938 518.5,361.8594 Q518.75,362.1094 518.75,362.4688 Q518.75,362.8125 518.4063,363.2188 Q517.9063,363.8125 517.1094,364.1406 Q516.0625,364.5938 514.7813,364.5938 Q513.2813,364.5938 512.0781,364 Q511.1094,363.5313 510.4219,362.5156 Q509.75,361.5 509.75,360.2969 L509.75,359.2031 Q509.75,357.9531 510.3438,356.8594 Q510.9531,355.7656 512,355.1875 Q513.0625,354.5938 514.25,354.5938 Q514.9688,354.5938 515.5938,354.8438 Q516.2188,355.0938 516.75,355.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="571.25" y="356.457">«Singleton»</text><ellipse cx="540.25" cy="366.1406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="546.25" y="371.5508">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="573.25" y="371.5508">SmartCardService</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="457.5" x2="718.5" y1="379.1875" y2="379.1875"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="464.5" y="387.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="23" x="476.5" y="394.6064">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="164" x="502.5" y="394.6064">SmartCardService uniqueInstance</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="464.5" y="401.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="476.5" y="408.4424">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="502.5" y="408.4424">ConcurrentMap&lt;String, Plugin&gt; plugins</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="457.5" x2="718.5" y1="414.8594" y2="414.8594"/><ellipse cx="467.5" cy="425.8594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="155" x="476.5" y="430.2783">SmartCardService getInstance()</text><ellipse cx="467.5" cy="439.6953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="476.5" y="444.1143">String getVersion()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="479.5" y="457.9502"/><ellipse cx="467.5" cy="467.3672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="237" x="476.5" y="471.7861">Plugin registerPlugin(PluginFactory pluginFactory)</text><ellipse cx="467.5" cy="481.2031" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="476.5" y="485.6221">boolean isRegistered(String pluginName)</text><ellipse cx="467.5" cy="495.0391" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="212" x="476.5" y="499.458">boolean unregisterPlugin(String pluginName)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="479.5" y="513.2939"/><ellipse cx="467.5" cy="522.7109" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="476.5" y="527.1299">Plugin getPlugin(String name)</text><ellipse cx="467.5" cy="536.5469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="476.5" y="540.9658">Map&lt;String, Plugin&gt; getPlugins()</text><!--MD5=[b628511dd50102041730ee0512f882c8]
class Plugin--><rect fill="#FEFECE" height="117.1797" id="Plugin" style="stroke: #D4AC0D; stroke-width: 1.5;" width="194" x="526" y="672"/><ellipse cx="595.75" cy="688" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M596.75,685 L596.75,691 L598.75,691 L599.2344,691 L599.75,691.625 L599.75,692 L599.75,692.375 L599.2344,693 L598.75,693 L592.75,693 L592.2656,693 L591.75,692.375 L591.75,692 L591.75,691.625 L592.2656,691 L592.75,691 L594.75,691 L594.75,685 L592.75,685 L592.2656,685 L591.75,684.375 L591.75,684 L591.75,683.625 L592.2656,683 L592.75,683 L598.75,683 L599.2344,683 L599.75,683.625 L599.75,684 L599.75,684.375 L599.2344,685 L598.75,685 L596.75,685 Z "/><ellipse cx="621.25" cy="687.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="35" x="627.25" y="692.9102">Plugin</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="527" x2="719" y1="704" y2="704"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="527" x2="719" y1="712" y2="712"/><ellipse cx="537" cy="723" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="546" y="727.4189">String getName()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="549" y="741.2549"/><ellipse cx="537" cy="750.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="546" y="755.0908">Map&lt;String, Reader&gt; getReaders()</text><ellipse cx="537" cy="764.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="546" y="768.9268">Set&lt;String&gt; getReaderNames()</text><ellipse cx="537" cy="778.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="546" y="782.7627">Reader getReader(String name)</text><!--MD5=[e86a4777f2c0372cf9fb3cd047e1466e]
class Reader--><rect fill="#FEFECE" height="144.8516" id="Reader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="360" x="86" y="658"/><ellipse cx="235.75" cy="674" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M236.75,671 L236.75,677 L238.75,677 L239.2344,677 L239.75,677.625 L239.75,678 L239.75,678.375 L239.2344,679 L238.75,679 L232.75,679 L232.2656,679 L231.75,678.375 L231.75,678 L231.75,677.625 L232.2656,677 L232.75,677 L234.75,677 L234.75,671 L232.75,671 L232.2656,671 L231.75,670.375 L231.75,670 L231.75,669.625 L232.2656,669 L232.75,669 L238.75,669 L239.2344,669 L239.75,669.625 L239.75,670 L239.75,670.375 L239.2344,671 L238.75,671 L236.75,671 Z "/><ellipse cx="261.25" cy="673.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="41" x="267.25" y="678.9102">Reader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="87" x2="445" y1="690" y2="690"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="87" x2="445" y1="698" y2="698"/><ellipse cx="97" cy="709" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="106" y="713.4189">String getName()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="109" y="727.2549"/><ellipse cx="97" cy="736.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="106" y="741.0908">boolean isCardPresent()</text><ellipse cx="97" cy="750.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="106" y="754.9268">boolean isContactlessTransmission()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="109" y="768.7627"/><ellipse cx="97" cy="778.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="334" x="106" y="782.5986">activateProtocol(String applicationReference, String pluginReference)</text><ellipse cx="97" cy="792.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="106" y="796.4346">deactivateProtocol(String applicationReference)</text><!--MD5=[47ce9033b06c4ed5e96c5ff2e598f366]
class ContactlessCardCommonProtocols--><rect fill="#FEFECE" height="176.5234" id="ContactlessCardCommonProtocols" style="stroke: #D4AC0D; stroke-width: 1.5;" width="229" x="182.5" y="354.5"/><ellipse cx="197.5" cy="370.5" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M196,371.5 L196,373.5 L200,373.5 L200,372.5 L200,372.0156 L200.625,371.5 L201,371.5 L201.375,371.5 L202,372.0156 L202,372.5 L202,375.5 L194,375.5 L193.5156,375.5 L193,374.875 L193,374.5 L193,374.125 L193.5156,373.5 L194,373.5 L194,373.5 L194,367.5 L194,367.5 L193.5156,367.5 L193,366.875 L193,366.5 L193,366.125 L193.5156,365.5 L194,365.5 L202,365.5 L202,368.5 L202,368.9844 L201.375,369.5 L201,369.5 L200.625,369.5 L200,368.9844 L200,368.5 L200,367.5 L196,367.5 L196,369.5 L197,369.5 L197,369.0156 L197,369.0156 L197.625,368.5 L198,368.5 L198.375,368.5 L199,369.0156 L199,369.5 L199,371.5 L199,371.9844 L198.375,372.5 L198.375,372.5 L198,372.5 L197.625,372.5 L197,371.9844 L197,371.9844 L197,371.5 L196,371.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="197" x="211.5" y="375.4102">ContactlessCardCommonProtocols</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="183.5" x2="410.5" y1="386.5" y2="386.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="188.5" y="419.7549">ISO_14443_4</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="183.5" x2="275.5" y1="401.418" y2="401.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="275.5" y="405.4189">standard</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="318.5" x2="410.5" y1="401.418" y2="401.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="188.5" y="451.4268">NFC_A_ISO_14443_3A</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="188.5" y="465.2627">NFC_B_ISO_14443_3B</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="188.5" y="479.0986">NFC_F_JIS_6319_4</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="188.5" y="492.9346">NFC_V_ISO_15693</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="183.5" x2="263" y1="433.0898" y2="433.0898"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="263" y="437.0908">NFC compliant</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="331" x2="410.5" y1="433.0898" y2="433.0898"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="188.5" y="524.6064">CALYPSO_OLD_CARD_PRIME</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="183.5" x2="270.5" y1="506.2695" y2="506.2695"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="270.5" y="510.2705">proprietary</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="323.5" x2="410.5" y1="506.2695" y2="506.2695"/><!--MD5=[5c68026ea752d2e8f1e184b2d7c89ced]
class PluginFactory--><rect fill="#FEFECE" height="75.6719" id="PluginFactory" style="stroke: #D4AC0D; stroke-width: 1.5;" width="149" x="827.5" y="405"/><ellipse cx="856.45" cy="421" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M857.45,418 L857.45,424 L859.45,424 L859.9344,424 L860.45,424.625 L860.45,425 L860.45,425.375 L859.9344,426 L859.45,426 L853.45,426 L852.9656,426 L852.45,425.375 L852.45,425 L852.45,424.625 L852.9656,424 L853.45,424 L855.45,424 L855.45,418 L853.45,418 L852.9656,418 L852.45,417.375 L852.45,417 L852.45,416.625 L852.9656,416 L853.45,416 L859.45,416 L859.9344,416 L860.45,416.625 L860.45,417 L860.45,417.375 L859.9344,418 L859.45,418 L857.45,418 Z "/><ellipse cx="878.55" cy="420.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="75" x="884.55" y="425.9102">PluginFactory</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="828.5" x2="975.5" y1="437" y2="437"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="828.5" x2="975.5" y1="445" y2="445"/><ellipse cx="838.5" cy="456" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="847.5" y="460.4189">String getPluginName()</text><ellipse cx="838.5" cy="469.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="847.5" y="474.2549">Plugin getPluginInstance()</text><!--MD5=[11dcb8d43defc8d2a601a7912d180905]
class SpecificSupportedProtocols--><rect fill="#FEFECE" height="75.6719" id="SpecificSupportedProtocols" style="stroke: #D4AC0D; stroke-width: 1.5;" width="195" x="328.5" y="1016"/><ellipse cx="343.5" cy="1032" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M342,1033 L342,1035 L346,1035 L346,1034 L346,1033.5156 L346.625,1033 L347,1033 L347.375,1033 L348,1033.5156 L348,1034 L348,1037 L340,1037 L339.5156,1037 L339,1036.375 L339,1036 L339,1035.625 L339.5156,1035 L340,1035 L340,1035 L340,1029 L340,1029 L339.5156,1029 L339,1028.375 L339,1028 L339,1027.625 L339.5156,1027 L340,1027 L348,1027 L348,1030 L348,1030.4844 L347.375,1031 L347,1031 L346.625,1031 L346,1030.4844 L346,1030 L346,1029 L342,1029 L342,1031 L343,1031 L343,1030.5156 L343,1030.5156 L343.625,1030 L344,1030 L344.375,1030 L345,1030.5156 L345,1031 L345,1033 L345,1033.4844 L344.375,1034 L344.375,1034 L344,1034 L343.625,1034 L343,1033.4844 L343,1033.4844 L343,1033 L342,1033 Z "/><ellipse cx="362.5" cy="1031.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="152" x="368.5" y="1036.9102">SpecificSupportedProtocols</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="329.5" x2="522.5" y1="1048" y2="1048"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="334.5" y="1063.4189">ISO_14443_4</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="334.5" y="1077.2549">CALYPSO_OLD_CARD_PRIME</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="329.5" x2="522.5" y1="1083.6719" y2="1083.6719"/><!--MD5=[273228bd21fa37477fe0813cbe95870a]
class SpecificPluginFactory--><rect fill="#FEFECE" height="75.6719" id="SpecificPluginFactory" style="stroke: #D4AC0D; stroke-width: 1.5;" width="187" x="798.5" y="1016"/><ellipse cx="813.5" cy="1032" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M815.5,1028.5 Q815.7031,1028 815.9375,1027.75 Q816.1719,1027.5 816.4375,1027.5 Q816.9063,1027.5 817.2031,1027.7813 Q817.5,1028.0625 817.5,1028.7188 L817.5,1030.2813 Q817.5,1030.9375 817.2188,1031.2188 Q816.9375,1031.5 816.5,1031.5 Q816.1094,1031.5 815.8594,1031.3281 Q815.6094,1031.1563 815.5,1030.7031 Q815.4531,1030.3906 815.2813,1030.2188 Q814.9688,1029.8906 814.4063,1029.7031 Q813.8438,1029.5 813.2813,1029.5 Q812.5781,1029.5 811.9844,1029.7813 Q811.4063,1030.0625 810.9531,1030.6875 Q810.5,1031.3125 810.5,1032.1719 L810.5,1033.0938 Q810.5,1034.125 811.3438,1034.8125 Q812.1875,1035.5 813.6875,1035.5 Q814.5781,1035.5 815.2031,1035.2969 Q815.5625,1035.1875 815.9688,1034.8281 Q816.2344,1034.625 816.375,1034.5625 Q816.5156,1034.5 816.6875,1034.5 Q817.0156,1034.5 817.25,1034.7656 Q817.5,1035.0156 817.5,1035.375 Q817.5,1035.7188 817.1563,1036.125 Q816.6563,1036.7188 815.8594,1037.0469 Q814.8125,1037.5 813.5313,1037.5 Q812.0313,1037.5 810.8281,1036.9063 Q809.8594,1036.4375 809.1719,1035.4219 Q808.5,1034.4063 808.5,1033.2031 L808.5,1032.1094 Q808.5,1030.8594 809.0938,1029.7656 Q809.7031,1028.6719 810.75,1028.0938 Q811.8125,1027.5 813,1027.5 Q813.7188,1027.5 814.3438,1027.75 Q814.9688,1028 815.5,1028.5 Z "/><ellipse cx="832.5" cy="1031.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="838.5" y="1036.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="117" x="865.5" y="1036.9102">SpecificPluginFactory</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="799.5" x2="984.5" y1="1048" y2="1048"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="799.5" x2="984.5" y1="1056" y2="1056"/><ellipse cx="809.5" cy="1067" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="818.5" y="1071.4189">String getPluginName()</text><ellipse cx="809.5" cy="1080.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="818.5" y="1085.2549">Plugin getPluginInstance()</text><!--MD5=[0f8b8cab079f94c46492aeaa0dde1551]
class SpecificPlugin--><rect fill="#FEFECE" height="111.5313" id="SpecificPlugin" style="stroke: #D4AC0D; stroke-width: 1.5;" width="160" x="559" y="998"/><ellipse cx="591.55" cy="1018.0938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M593.55,1014.5938 Q593.7531,1014.0938 593.9875,1013.8438 Q594.2219,1013.5938 594.4875,1013.5938 Q594.9563,1013.5938 595.2531,1013.875 Q595.55,1014.1563 595.55,1014.8125 L595.55,1016.375 Q595.55,1017.0313 595.2688,1017.3125 Q594.9875,1017.5938 594.55,1017.5938 Q594.1594,1017.5938 593.9094,1017.4219 Q593.6594,1017.25 593.55,1016.7969 Q593.5031,1016.4844 593.3313,1016.3125 Q593.0188,1015.9844 592.4563,1015.7969 Q591.8938,1015.5938 591.3313,1015.5938 Q590.6281,1015.5938 590.0344,1015.875 Q589.4563,1016.1563 589.0031,1016.7813 Q588.55,1017.4063 588.55,1018.2656 L588.55,1019.1875 Q588.55,1020.2188 589.3938,1020.9063 Q590.2375,1021.5938 591.7375,1021.5938 Q592.6281,1021.5938 593.2531,1021.3906 Q593.6125,1021.2813 594.0188,1020.9219 Q594.2844,1020.7188 594.425,1020.6563 Q594.5656,1020.5938 594.7375,1020.5938 Q595.0656,1020.5938 595.3,1020.8594 Q595.55,1021.1094 595.55,1021.4688 Q595.55,1021.8125 595.2063,1022.2188 Q594.7063,1022.8125 593.9094,1023.1406 Q592.8625,1023.5938 591.5813,1023.5938 Q590.0813,1023.5938 588.8781,1023 Q587.9094,1022.5313 587.2219,1021.5156 Q586.55,1020.5 586.55,1019.2969 L586.55,1018.2031 Q586.55,1016.9531 587.1438,1015.8594 Q587.7531,1014.7656 588.8,1014.1875 Q589.8625,1013.5938 591.05,1013.5938 Q591.7688,1013.5938 592.3938,1013.8438 Q593.0188,1014.0938 593.55,1014.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="620.95" y="1015.457">«Singleton»</text><polygon fill="#4177AF" points="614.45,1021.1406,610.45,1027.1406,618.45,1027.1406" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="620.45" y="1030.5508">SpecificPlugin</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="560" x2="718" y1="1038.1875" y2="1038.1875"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="567" y="1046.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="579" y="1053.6064">String name</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="560" x2="718" y1="1060.0234" y2="1060.0234"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="567" y="1068.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="579" y="1075.4424">SpecificPlugin()</text><ellipse cx="570" cy="1084.8594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="134" x="579" y="1089.2783">SpecificPlugin getInstance()</text><ellipse cx="570" cy="1098.6953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="579" y="1103.1143">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="605" y="1103.1143">String getName()</text><!--MD5=[4ab0a37e4eea002adccb7015b38062eb]
class SpecificReader--><rect fill="#FEFECE" height="89.5078" id="SpecificReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="133" x="160.5" y="1009"/><ellipse cx="178.2" cy="1025" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M180.2,1021.5 Q180.4031,1021 180.6375,1020.75 Q180.8719,1020.5 181.1375,1020.5 Q181.6063,1020.5 181.9031,1020.7813 Q182.2,1021.0625 182.2,1021.7188 L182.2,1023.2813 Q182.2,1023.9375 181.9188,1024.2188 Q181.6375,1024.5 181.2,1024.5 Q180.8094,1024.5 180.5594,1024.3281 Q180.3094,1024.1563 180.2,1023.7031 Q180.1531,1023.3906 179.9813,1023.2188 Q179.6688,1022.8906 179.1063,1022.7031 Q178.5438,1022.5 177.9813,1022.5 Q177.2781,1022.5 176.6844,1022.7813 Q176.1063,1023.0625 175.6531,1023.6875 Q175.2,1024.3125 175.2,1025.1719 L175.2,1026.0938 Q175.2,1027.125 176.0438,1027.8125 Q176.8875,1028.5 178.3875,1028.5 Q179.2781,1028.5 179.9031,1028.2969 Q180.2625,1028.1875 180.6688,1027.8281 Q180.9344,1027.625 181.075,1027.5625 Q181.2156,1027.5 181.3875,1027.5 Q181.7156,1027.5 181.95,1027.7656 Q182.2,1028.0156 182.2,1028.375 Q182.2,1028.7188 181.8563,1029.125 Q181.3563,1029.7188 180.5594,1030.0469 Q179.5125,1030.5 178.2313,1030.5 Q176.7313,1030.5 175.5281,1029.9063 Q174.5594,1029.4375 173.8719,1028.4219 Q173.2,1027.4063 173.2,1026.2031 L173.2,1025.1094 Q173.2,1023.8594 173.7938,1022.7656 Q174.4031,1021.6719 175.45,1021.0938 Q176.5125,1020.5 177.7,1020.5 Q178.4188,1020.5 179.0438,1020.75 Q179.6688,1021 180.2,1021.5 Z "/><polygon fill="#4177AF" points="197.8,1020.5,193.8,1026.5,201.8,1026.5" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="203.8" y="1029.9102">SpecificReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="161.5" x2="292.5" y1="1041" y2="1041"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="168.5" y="1049"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="180.5" y="1056.4189">String name</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="161.5" x2="292.5" y1="1062.8359" y2="1062.8359"/><polygon fill="#FFFF44" points="171.5,1068.8359,175.5,1072.8359,171.5,1076.8359,167.5,1072.8359" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="180.5" y="1078.2549">SpecificReader()</text><ellipse cx="171.5" cy="1087.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="180.5" y="1092.0908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="206.5" y="1092.0908">String getName()</text><!--MD5=[230717490673261be3b1e9de94e2929c]
link SmartCardService to Plugin--><path d="M602.0958,558.9829 C602.0958,558.9829 610.656,628.804 614.305,658.577 " fill="none" id="SmartCardService-Plugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="615.93,671.832,618.8055,662.4123,615.3218,666.8691,610.8649,663.3854,615.93,671.832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="615.3218" x2="614.3485" y1="666.8691" y2="658.9285"/><polygon fill="#A80036" points="600.636,547.072,597.3956,553.5141,602.0958,558.9829,605.3362,552.5408,600.636,547.072" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="611" y="607.9951">plugins</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="594.3069" y="568.7963">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="609.7637" y="661.2124">*</text><!--MD5=[93552c6d1c6bbacc03afdb78ec3f6a5f]
link Reader to Plugin--><path d="M459.293,730.5 C477.586,730.5 513.952,730.5 513.952,730.5 " fill="none" id="Reader-Plugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="525.952,730.5,519.952,726.5,513.952,730.5,519.952,734.5,525.952,730.5" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="446.069,730.5,455.069,734.5,451.069,730.5,455.069,726.5,446.069,730.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="451.069" x2="459.069" y1="730.5" y2="730.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="464.5" y="723.9951">readers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="453.7711" y="727.6682">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="510.9396" y="727.3645">1</text><!--MD5=[7b09d406d26667b87d9d6fa628a7875c]
link ContactlessCardCommonProtocols to SmartCardService--><!--MD5=[532b2d0e5a0cf1a10972e0f178d26fe4]
link ContactlessCardCommonProtocols to Reader--><path d="M287.488,531.6 C283.092,572.086 277.937,619.567 273.778,657.872 " fill="none" id="ContactlessCardCommonProtocols-Reader" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="284" y="591.4951">application</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="292" y="607.8467">protocol</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="288.5" y="624.1982">reference</text><polygon fill="#000000" points="310.5,633.0547,313.5,639.0547,316.5,633.0547,310.5,633.0547" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[9f12f682f7b3ff31323fb13f079d7dfa]
link plugin.setting to reader--><!--MD5=[d842569d2f438607af8ed0fb4cdffa11]
link PluginFactory to SmartCardService--><path d="M900.548,404.717 C896.352,354.8 880.755,269.189 824,229.5 C757.521,183.011 689.668,260.077 643.884,334.265 " fill="none" id="PluginFactory-&gt;SmartCardService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="641.174,338.694,649.2818,333.1027,643.7825,334.4284,642.4568,328.929,641.174,338.694" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="761,168.1758,755,171.1758,761,174.1758,761,168.1758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="767" y="174.9951">sets</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="894.8441" y="394.0285">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="637.6667" y="328.2915">1</text><!--MD5=[a4001258c8db405fbf0ed58a92e714fd]
link PluginFactory to Plugin--><path d="M879.362,481.095 C864.818,503.641 844.806,532.431 824,555.5 C787.167,596.341 741.075,636.86 702.323,668.508 " fill="none" id="PluginFactory-&gt;Plugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="698.117,671.932,707.6216,669.3508,701.9942,668.7748,702.5702,663.1474,698.117,671.932" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="800" y="607.9951">creates</text><polygon fill="#000000" points="817,616.8516,820,622.8516,823,616.8516,817,616.8516" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="868.0329" y="502.2809">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="699.8453" y="661.3246">1</text><!--MD5=[606af266cb1c3ee5489afec7c4e81055]
link SpecificPluginFactory to SpecificPlugin--><path d="M798.331,1054 C774.013,1054 747.956,1054 724.105,1054 " fill="none" id="SpecificPluginFactory-&gt;SpecificPlugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="719.051,1054,728.051,1058,724.051,1054,728.051,1050,719.051,1054" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="737.25" y="1047.4951">creates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="783.5878" y="1050.8847">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="727.0145" y="1050.7717">1</text><!--MD5=[c0f848f1ce686e4cacbc8a0551faf0fe]
link SpecificPlugin to SpecificReader--><path d="M607.8764,987.6063 C607.8764,987.6063 571.182,937.122 544.5,923.5 C451.977,876.265 401.771,883.481 311,934 C285.602,948.135 266.139,973.569 252.374,997.394 " fill="none" id="SpecificPlugin-SpecificReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="246.073,1008.905,253.903,1002.9308,248.4737,1004.519,246.8855,999.0897,246.073,1008.905" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="248.4737" x2="252.315" y1="1004.519" y2="997.5015"/><polygon fill="#A80036" points="613.987,997.934,614.3742,990.7333,607.8764,987.6063,607.4891,994.807,613.987,997.934" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="500.5" y="905.9951">readers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="603.3338" y="987.2732">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="243.7143" y="998.0053">*</text><!--MD5=[6a122d5edee81846362aed7aa46205e6]
link SpecificReader to SpecificSupportedProtocols--><!--MD5=[4c2db7e77e4167a5f3a0737590b2dd9f]
link SpecificTerminal to SmartCardService--><path d="M588,128.63 C588,170.318 588,260.517 588,333.488 " fill="none" id="SpecificTerminal-&gt;SmartCardService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="588,338.711,592,329.711,588,333.711,584,329.711,588,338.711" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="589" y="174.9951">uses</text><polygon fill="#000000" points="598.5,183.8516,601.5,189.8516,604.5,183.8516,598.5,183.8516" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[af065bc95178f4f6ad311d69d30c7e30]
reverse link Plugin to SpecificPlugin--><path d="M626.878,809.429 C629.777,867.668 633.668,945.86 636.251,997.764 " fill="none" id="Plugin&lt;-SpecificPlugin" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="619.882,809.672,625.879,789.349,633.865,808.976,619.882,809.672" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="634" y="905.9951">implements</text><!--MD5=[66ced2f75dc1a13cd3c394fa75e05507]
reverse link Reader to SpecificReader--><path d="M254.879,823.178 C247.504,883.974 238.155,961.046 232.376,1008.684 " fill="none" id="Reader&lt;-SpecificReader" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="247.939,822.262,257.296,803.251,261.837,823.948,247.939,822.262" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="249" y="905.9951">implements</text><!--MD5=[136abeb6498542290e7ac248186897f6]
reverse link PluginFactory to SpecificPluginFactory--><path d="M901.06,501.221 C899.033,624.694 894.295,913.251 892.609,1015.922 " fill="none" id="PluginFactory&lt;-SpecificPluginFactory" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="894.062,501.061,901.39,481.179,908.06,501.291,894.062,501.061" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="899" y="735.9951">implements</text><!--MD5=[5d113f9f00ffa0abe3b5115086b97c88]
link Reader to SpecificSupportedProtocols--><path d="M301.708,803.251 C334.496,869.134 381.778,964.142 407.547,1015.921 " fill="none" id="Reader-SpecificSupportedProtocols" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="384,886,387,880,390,886,384,886" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="371.5" y="902.4951">plugin</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="365.5" y="918.8467">protocol</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="362" y="935.1982">reference</text><!--MD5=[779f1bba6bf7b1bcabba23df48031be3]
@startuml
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam shadowing false

skinparam StateBorderColor #D4AC0D
skinparam ActivityBorderColor #D4AC0D

skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #EAFAF1
skinparam ClassBorderColor<<green>> #2ECC71
hide <<green>> stereotype

skinparam ClassBackgroundColor<<orange>> #FDF2E9
skinparam ClassBorderColor<<orange>> #E67E22
hide <<orange>> stereotype

skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

package specific.terminal_application #85C1E9 {
  class SpecificTerminal
}

package org.eclipse.keyple.core #FFFFFF {
  package reader #FFFFFF {
+class "<b>final</b> SmartCardService" as SmartCardService << Singleton >> {
  -<b>final</b> {static}SmartCardService uniqueInstance
  -<b>final</b> ConcurrentMap<String, Plugin> plugins
  +{static}SmartCardService getInstance()
  +String getVersion()

  +Plugin registerPlugin(PluginFactory pluginFactory)
  +boolean isRegistered(String pluginName)
  +boolean unregisterPlugin(String pluginName)

  +Plugin getPlugin(String name)
  +Map<String, Plugin> getPlugins()
}
+interface Plugin {
  +String getName()

  +Map<String, Reader> getReaders()
  +Set<String> getReaderNames()
  +Reader getReader(String name)
}
+interface Reader {
  +String getName()

  +boolean isCardPresent()
  +boolean isContactlessTransmission()

  +activateProtocol(String applicationReference, String pluginReference)
  +deactivateProtocol(String applicationReference)
}

    package util #FFFFFF {
enum ContactlessCardCommonProtocols {
.. standard ..
  ISO_14443_4
.. NFC compliant ..
  NFC_A_ISO_14443_3A
  NFC_B_ISO_14443_3B
  NFC_F_JIS_6319_4
  NFC_V_ISO_15693
.. proprietary ..
  CALYPSO_OLD_CARD_PRIME
}
    }

    SmartCardService "1" *-down-> "*" Plugin : plugins
    Plugin "1" *-left-> "*" Reader : readers
    ContactlessCardCommonProtocols -right[hidden]- SmartCardService
    ContactlessCardCommonProtocols -down- Reader : application\nprotocol\nreference >
  }
  package plugin.setting #FFFFFF {
+interface PluginFactory {
  +String getPluginName()
  +Plugin getPluginInstance()
}
  }

  plugin.setting -left[hidden]- reader
  SmartCardService "1" <-right- "*" PluginFactory : sets <
  PluginFactory "1" - -> "1" Plugin : creates >
}

package specific.plugin #D7BDE2 {
  +enum SpecificSupportedProtocols {
    ISO_14443_4
    CALYPSO_OLD_CARD_PRIME
  }


  +class "<b>final</b> SpecificPluginFactory" as SpecificPluginFactory {
    +String getPluginName()
    +Plugin getPluginInstance()
  }

  ~class SpecificPlugin << Singleton >> {
    -String name
    -SpecificPlugin()
    +{static} SpecificPlugin getInstance()
    +<b>final</b> String getName()
  }

  ~class SpecificReader {
    -String name
    #SpecificReader()
    +<b>final</b> String getName()
  }

  SpecificPluginFactory "1" -right-> "1" SpecificPlugin : creates
  SpecificPlugin "1" *-right-> "*" SpecificReader : readers
  SpecificSupportedProtocols -left[hidden]- SpecificReader
}
SpecificTerminal -down-> SmartCardService : uses >

Plugin <|.down. SpecificPlugin : implements
Reader <|.down. SpecificReader : implements
PluginFactory <|.down. SpecificPluginFactory : implements
Reader - - SpecificSupportedProtocols : plugin\nprotocol\nreference <
@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>