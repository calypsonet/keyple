<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3133px" preserveAspectRatio="none" style="width:1631px;height:3133px;" version="1.1" viewBox="0 0 1631 3133" width="1631px" zoomAndPan="magnify"><defs/><g><!--MD5=[c3c915b379c717332e210d38dcd6e8a2]
cluster org.eclipse.keyple.core--><polygon fill="#FFFFFF" points="22,24,193,24,200,47.6094,1609,47.6094,1609,3121,22,3121,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="200" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="26" y="40.5332">org.eclipse.keyple.core</text><!--MD5=[b21e48437d720d45eb0be59b91918a53]
cluster core_reader--><polygon fill="#FFFFFF" points="46,68,99,68,106,91.6094,918,91.6094,918,223,46,223,46,68" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="106" y1="91.6094" y2="91.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="50" y="84.5332">reader</text><!--MD5=[fc5f7357635190d92cef7ec8135ac887]
cluster card--><polygon fill="#FFFFFF" points="742,273,779,273,786,296.6094,1266,296.6094,1266,456,742,456,742,273" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="742" x2="786" y1="296.6094" y2="296.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="746" y="289.5332">card</text><!--MD5=[6ad7c0b688d9e902153dd4de2b6da276]
cluster plugin--><polygon fill="#FFFFFF" points="93,506,143,506,150,529.6094,1585,529.6094,1585,2426,93,2426,93,506" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="93" x2="150" y1="529.6094" y2="529.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="97" y="522.5332">plugin</text><!--MD5=[06668ae4ca0bebd8129e0272b56db8fb]
cluster plugin_reader--><polygon fill="#FFFFFF" points="676,550,729,550,736,573.6094,1561,573.6094,1561,2402,676,2402,676,550" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="676" x2="736" y1="573.6094" y2="573.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="680" y="566.5332">reader</text><!--MD5=[25928727aa5407bd34213e8c09cf1dbc]
cluster reader.event--><polygon fill="#FFFFFF" points="49,2803,147,2803,154,2826.6094,1216,2826.6094,1216,3097,49,3097,49,2803" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="49" x2="154" y1="2826.6094" y2="2826.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="92" x="53" y="2819.5332">reader.event</text><!--MD5=[b628511dd50102041730ee0512f882c8]
class Plugin--><rect fill="#FEFECE" height="89.5078" id="Plugin" style="stroke: #D4AC0D; stroke-width: 1.5;" width="194" x="62" y="110.5"/><ellipse cx="131.75" cy="126.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M132.75,123.5 L132.75,129.5 L134.75,129.5 L135.2344,129.5 L135.75,130.125 L135.75,130.5 L135.75,130.875 L135.2344,131.5 L134.75,131.5 L128.75,131.5 L128.2656,131.5 L127.75,130.875 L127.75,130.5 L127.75,130.125 L128.2656,129.5 L128.75,129.5 L130.75,129.5 L130.75,123.5 L128.75,123.5 L128.2656,123.5 L127.75,122.875 L127.75,122.5 L127.75,122.125 L128.2656,121.5 L128.75,121.5 L134.75,121.5 L135.2344,121.5 L135.75,122.125 L135.75,122.5 L135.75,122.875 L135.2344,123.5 L134.75,123.5 L132.75,123.5 Z "/><ellipse cx="157.25" cy="126" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="35" x="163.25" y="131.4102">Plugin</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="63" x2="255" y1="142.5" y2="142.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="63" x2="255" y1="150.5" y2="150.5"/><ellipse cx="73" cy="161.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="82" y="165.9189">Map&lt;String, Reader&gt;</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="186" y="165.9189">getReaders</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="242" y="165.9189">()</text><ellipse cx="73" cy="175.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="82" y="179.7549">Set&lt;String&gt;</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="141" y="179.7549">getReaderNames</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="224" y="179.7549">()</text><ellipse cx="73" cy="189.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="82" y="193.5908">Reader</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="120" y="193.5908">getReader</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="170" y="193.5908">(String name)</text><!--MD5=[f32ad7e99aabd41d9b4c18d27e28445d]
class ProxyElement--><rect fill="#FEFECE" height="61.8359" id="ProxyElement" style="stroke: #D4AC0D; stroke-width: 1.5;" width="120" x="339" y="124.5"/><ellipse cx="354" cy="140.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M355,137.5 L355,143.5 L357,143.5 L357.4844,143.5 L358,144.125 L358,144.5 L358,144.875 L357.4844,145.5 L357,145.5 L351,145.5 L350.5156,145.5 L350,144.875 L350,144.5 L350,144.125 L350.5156,143.5 L351,143.5 L353,143.5 L353,137.5 L351,137.5 L350.5156,137.5 L350,136.875 L350,136.5 L350,136.125 L350.5156,135.5 L351,135.5 L357,135.5 L357.4844,135.5 L358,136.125 L358,136.5 L358,136.875 L357.4844,137.5 L357,137.5 L355,137.5 Z "/><polygon fill="#4177AF" points="373,136,369,142,377,142" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="77" x="379" y="145.4102">ProxyElement</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="340" x2="458" y1="156.5" y2="156.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="340" x2="458" y1="164.5" y2="164.5"/><ellipse cx="350" cy="175.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="359" y="179.9189">String getName()</text><!--MD5=[e86a4777f2c0372cf9fb3cd047e1466e]
class Reader--><rect fill="#FEFECE" height="103.3438" id="Reader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="360" x="542" y="104"/><ellipse cx="691.75" cy="120" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M692.75,117 L692.75,123 L694.75,123 L695.2344,123 L695.75,123.625 L695.75,124 L695.75,124.375 L695.2344,125 L694.75,125 L688.75,125 L688.2656,125 L687.75,124.375 L687.75,124 L687.75,123.625 L688.2656,123 L688.75,123 L690.75,123 L690.75,117 L688.75,117 L688.2656,117 L687.75,116.375 L687.75,116 L687.75,115.625 L688.2656,115 L688.75,115 L694.75,115 L695.2344,115 L695.75,115.625 L695.75,116 L695.75,116.375 L695.2344,117 L694.75,117 L692.75,117 Z "/><ellipse cx="717.25" cy="119.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="41" x="723.25" y="124.9102">Reader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="543" x2="901" y1="136" y2="136"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="543" x2="901" y1="144" y2="144"/><ellipse cx="553" cy="155" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="562" y="159.4189">boolean isCardPresent()</text><ellipse cx="553" cy="168.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="334" x="562" y="173.2549">activateProtocol(String applicationReference, String pluginReference)</text><ellipse cx="553" cy="182.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="562" y="187.0908">deactivateProtocol(String applicationReference)</text><ellipse cx="553" cy="196.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="562" y="200.9268">boolean</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="603" y="200.9268">isContactlessTransmission</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="732" y="200.9268">()</text><!--MD5=[96a4004012a1c08588eb87adf87ec875]
class ProxyReader--><rect fill="#FEFECE" height="131.0156" id="ProxyReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="492" x="758" y="309"/><ellipse cx="958.25" cy="325" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M959.25,322 L959.25,328 L961.25,328 L961.7344,328 L962.25,328.625 L962.25,329 L962.25,329.375 L961.7344,330 L961.25,330 L955.25,330 L954.7656,330 L954.25,329.375 L954.25,329 L954.25,328.625 L954.7656,328 L955.25,328 L957.25,328 L957.25,322 L955.25,322 L954.7656,322 L954.25,321.375 L954.25,321 L954.25,320.625 L954.7656,320 L955.25,320 L961.25,320 L961.7344,320 L962.25,320.625 L962.25,321 L962.25,321.375 L961.7344,322 L961.25,322 L959.25,322 Z "/><ellipse cx="983.75" cy="324.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="72" x="989.75" y="329.9102">ProxyReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="759" x2="1249" y1="341" y2="341"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="759" x2="1249" y1="349" y2="349"/><ellipse cx="769" cy="360" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="427" x="778" y="364.4189">List&lt;SelectionResponse&gt; transmitCardSelections(List&lt;SelectionRequest&gt; cardRequests,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="399" x="778" y="378.2549">MultiSelectionProcessing multiSelectionProcessing, ChannelControl channelControl)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="781" y="392.0908"/><ellipse cx="769" cy="401.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="466" x="778" y="405.9268">CardResponse transmitCardRequest(CardRequest cardRequest, ChannelControl channelControl)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="781" y="419.7627"/><ellipse cx="769" cy="429.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="778" y="433.5986">releaseChannel()</text><!--MD5=[d65a81ff17c705555c4513b7aa66e708]
class AbstractPlugin--><rect fill="#FEFECE" height="212.1953" id="AbstractPlugin" style="stroke: #D4AC0D; stroke-width: 1.5;" width="302" x="134" y="638"/><ellipse cx="235.25" cy="654" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M237,655.5 L233.7031,655.5 L233.2656,656.5 L233.2656,656.5 L233.7344,656.5 L234.25,657.125 L234.25,657.5 L234.25,657.875 L233.7344,658.5 L233.2656,658.5 L231.375,658.5 L230.7656,658.5 L230.25,657.875 L230.25,657.5 L230.25,657.125 L230.7656,656.5 L231.375,656.5 L233.6875,650.5 L232.8125,650.5 L231.7656,650.5 L231.25,649.875 L231.25,649.5 L231.25,649.125 L231.7656,648.5 L232.8125,648.5 L236.4844,648.5 L239.1719,656.5 L239.7344,656.5 L239.7344,656.5 L240.25,657.125 L240.25,657.5 L240.25,657.875 L239.7344,658.5 L239.1719,658.5 L237.2813,658.5 L236.7656,658.5 L236.25,657.875 L236.25,657.5 L236.25,657.125 L236.7656,656.5 L237.2813,656.5 L237.2813,656.5 L237,655.5 Z M236.4531,653.5 L235.25,649.9219 L234.2188,653.5 L236.4531,653.5 Z "/><ellipse cx="260.75" cy="653.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="80" x="266.75" y="658.9102">AbstractPlugin</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="135" x2="435" y1="670" y2="670"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="142" y="678"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="154" y="685.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="180" y="685.4189">String name</text><polygon fill="none" points="145,689.8359,149,693.8359,145,697.8359,141,693.8359" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="154" y="699.2549">ConcurrentMap&lt;String, Reader&gt; readers</text><line style="stroke: #D4AC0D; stroke-width: 1.0;" x1="135" x2="435" y1="705.6719" y2="705.6719"/><polygon fill="#FFFF44" points="145,711.6719,149,715.6719,145,719.6719,141,715.6719" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="140" x="154" y="721.0908">AbstractPlugin(String name)</text><ellipse cx="145" cy="748.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="154" y="752.7627">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="180" y="752.7627">String getName()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="135" x2="155.5" y1="734.4258" y2="734.4258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="259" x="155.5" y="738.4268">implementation of the package interface ProxyElement</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="414.5" x2="435" y1="734.4258" y2="734.4258"/><ellipse cx="145" cy="780.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="154" y="784.4346">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="180" y="784.4346">Set&lt;String&gt; getReaderNames()</text><ellipse cx="145" cy="793.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="154" y="798.2705">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="180" y="798.2705">Reader getReader(String name)</text><ellipse cx="145" cy="807.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="154" y="812.1064">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="180" y="812.1064">Map&lt;String, Reader&gt; getReaders()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="135" x2="180.5" y1="766.0977" y2="766.0977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="209" x="180.5" y="770.0986">implementation of the public interface Plugin</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="389.5" x2="435" y1="766.0977" y2="766.0977"/><polygon fill="#FFFF44" points="145,834.3594,149,838.3594,145,842.3594,141,838.3594" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="154" y="843.7783">Map&lt;String, Reader&gt;</text><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="88" x="261" y="843.7783">initNativeReaders</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="349" y="843.7783">()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="135" x2="138" y1="825.4414" y2="825.4414"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="231" x="138" y="829.4424">protected abstract method to be implemented by</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="29" x="372" y="829.4424">native</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="404" y="829.4424">Plugin</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="432" x2="435" y1="825.4414" y2="825.4414"/><!--MD5=[da2e4ed478904b6ac7589a4a6a804fe2]
class AbstractObservablePlugin--><rect fill="#FEFECE" height="216.3828" id="AbstractObservablePlugin" style="stroke: #D4AC0D; stroke-width: 1.5;" width="307" x="133.5" y="1181.5"/><ellipse cx="176.4" cy="1201.5938" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M178.15,1203.0938 L174.8531,1203.0938 L174.4156,1204.0938 L174.4156,1204.0938 L174.8844,1204.0938 L175.4,1204.7188 L175.4,1205.0938 L175.4,1205.4688 L174.8844,1206.0938 L174.4156,1206.0938 L172.525,1206.0938 L171.9156,1206.0938 L171.4,1205.4688 L171.4,1205.0938 L171.4,1204.7188 L171.9156,1204.0938 L172.525,1204.0938 L174.8375,1198.0938 L173.9625,1198.0938 L172.9156,1198.0938 L172.4,1197.4688 L172.4,1197.0938 L172.4,1196.7188 L172.9156,1196.0938 L173.9625,1196.0938 L177.6344,1196.0938 L180.3219,1204.0938 L180.8844,1204.0938 L180.8844,1204.0938 L181.4,1204.7188 L181.4,1205.0938 L181.4,1205.4688 L180.8844,1206.0938 L180.3219,1206.0938 L178.4313,1206.0938 L177.9156,1206.0938 L177.4,1205.4688 L177.4,1205.0938 L177.4,1204.7188 L177.9156,1204.0938 L178.4313,1204.0938 L178.4313,1204.0938 L178.15,1203.0938 Z M177.6031,1201.0938 L176.4,1197.5156 L175.3688,1201.0938 L177.6031,1201.0938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="7" x="194.6" y="1198.957">«</text><text fill="#FF0000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="201.6" y="1198.957">internal / dedicated</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="103" x="308.6" y="1198.957">for RemotePlugin»</text><ellipse cx="230.1" cy="1208.6406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="145" x="236.1" y="1214.0508">AbstractObservablePlugin</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="134.5" x2="439.5" y1="1221.6875" y2="1221.6875"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="141.5" y="1229.6875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="153.5" y="1237.1064">List&lt;PluginObserver&gt; observers</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="141.5" y="1243.5234"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="153.5" y="1250.9424">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="179.5" y="1250.9424">final Object sync</text><line style="stroke: #D4AC0D; stroke-width: 1.0;" x1="134.5" x2="439.5" y1="1257.3594" y2="1257.3594"/><polygon fill="#FFFF44" points="144.5,1263.3594,148.5,1267.3594,144.5,1271.3594,140.5,1267.3594" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="191" x="153.5" y="1272.7783">AbstractObservablePlugin(String name)</text><ellipse cx="144.5" cy="1300.0313" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="153.5" y="1304.4502">addObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="221.5" y="1304.4502">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="247.5" y="1304.4502">PluginObserver observer)</text><ellipse cx="144.5" cy="1313.8672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="153.5" y="1318.2861">removeObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="239.5" y="1318.2861">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="265.5" y="1318.2861">PluginObserver observer)</text><ellipse cx="144.5" cy="1327.7031" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="153.5" y="1332.1221">clearObservers()</text><ellipse cx="144.5" cy="1341.5391" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="153.5" y="1345.958">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="179.5" y="1345.958">int countObservers()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="156.5" y="1359.7939"/><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="134.5" x2="154.5" y1="1286.1133" y2="1286.1133"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="265" x="154.5" y="1290.1143">implementation of the public interface ObservablePlugin</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="419.5" x2="439.5" y1="1286.1133" y2="1286.1133"/><ellipse cx="144.5" cy="1387.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="153.5" y="1391.4658">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="179.5" y="1391.4658">notifyObservers(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="262.5" y="1391.4658">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="288.5" y="1391.4658">PluginEvent event)</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="134.5" x2="137.5" y1="1373.1289" y2="1373.1289"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="299" x="137.5" y="1377.1299">implementation of the public interface ObservablePluginNotifier</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="436.5" x2="439.5" y1="1373.1289" y2="1373.1289"/><!--MD5=[afe9b948530cb52da59ce106d3726d7e]
class AbstractThreadedObservablePlugin--><rect fill="#FEFECE" height="288.293" id="AbstractThreadedObservablePlugin" style="stroke: #D4AC0D; stroke-width: 1.5;" width="364" x="272" y="1808.5"/><ellipse cx="345.25" cy="1824.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M347,1826 L343.7031,1826 L343.2656,1827 L343.2656,1827 L343.7344,1827 L344.25,1827.625 L344.25,1828 L344.25,1828.375 L343.7344,1829 L343.2656,1829 L341.375,1829 L340.7656,1829 L340.25,1828.375 L340.25,1828 L340.25,1827.625 L340.7656,1827 L341.375,1827 L343.6875,1821 L342.8125,1821 L341.7656,1821 L341.25,1820.375 L341.25,1820 L341.25,1819.625 L341.7656,1819 L342.8125,1819 L346.4844,1819 L349.1719,1827 L349.7344,1827 L349.7344,1827 L350.25,1827.625 L350.25,1828 L350.25,1828.375 L349.7344,1829 L349.1719,1829 L347.2813,1829 L346.7656,1829 L346.25,1828.375 L346.25,1828 L346.25,1827.625 L346.7656,1827 L347.2813,1827 L347.2813,1827 L347,1826 Z M346.4531,1824 L345.25,1820.4219 L344.2188,1824 L346.4531,1824 Z "/><ellipse cx="370.75" cy="1824" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="198" x="376.75" y="1829.4102">AbstractThreadedObservablePlugin</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="273" x2="635" y1="1840.5" y2="1840.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="280" y="1848.5"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="23" x="292" y="1855.9189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="213" x="318" y="1855.9189">long SETTING_THREAD_TIMEOUT_DEFAULT</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="280" y="1862.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="292" y="1869.7549">long threadWaitTimeout</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="280" y="1876.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="292" y="1883.5908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="187" x="318" y="1883.5908">SortedSet&lt;String&gt; nativeReadersames</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="280" y="1890.0078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="292" y="1897.4268">EventThread thread</text><line style="stroke: #D4AC0D; stroke-width: 1.0;" x1="273" x2="635" y1="1903.8438" y2="1903.8438"/><polygon fill="#FFFF44" points="283,1909.8438,287,1913.8438,283,1917.8438,279,1913.8438" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="237" x="292" y="1919.2627">AbstractThreadedObservablePlugin(String name)</text><ellipse cx="283" cy="1946.5156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="292" y="1950.9346">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="318" y="1950.9346">addObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="386" y="1950.9346">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="412" y="1950.9346">PluginObserver observer)</text><ellipse cx="283" cy="1960.3516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="292" y="1964.7705">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="318" y="1964.7705">removeObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="404" y="1964.7705">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="430" y="1964.7705">PluginObserver observer)</text><ellipse cx="283" cy="1974.1875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="292" y="1978.6064">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="318" y="1978.6064">clearObservers()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="295" y="1992.4424"/><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="273" x2="290.5" y1="1932.5977" y2="1932.5977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="327" x="290.5" y="1936.5986">Override of the implentation of the public interface ObservablePlugin</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="617.5" x2="635" y1="1932.5977" y2="1932.5977"/><polygon fill="#FFFF44" points="283,2014.6953,287,2018.6953,283,2022.6953,279,2018.6953" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="89" x="292" y="2024.1143">SortedSet&lt;String&gt;</text><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="132" x="384" y="2024.1143">fetchNativeReadersNames</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="516" y="2024.1143">()</text><polygon fill="#FFFF44" points="283,2028.5313,287,2032.5313,283,2036.5313,279,2032.5313" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="36" x="292" y="2037.9502">Reader</text><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="91" x="331" y="2037.9502">fetchNativeReader</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="67" x="422" y="2037.9502">(String name)</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="273" x2="276" y1="2005.7773" y2="2005.7773"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="237" x="276" y="2009.7783">protected abstract methods to be implemented by</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="29" x="516" y="2009.7783">native</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="548" y="2009.7783">ObservablePlugin</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="632" x2="635" y1="2005.7773" y2="2005.7773"/><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="273" x2="415" y1="2051.2852" y2="2051.2852"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="415" y="2055.2861">internal process</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="493" x2="635" y1="2051.2852" y2="2051.2852"/><polygon fill="#FFFF44" points="283,2080.957,287,2084.957,283,2088.957,279,2084.957" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="292" y="2090.376">Boolean isMonitoring()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="273" x2="332" y1="2072.0391" y2="2072.0391"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="244" x="332" y="2076.04">To review - used by unit test Stub &amp; Remote Plugin</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="576" x2="635" y1="2072.0391" y2="2072.0391"/><!--MD5=[c954dac450f15cb071150cf9e7905da6]
class ObservablePluginNotifier--><rect fill="#FEFECE" height="61.8359" id="ObservablePluginNotifier" style="stroke: #D4AC0D; stroke-width: 1.5;" width="224" x="133" y="2293"/><ellipse cx="166.9" cy="2309" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M167.9,2306 L167.9,2312 L169.9,2312 L170.3844,2312 L170.9,2312.625 L170.9,2313 L170.9,2313.375 L170.3844,2314 L169.9,2314 L163.9,2314 L163.4156,2314 L162.9,2313.375 L162.9,2313 L162.9,2312.625 L163.4156,2312 L163.9,2312 L165.9,2312 L165.9,2306 L163.9,2306 L163.4156,2306 L162.9,2305.375 L162.9,2305 L162.9,2304.625 L163.4156,2304 L163.9,2304 L169.9,2304 L170.3844,2304 L170.9,2304.625 L170.9,2305 L170.9,2305.375 L170.3844,2306 L169.9,2306 L167.9,2306 Z "/><ellipse cx="190.1" cy="2308.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="139" x="196.1" y="2313.9102">ObservablePluginNotifier</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="134" x2="356" y1="2325" y2="2325"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="134" x2="356" y1="2333" y2="2333"/><ellipse cx="144" cy="2344" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="153" y="2348.4189">notifyObservers(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236" y="2348.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="262" y="2348.4189">PluginEvent event)</text><!--MD5=[061eb7c540d80d802f0b59c866a65f36]
class NativeInsertionReader--><rect fill="#FEFECE" height="61.8359" id="NativeInsertionReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="167" x="692.5" y="2293"/><ellipse cx="707.5" cy="2309" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M708.5,2306 L708.5,2312 L710.5,2312 L710.9844,2312 L711.5,2312.625 L711.5,2313 L711.5,2313.375 L710.9844,2314 L710.5,2314 L704.5,2314 L704.0156,2314 L703.5,2313.375 L703.5,2313 L703.5,2312.625 L704.0156,2312 L704.5,2312 L706.5,2312 L706.5,2306 L704.5,2306 L704.0156,2306 L703.5,2305.375 L703.5,2305 L703.5,2304.625 L704.0156,2304 L704.5,2304 L710.5,2304 L710.9844,2304 L711.5,2304.625 L711.5,2305 L711.5,2305.375 L710.9844,2306 L710.5,2306 L708.5,2306 Z "/><ellipse cx="726.5" cy="2308.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="124" x="732.5" y="2313.9102">NativeInsertionReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="693.5" x2="858.5" y1="2325" y2="2325"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="693.5" x2="858.5" y1="2333" y2="2333"/><ellipse cx="703.5" cy="2344" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="712.5" y="2348.4189">notifyCardInserted</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="801.5" y="2348.4189">()</text><!--MD5=[c8b9470c9f0bc9bc22cc394204c1ec26]
class AbstractReader--><rect fill="#FEFECE" height="267.5391" id="AbstractReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="576" x="716" y="610"/><ellipse cx="951.25" cy="626" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M953,627.5 L949.7031,627.5 L949.2656,628.5 L949.2656,628.5 L949.7344,628.5 L950.25,629.125 L950.25,629.5 L950.25,629.875 L949.7344,630.5 L949.2656,630.5 L947.375,630.5 L946.7656,630.5 L946.25,629.875 L946.25,629.5 L946.25,629.125 L946.7656,628.5 L947.375,628.5 L949.6875,622.5 L948.8125,622.5 L947.7656,622.5 L947.25,621.875 L947.25,621.5 L947.25,621.125 L947.7656,620.5 L948.8125,620.5 L952.4844,620.5 L955.1719,628.5 L955.7344,628.5 L955.7344,628.5 L956.25,629.125 L956.25,629.5 L956.25,629.875 L955.7344,630.5 L955.1719,630.5 L953.2813,630.5 L952.7656,630.5 L952.25,629.875 L952.25,629.5 L952.25,629.125 L952.7656,628.5 L953.2813,628.5 L953.2813,628.5 L953,627.5 Z M952.4531,625.5 L951.25,621.9219 L950.2188,625.5 L952.4531,625.5 Z "/><ellipse cx="976.75" cy="625.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="86" x="982.75" y="630.9102">AbstractReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="717" x2="1291" y1="642" y2="642"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724" y="650"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736" y="657.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="762" y="657.4189">String pluginName</text><line style="stroke: #D4AC0D; stroke-width: 1.0;" x1="717" x2="1291" y1="663.8359" y2="663.8359"/><polygon fill="#FFFF44" points="727,669.8359,731,673.8359,727,677.8359,723,673.8359" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="736" y="679.2549">AbstractReader(String pluginName, String name)</text><polygon fill="#FFFF44" points="727,683.6719,731,687.6719,727,691.6719,723,687.6719" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736" y="693.0908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="762" y="693.0908">String getPluginName()</text><ellipse cx="727" cy="720.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736" y="724.7627">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="762" y="724.7627">String getName()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="717" x2="874.5" y1="706.4258" y2="706.4258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="259" x="874.5" y="710.4268">implementation of the package interface ProxyElement</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1133.5" x2="1291" y1="706.4258" y2="706.4258"/><ellipse cx="727" cy="752.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736" y="756.4346">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="524" x="762" y="756.4346">List&lt;SelectionResponse&gt; transmitCardSelections(List&lt;SelectionRequest&gt; requests, MultiSelectionProcessing</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="227" x="736" y="770.2705">selectionMode, ChannelControl channelControl)</text><ellipse cx="727" cy="779.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736" y="784.1064">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="441" x="762" y="784.1064">CardResponse transmitCardRequest(CardRequest request, ChannelControl channelControl)</text><ellipse cx="727" cy="793.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736" y="797.9424">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="762" y="797.9424">releaseChannel()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="717" x2="882" y1="738.0977" y2="738.0977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="244" x="882" y="742.0986">implementation of tbe public interface ProxyReader</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1126" x2="1291" y1="738.0977" y2="738.0977"/><polygon fill="#FFFF44" points="727,820.1953,731,824.1953,727,828.1953,723,824.1953" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="415" x="736" y="829.6143">List&lt;SelectionResponse&gt; processCardSelections(List&lt;SelectionRequest&gt; requests,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="349" x="736" y="843.4502">MultiSelectionProcessing selectionMode, ChannelControl channelControl)</text><polygon fill="#FFFF44" points="727,847.8672,731,851.8672,727,855.8672,723,851.8672" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="456" x="736" y="857.2861">CardResponse processCardRequest(CardRequest request, ChannelControl channelControl)</text><polygon fill="#FFFF44" points="727,861.7031,731,865.7031,727,869.7031,723,865.7031" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="95" x="736" y="871.1221">terminateChannel()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="717" x2="791.5" y1="811.2773" y2="811.2773"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="425" x="791.5" y="815.2783">protected abstract methods to be implemented by AbstractLocalReader or VirtualReader</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1216.5" x2="1291" y1="811.2773" y2="811.2773"/><!--MD5=[1cd95740aea628efd937ee9d93977c80]
class Toto--><!--MD5=[4fdbbc41fb87080aa93900a035a2087b]
class AbstractLocalReader--><rect fill="#FEFECE" height="658.9453" id="AbstractLocalReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="495" x="716.5" y="960"/><ellipse cx="896.25" cy="976" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M898,977.5 L894.7031,977.5 L894.2656,978.5 L894.2656,978.5 L894.7344,978.5 L895.25,979.125 L895.25,979.5 L895.25,979.875 L894.7344,980.5 L894.2656,980.5 L892.375,980.5 L891.7656,980.5 L891.25,979.875 L891.25,979.5 L891.25,979.125 L891.7656,978.5 L892.375,978.5 L894.6875,972.5 L893.8125,972.5 L892.7656,972.5 L892.25,971.875 L892.25,971.5 L892.25,971.125 L892.7656,970.5 L893.8125,970.5 L897.4844,970.5 L900.1719,978.5 L900.7344,978.5 L900.7344,978.5 L901.25,979.125 L901.25,979.5 L901.25,979.875 L900.7344,980.5 L900.1719,980.5 L898.2813,980.5 L897.7656,980.5 L897.25,979.875 L897.25,979.5 L897.25,979.125 L897.7656,978.5 L898.2813,978.5 L898.2813,978.5 L898,977.5 Z M897.4531,975.5 L896.25,971.9219 L895.2188,975.5 L897.4531,975.5 Z "/><ellipse cx="921.75" cy="975.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="116" x="927.75" y="980.9102">AbstractLocalReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="717.5" x2="1210.5" y1="992" y2="992"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1000"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="23" x="736.5" y="1007.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="186" x="762.5" y="1007.4189">byte[] getResponseHackRequestBytes</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1013.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="736.5" y="1021.2549">boolean logicalChannelIsOpen</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1027.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="258" x="736.5" y="1035.0908">CardSelector.AidSelector.IsoAid aidCurrentlySelected</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1041.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="736.5" y="1048.9268">SelectionStatus currentSelectionStatus</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1055.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="162" x="736.5" y="1062.7627">Map&lt;String, String&gt; protocolsMap</text><line style="stroke: #D4AC0D; stroke-width: 1.0;" x1="717.5" x2="1210.5" y1="1069.1797" y2="1069.1797"/><polygon fill="#FFFF44" points="727.5,1075.1797,731.5,1079.1797,727.5,1083.1797,723.5,1079.1797" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="262" x="736.5" y="1084.5986">AbstractLocalReader(String pluginName, String name)'</text><ellipse cx="727.5" cy="1111.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736.5" y="1116.2705">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="762.5" y="1116.2705">boolean isCardPresent()</text><text fill="#FF0000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="969.5" y="1116.2705">should be final !!</text><ellipse cx="727.5" cy="1125.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736.5" y="1130.1064">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="368" x="762.5" y="1130.1064">activateProtocol(String readerProtocolName, String applicationProtocolName)</text><ellipse cx="727.5" cy="1139.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736.5" y="1143.9424">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="226" x="762.5" y="1143.9424">deactivateProtocol(String readerProtocolName)</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="717.5" x2="844.5" y1="1097.9336" y2="1097.9336"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="239" x="844.5" y="1101.9346">implementation of the public interface CardReader</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1083.5" x2="1210.5" y1="1097.9336" y2="1097.9336"/><polygon fill="#4177AF" points="727.5,1167.1953,723.5,1173.1953,731.5,1173.1953" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736.5" y="1175.6143">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="404" x="762.5" y="1175.6143">List&lt;SelectionResponse&gt; processCardSelections(List&lt;SelectionRequest&gt; requests,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="349" x="736.5" y="1189.4502">MultiSelectionProcessing selectionMode, ChannelControl channelControl)</text><polygon fill="#4177AF" points="727.5,1194.8672,723.5,1200.8672,731.5,1200.8672" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736.5" y="1203.2861">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="443" x="762.5" y="1203.2861">CardResponse processCardRequest(CardRequest request, ChannelControl channelControl)</text><polygon fill="#4177AF" points="727.5,1208.7031,723.5,1214.7031,731.5,1214.7031" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736.5" y="1217.1221">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="762.5" y="1217.1221">terminateChannel()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="717.5" x2="775.5" y1="1157.2773" y2="1157.2773"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="377" x="775.5" y="1161.2783">implementation of the protected abstract methods of the class AbstractReader</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1152.5" x2="1210.5" y1="1157.2773" y2="1157.2773"/><polygon fill="#FFFF44" points="727.5,1239.375,731.5,1243.375,727.5,1247.375,723.5,1243.375" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="115" x="736.5" y="1248.7939">activateReaderProtocol</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="145" x="851.5" y="1248.7939">(String readerProtocolName);</text><polygon fill="#FFFF44" points="727.5,1253.2109,731.5,1257.2109,727.5,1261.2109,723.5,1257.2109" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="127" x="736.5" y="1262.6299">deactivateReaderProtocol</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="145" x="863.5" y="1262.6299">(String readerProtocolName);</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="739.5" y="1276.4658"/><polygon fill="#FFFF44" points="727.5,1280.8828,731.5,1284.8828,727.5,1288.8828,723.5,1284.8828" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="736.5" y="1290.3018">boolean</text><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="101" x="779.5" y="1290.3018">checkCardPresence</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="880.5" y="1290.3018">()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="739.5" y="1304.1377"/><polygon fill="#FFFF44" points="727.5,1308.5547,731.5,1312.5547,727.5,1316.5547,723.5,1312.5547" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="107" x="736.5" y="1317.9736">openPhysicalChannel</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="843.5" y="1317.9736">()</text><polygon fill="#FFFF44" points="727.5,1322.3906,731.5,1326.3906,727.5,1330.3906,723.5,1326.3906" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="110" x="736.5" y="1331.8096">closePhysicalChannel</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="846.5" y="1331.8096">()</text><polygon fill="#FFFF44" points="727.5,1336.2266,731.5,1340.2266,727.5,1344.2266,723.5,1340.2266" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="736.5" y="1345.6455">boolean</text><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="119" x="779.5" y="1345.6455">isPhysicalChannelOpen</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="898.5" y="1345.6455">()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="739.5" y="1359.4814"/><polygon fill="#FFFF44" points="727.5,1363.8984,731.5,1367.8984,727.5,1371.8984,723.5,1367.8984" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="27" x="736.5" y="1373.3174">byte[]</text><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="37" x="766.5" y="1373.3174">getATR</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="803.5" y="1373.3174">()</text><polygon fill="#FFFF44" points="727.5,1377.7344,731.5,1381.7344,727.5,1385.7344,723.5,1381.7344" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="27" x="736.5" y="1387.1533">byte[]</text><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="766.5" y="1387.1533">transmitApdu</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="71" x="831.5" y="1387.1533">(byte[] apduIn)</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="717.5" x2="799" y1="1230.457" y2="1230.457"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="237" x="799" y="1234.458">protected abstract methods to be implemented by</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="29" x="1039" y="1234.458">native</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="1071" y="1234.458">CardReader</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1129" x2="1210.5" y1="1230.457" y2="1230.457"/><polygon fill="#FFFF44" points="727.5,1409.4063,731.5,1413.4063,727.5,1417.4063,723.5,1413.4063" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736.5" y="1418.8252">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="762.5" y="1418.8252">Map&lt;String, String&gt; getProtocolsMap()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="739.5" y="1432.6611"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1439.0781"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="383" x="736.5" y="1446.4971">ApduResponse recoverSelectionFciData(CardSelector.AidSelector aidSelector)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1452.9141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="398" x="736.5" y="1460.333">ApduResponse processExplicitAidSelection(CardSelector.AidSelector aidSelector)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1466.75"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="395" x="736.5" y="1474.1689">SelectionResponse processSelectionRequestLogical(SelectionRequest sRequest)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1480.5859"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="332" x="736.5" y="1488.0049">CardResponse processCardRequestLogical(CardRequest cRequest)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1494.4219"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="325" x="736.5" y="1501.8408">ApduResponse processApduRequest(ApduRequest apduRequest)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1508.2578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="310" x="736.5" y="1515.6768">ApduResponse case4HackGetResponse(int originalStatusCode)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="739.5" y="1529.5127"/><polygon fill="#4177AF" points="727.5,1534.9297,723.5,1540.9297,731.5,1540.9297" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="288" x="736.5" y="1543.3486">SelectionStatus openLogicalChannel(CardSelector selector)</text><polygon fill="#4177AF" points="727.5,1548.7656,723.5,1554.7656,731.5,1554.7656" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736.5" y="1557.1846">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="338" x="762.5" y="1557.1846">SelectionStatus openLogicalChannelAndSelect(CardSelector selector)</text><polygon fill="#4177AF" points="727.5,1562.6016,723.5,1568.6016,731.5,1568.6016" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736.5" y="1571.0205">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="762.5" y="1571.0205">boolean isLogicalChannelOpen()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1577.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="736.5" y="1584.8564">closeLogicalChannel()</text><polygon fill="#4177AF" points="727.5,1590.2734,723.5,1596.2734,731.5,1596.2734" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="173" x="736.5" y="1598.6924">closeLogicalAndPhysicalChannels()</text><polygon fill="#4177AF" points="727.5,1604.1094,723.5,1610.1094,731.5,1610.1094" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="144" x="736.5" y="1612.5283">terminateSeCommunication()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="717.5" x2="925" y1="1400.4883" y2="1400.4883"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="925" y="1404.4893">internal process</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1003" x2="1210.5" y1="1400.4883" y2="1400.4883"/><!--MD5=[2d013d86840ef792528c977933931152]
class SmartSelectionReader--><rect fill="#FEFECE" height="75.6719" id="SmartSelectionReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="274" x="1247" y="1251.5"/><ellipse cx="1311.75" cy="1267.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M1312.75,1264.5 L1312.75,1270.5 L1314.75,1270.5 L1315.2344,1270.5 L1315.75,1271.125 L1315.75,1271.5 L1315.75,1271.875 L1315.2344,1272.5 L1314.75,1272.5 L1308.75,1272.5 L1308.2656,1272.5 L1307.75,1271.875 L1307.75,1271.5 L1307.75,1271.125 L1308.2656,1270.5 L1308.75,1270.5 L1310.75,1270.5 L1310.75,1264.5 L1308.75,1264.5 L1308.2656,1264.5 L1307.75,1263.875 L1307.75,1263.5 L1307.75,1263.125 L1308.2656,1262.5 L1308.75,1262.5 L1314.75,1262.5 L1315.2344,1262.5 L1315.75,1263.125 L1315.75,1263.5 L1315.75,1263.875 L1315.2344,1264.5 L1314.75,1264.5 L1312.75,1264.5 Z "/><ellipse cx="1337.25" cy="1267" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="125" x="1343.25" y="1272.4102">SmartSelectionReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1248" x2="1520" y1="1283.5" y2="1283.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1248" x2="1520" y1="1291.5" y2="1291.5"/><ellipse cx="1258" cy="1302.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="1267" y="1306.9189">ApduResponse</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="1345" y="1306.9189">openChannelForAid</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="1440" y="1306.9189">(byte[] dfName)</text><ellipse cx="1258" cy="1316.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="1267" y="1320.7549">closeLogicalChannel()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="1374" y="1320.7549">()</text><!--MD5=[def8a4ded3d9320d2eb123b929637efb]
class AbstractObservableLocalReader--><rect fill="#FEFECE" height="502.75" id="AbstractObservableLocalReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="432" x="803" y="1701"/><ellipse cx="918.75" cy="1717" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M920.5,1718.5 L917.2031,1718.5 L916.7656,1719.5 L916.7656,1719.5 L917.2344,1719.5 L917.75,1720.125 L917.75,1720.5 L917.75,1720.875 L917.2344,1721.5 L916.7656,1721.5 L914.875,1721.5 L914.2656,1721.5 L913.75,1720.875 L913.75,1720.5 L913.75,1720.125 L914.2656,1719.5 L914.875,1719.5 L917.1875,1713.5 L916.3125,1713.5 L915.2656,1713.5 L914.75,1712.875 L914.75,1712.5 L914.75,1712.125 L915.2656,1711.5 L916.3125,1711.5 L919.9844,1711.5 L922.6719,1719.5 L923.2344,1719.5 L923.2344,1719.5 L923.75,1720.125 L923.75,1720.5 L923.75,1720.875 L923.2344,1721.5 L922.6719,1721.5 L920.7813,1721.5 L920.2656,1721.5 L919.75,1720.875 L919.75,1720.5 L919.75,1720.125 L920.2656,1719.5 L920.7813,1719.5 L920.7813,1719.5 L920.5,1718.5 Z M919.9531,1716.5 L918.75,1712.9219 L917.7188,1716.5 L919.9531,1716.5 Z "/><ellipse cx="944.25" cy="1716.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="181" x="950.25" y="1721.9102">AbstractObservableLocalReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="804" x2="1234" y1="1733" y2="1733"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="811" y="1741"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="823" y="1748.4189">List&lt;ReaderObserver&gt; observers</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="811" y="1754.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="274" x="823" y="1762.2549">DefaultSelectionsRequest[0..1] defaultSelectionsRequest</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="811" y="1768.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="160" x="823" y="1776.0908">NotificationMode notificationMode</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="811" y="1782.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="823" y="1789.9268">PollingMode currentPollingMode</text><polygon fill="none" points="814,1795.3438,810,1801.3438,818,1801.3438" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="823" y="1803.7627">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="217" x="849" y="1803.7627">ObservableReaderStateService stateService</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="811" y="1810.1797"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="823" y="1817.5986">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="849" y="1817.5986">Object sync</text><line style="stroke: #D4AC0D; stroke-width: 1.0;" x1="804" x2="1234" y1="1824.0156" y2="1824.0156"/><polygon fill="#FFFF44" points="814,1830.0156,818,1834.0156,814,1838.0156,810,1834.0156" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="349" x="823" y="1839.4346">AbstractObservableLocalReader(String pluginName, String readerName)</text><ellipse cx="814" cy="1866.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="823" y="1871.1064">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="849" y="1871.1064">addObserver(ReaderObserver observer)</text><ellipse cx="814" cy="1880.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="823" y="1884.9424">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="849" y="1884.9424">removeObserver(ReaderObserver observer)</text><ellipse cx="814" cy="1894.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="823" y="1898.7783">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="849" y="1898.7783">clearObservers()</text><ellipse cx="814" cy="1908.1953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="823" y="1912.6143">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="849" y="1912.6143">int countObservers()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="826" y="1926.4502"/><ellipse cx="814" cy="1935.8672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="823" y="1940.2861">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="269" x="849" y="1940.2861">setDefaultSelections(AbstractDefaultSelectionsRequest</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="208" x="823" y="1954.1221">selectionsR, NotificationMode notificationM)</text><ellipse cx="814" cy="1963.5391" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="823" y="1967.958">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="380" x="849" y="1967.958">setDefaultSelectionsAndStartCardDetection(AbstractDefaultSelectionsRequest</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="311" x="823" y="1981.7939">selectionsR, NotificationMode notificationM, PollingMode pollingM)</text><ellipse cx="814" cy="1991.2109" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="823" y="1995.6299">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="849" y="1995.6299">startCardDetection(PollingMode pollingMode)</text><ellipse cx="814" cy="2005.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="823" y="2009.4658">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="849" y="2009.4658">stopCardDetection()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="826" y="2023.3018"/><ellipse cx="814" cy="2032.7188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="823" y="2037.1377">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="849" y="2037.1377">finalizeCardProcessing()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="804" x2="883" y1="1852.7695" y2="1852.7695"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="272" x="883" y="1856.7705">implementation of the public interface ObservableReader</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1155" x2="1234" y1="1852.7695" y2="1852.7695"/><ellipse cx="814" cy="2064.3906" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="823" y="2068.8096">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="849" y="2068.8096">notifyObservers(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="932" y="2068.8096">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="958" y="2068.8096">ReaderEvent event)</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="804" x2="872.5" y1="2050.4727" y2="2050.4727"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="293" x="872.5" y="2054.4736">implementation the public interface ObservableReaderNotifier</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1165.5" x2="1234" y1="2050.4727" y2="2050.4727"/><polygon fill="#4177AF" points="814,2092.0625,810,2098.0625,818,2098.0625" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="239" x="823" y="2100.4814">ObservableReaderStateService initStateService()</text><polygon fill="#4177AF" points="814,2105.8984,810,2111.8984,818,2111.8984" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="823" y="2114.3174">onEvent(InternalEvent event)</text><polygon fill="#4177AF" points="814,2119.7344,810,2125.7344,818,2125.7344" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="175" x="823" y="2128.1533">ReaderEvent processCardInserted()</text><polygon fill="#4177AF" points="814,2133.5703,810,2139.5703,818,2139.5703" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="823" y="2141.9893">boolean isCardPresentPing()</text><polygon fill="#4177AF" points="814,2147.4063,810,2153.4063,818,2153.4063" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="823" y="2155.8252">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="849" y="2155.8252">processCardRemoved()</text><polygon fill="#4177AF" points="814,2161.2422,810,2167.2422,818,2167.2422" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="232" x="823" y="2169.6611">ObservableReader.PollingMode getPollingMode()</text><polygon fill="#4177AF" points="814,2175.0781,810,2181.0781,818,2181.0781" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="175" x="823" y="2183.4971">switchState(MonitoringState stateId)</text><polygon fill="#4177AF" points="814,2188.9141,810,2194.9141,818,2194.9141" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="823" y="2197.333">MonitoringState getCurrentMonitoringState()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="804" x2="980" y1="2082.1445" y2="2082.1445"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="980" y="2086.1455">internal process</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1058" x2="1234" y1="2082.1445" y2="2082.1445"/><!--MD5=[eb61d2af2fe9ea0fe6ca3f97da1aafb9]
class SmartInsertionReader--><rect fill="#FEFECE" height="75.6719" id="SmartInsertionReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="172" x="1270" y="1914.5"/><ellipse cx="1288.15" cy="1930.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M1289.15,1927.5 L1289.15,1933.5 L1291.15,1933.5 L1291.6344,1933.5 L1292.15,1934.125 L1292.15,1934.5 L1292.15,1934.875 L1291.6344,1935.5 L1291.15,1935.5 L1285.15,1935.5 L1284.6656,1935.5 L1284.15,1934.875 L1284.15,1934.5 L1284.15,1934.125 L1284.6656,1933.5 L1285.15,1933.5 L1287.15,1933.5 L1287.15,1927.5 L1285.15,1927.5 L1284.6656,1927.5 L1284.15,1926.875 L1284.15,1926.5 L1284.15,1926.125 L1284.6656,1925.5 L1285.15,1925.5 L1291.15,1925.5 L1291.6344,1925.5 L1292.15,1926.125 L1292.15,1926.5 L1292.15,1926.875 L1291.6344,1927.5 L1291.15,1927.5 L1289.15,1927.5 Z "/><ellipse cx="1307.85" cy="1930" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="122" x="1313.85" y="1935.4102">SmartInsertionReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1271" x2="1441" y1="1946.5" y2="1946.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1271" x2="1441" y1="1954.5" y2="1954.5"/><ellipse cx="1281" cy="1965.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="1290" y="1969.9189">boolean</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="1331" y="1969.9189">waitForCardPresent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="1428" y="1969.9189">()</text><ellipse cx="1281" cy="1979.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="1290" y="1983.7549">stopWaitForCard</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="1371" y="1983.7549">()</text><!--MD5=[b940e63541cb3de023976f6bd0dc6a31]
class ObservableReaderNotifier--><rect fill="#FEFECE" height="61.8359" id="ObservableReaderNotifier" style="stroke: #D4AC0D; stroke-width: 1.5;" width="231" x="942.5" y="2293"/><ellipse cx="976.85" cy="2309" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M977.85,2306 L977.85,2312 L979.85,2312 L980.3344,2312 L980.85,2312.625 L980.85,2313 L980.85,2313.375 L980.3344,2314 L979.85,2314 L973.85,2314 L973.3656,2314 L972.85,2313.375 L972.85,2313 L972.85,2312.625 L973.3656,2312 L973.85,2312 L975.85,2312 L975.85,2306 L973.85,2306 L973.3656,2306 L972.85,2305.375 L972.85,2305 L972.85,2304.625 L973.3656,2304 L973.85,2304 L979.85,2304 L980.3344,2304 L980.85,2304.625 L980.85,2305 L980.85,2305.375 L980.3344,2306 L979.85,2306 L977.85,2306 Z "/><ellipse cx="1000.15" cy="2308.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="145" x="1006.15" y="2313.9102">ObservableReaderNotifier</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="943.5" x2="1172.5" y1="2325" y2="2325"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="943.5" x2="1172.5" y1="2333" y2="2333"/><ellipse cx="953.5" cy="2344" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="962.5" y="2348.4189">notifyObservers(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="1045.5" y="2348.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="1071.5" y="2348.4189">ReaderEvent event)</text><!--MD5=[05850aa4ac8ffb9d37530d3286a2effb]
class SmartRemovalReader--><rect fill="#FEFECE" height="75.6719" id="SmartRemovalReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="200" x="1256" y="2286"/><ellipse cx="1285.85" cy="2302" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M1286.85,2299 L1286.85,2305 L1288.85,2305 L1289.3344,2305 L1289.85,2305.625 L1289.85,2306 L1289.85,2306.375 L1289.3344,2307 L1288.85,2307 L1282.85,2307 L1282.3656,2307 L1281.85,2306.375 L1281.85,2306 L1281.85,2305.625 L1282.3656,2305 L1282.85,2305 L1284.85,2305 L1284.85,2299 L1282.85,2299 L1282.3656,2299 L1281.85,2298.375 L1281.85,2298 L1281.85,2297.625 L1282.3656,2297 L1282.85,2297 L1288.85,2297 L1289.3344,2297 L1289.85,2297.625 L1289.85,2298 L1289.85,2298.375 L1289.3344,2299 L1288.85,2299 L1286.85,2299 Z "/><ellipse cx="1308.15" cy="2301.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="124" x="1314.15" y="2306.9102">SmartRemovalReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1257" x2="1455" y1="2318" y2="2318"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1257" x2="1455" y1="2326" y2="2326"/><ellipse cx="1267" cy="2337" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="1276" y="2341.4189">boolean</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="1317" y="2341.4189">waitForCardAbsentNative</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="1442" y="2341.4189">()</text><ellipse cx="1267" cy="2350.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="1276" y="2355.2549">stopWaitForCardRemoval</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="1398" y="2355.2549">()</text><!--MD5=[1fa9a61019755e60a0cb03f0bc3590aa]
class ObservablePlugin--><rect fill="#FEFECE" height="103.3438" id="ObservablePlugin" style="stroke: #D4AC0D; stroke-width: 1.5;" width="263" x="65.5" y="2908.5"/><ellipse cx="137.25" cy="2924.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M138.25,2921.5 L138.25,2927.5 L140.25,2927.5 L140.7344,2927.5 L141.25,2928.125 L141.25,2928.5 L141.25,2928.875 L140.7344,2929.5 L140.25,2929.5 L134.25,2929.5 L133.7656,2929.5 L133.25,2928.875 L133.25,2928.5 L133.25,2928.125 L133.7656,2927.5 L134.25,2927.5 L136.25,2927.5 L136.25,2921.5 L134.25,2921.5 L133.7656,2921.5 L133.25,2920.875 L133.25,2920.5 L133.25,2920.125 L133.7656,2919.5 L134.25,2919.5 L140.25,2919.5 L140.7344,2919.5 L141.25,2920.125 L141.25,2920.5 L141.25,2920.875 L140.7344,2921.5 L140.25,2921.5 L138.25,2921.5 Z "/><ellipse cx="162.75" cy="2924" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="100" x="168.75" y="2929.4102">ObservablePlugin</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="66.5" x2="327.5" y1="2940.5" y2="2940.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="66.5" x2="327.5" y1="2948.5" y2="2948.5"/><ellipse cx="76.5" cy="2959.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="85.5" y="2963.9189">addObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="153.5" y="2963.9189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="179.5" y="2963.9189">PluginObserver observer)</text><ellipse cx="76.5" cy="2973.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="85.5" y="2977.7549">removeObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="171.5" y="2977.7549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="197.5" y="2977.7549">PluginObserver observer)</text><ellipse cx="76.5" cy="2987.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="85.5" y="2991.5908">clearObservers()</text><ellipse cx="76.5" cy="3001.0078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="85.5" y="3005.4268">int countObservers()</text><!--MD5=[023c4512c54c7652aea90369e9f7b7d2]
class PluginObserver--><rect fill="#FEFECE" height="61.8359" id="PluginObserver" style="stroke: #D4AC0D; stroke-width: 1.5;" width="178" x="429" y="2929"/><ellipse cx="466.05" cy="2945" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M467.05,2942 L467.05,2948 L469.05,2948 L469.5344,2948 L470.05,2948.625 L470.05,2949 L470.05,2949.375 L469.5344,2950 L469.05,2950 L463.05,2950 L462.5656,2950 L462.05,2949.375 L462.05,2949 L462.05,2948.625 L462.5656,2948 L463.05,2948 L465.05,2948 L465.05,2942 L463.05,2942 L462.5656,2942 L462.05,2941.375 L462.05,2941 L462.05,2940.625 L462.5656,2940 L463.05,2940 L469.05,2940 L469.5344,2940 L470.05,2940.625 L470.05,2941 L470.05,2941.375 L469.5344,2942 L469.05,2942 L467.05,2942 Z "/><ellipse cx="489.95" cy="2944.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="86" x="495.95" y="2949.9102">PluginObserver</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="430" x2="606" y1="2961" y2="2961"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="430" x2="606" y1="2969" y2="2969"/><ellipse cx="440" cy="2980" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="449" y="2984.4189">update(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="486" y="2984.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="512" y="2984.4189">PluginEvent event)</text><!--MD5=[35b709ead7a86e7b2780a25fdb99ded4]
class ReaderObserver--><rect fill="#FEFECE" height="61.8359" id="ReaderObserver" style="stroke: #D4AC0D; stroke-width: 1.5;" width="185" x="642.5" y="2929"/><ellipse cx="680" cy="2945" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M681,2942 L681,2948 L683,2948 L683.4844,2948 L684,2948.625 L684,2949 L684,2949.375 L683.4844,2950 L683,2950 L677,2950 L676.5156,2950 L676,2949.375 L676,2949 L676,2948.625 L676.5156,2948 L677,2948 L679,2948 L679,2942 L677,2942 L676.5156,2942 L676,2941.375 L676,2941 L676,2940.625 L676.5156,2940 L677,2940 L683,2940 L683.4844,2940 L684,2940.625 L684,2941 L684,2941.375 L683.4844,2942 L683,2942 L681,2942 Z "/><ellipse cx="704" cy="2944.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="92" x="710" y="2949.9102">ReaderObserver</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="643.5" x2="826.5" y1="2961" y2="2961"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="643.5" x2="826.5" y1="2969" y2="2969"/><ellipse cx="653.5" cy="2980" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="662.5" y="2984.4189">update(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="699.5" y="2984.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="725.5" y="2984.4189">ReaderEvent event)</text><!--MD5=[e2341a3d5316e117132fc49473ae3219]
class ObservableReader--><rect fill="#FEFECE" height="241.7031" id="ObservableReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="337" x="862.5" y="2839"/><ellipse cx="968.25" cy="2855" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M969.25,2852 L969.25,2858 L971.25,2858 L971.7344,2858 L972.25,2858.625 L972.25,2859 L972.25,2859.375 L971.7344,2860 L971.25,2860 L965.25,2860 L964.7656,2860 L964.25,2859.375 L964.25,2859 L964.25,2858.625 L964.7656,2858 L965.25,2858 L967.25,2858 L967.25,2852 L965.25,2852 L964.7656,2852 L964.25,2851.375 L964.25,2851 L964.25,2850.625 L964.7656,2850 L965.25,2850 L971.25,2850 L971.7344,2850 L972.25,2850.625 L972.25,2851 L972.25,2851.375 L971.7344,2852 L971.25,2852 L969.25,2852 Z "/><ellipse cx="993.75" cy="2854.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106" x="999.75" y="2859.9102">ObservableReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="863.5" x2="1198.5" y1="2871" y2="2871"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="863.5" x2="1198.5" y1="2879" y2="2879"/><ellipse cx="873.5" cy="2890" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="882.5" y="2894.4189">addObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="950.5" y="2894.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="976.5" y="2894.4189">ReaderObserver observer)</text><ellipse cx="873.5" cy="2903.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="882.5" y="2908.2549">removeObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="968.5" y="2908.2549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="994.5" y="2908.2549">ReaderObserver observer)</text><ellipse cx="873.5" cy="2917.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="882.5" y="2922.0908">clearObservers()</text><ellipse cx="873.5" cy="2931.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="882.5" y="2935.9268">int countObservers()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="885.5" y="2949.7627"/><ellipse cx="873.5" cy="2959.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="303" x="882.5" y="2963.5986">setDefaultSelectionRequest(AbstractDefaultSelectionsRequest</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="208" x="882.5" y="2977.4346">selectionsR, NotificationMode notificationM)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="885.5" y="2991.2705"/><ellipse cx="873.5" cy="3000.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="303" x="882.5" y="3005.1064">setDefaultSelectionRequest(AbstractDefaultSelectionsRequest</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="311" x="882.5" y="3018.9424">selectionsR, NotificationMode notificationM, PollingMode pollingM)</text><ellipse cx="873.5" cy="3028.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="882.5" y="3032.7783">startCardDetection(PollingMode pollingMode)</text><ellipse cx="873.5" cy="3042.1953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="882.5" y="3046.6143">stopCardDetection()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="885.5" y="3060.4502"/><ellipse cx="873.5" cy="3069.8672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="882.5" y="3074.2861">finalizeCardProcessing()</text><!--MD5=[10c59bcbe9bb7ada49e28e419ad23478]
link Plugin to ProxyElement--><path d="M256.271,155.5 C277.005,155.5 298.679,155.5 318.692,155.5 " fill="none" id="Plugin-&gt;ProxyElement" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="318.839,148.5,338.839,155.5,318.839,162.5,318.839,148.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="274.5" y="148.9951">extends</text><!--MD5=[b920ad0cf2abaeb0cb8ba20923673c81]
reverse link ProxyElement to Reader--><path d="M479.407,155.5 C498.693,155.5 520.062,155.5 541.891,155.5 " fill="none" id="ProxyElement&lt;-Reader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="479.375,162.5,459.375,155.5,479.375,148.5,479.375,162.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="477.5" y="148.9951">extends</text><!--MD5=[064f265580e30d9d90190d8c0a6130d8]
reverse link Reader to ProxyReader--><path d="M804.029,219.62 C840.52,247.7 883.439,280.73 920.14,308.97 " fill="none" id="Reader&lt;-ProxyReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="799.342,224.85,787.761,207.1,807.88,213.75,799.342,224.85" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="848" y="253.4951">extends</text><!--MD5=[e66d1373bde8a2ec94835cde1c1066a4]
reverse link AbstractPlugin to AbstractObservablePlugin--><path d="M285.461,870.27 C285.807,964.39 286.277,1091.96 286.606,1181.37 " fill="none" id="AbstractPlugin&lt;-AbstractObservablePlugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="278.461,870.14,285.387,850.11,292.46,870.09,278.461,870.14" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="287" y="924.4951">extends</text><!--MD5=[33b7aa1c2fa9095b379c42389d26e3c9]
reverse link AbstractObservablePlugin to AbstractThreadedObservablePlugin--><path d="M319.055,1417.38 C347.31,1529.21 388.443,1692.02 417.86,1808.45 " fill="none" id="AbstractObservablePlugin&lt;-AbstractThreadedObservablePlugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="312.222,1418.91,314.11,1397.8,325.796,1415.48,312.222,1418.91" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="382" y="1665.4951">extends</text><!--MD5=[a617abdab06716768f7bcd4c9aa15885]
link AbstractThreadedObservablePlugin to ObservablePluginNotifier--><!--MD5=[c8c1aac643e37e31ab61cd1fba4f2583]
link AbstractObservablePlugin to ObservablePluginNotifier--><path d="M250.722,1397.72 C226.729,1474.47 197.477,1580.82 185,1677 C153.494,1919.85 116.933,1992.76 185,2228 C189.857,2244.786 198.661,2261.456 208.056,2276.036 " fill="none" id="AbstractObservablePlugin-&gt;ObservablePluginNotifier" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="213.934,2272.229,219.582,2292.652,202.431,2280.209,213.934,2272.229" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="186" y="1957.9951">implements</text><!--MD5=[809360daaac808b54a5ab67e9dde72e9]
reverse link AbstractReader to AbstractLocalReader--><path d="M992.709,898.41 C991.261,918.08 989.738,938.79 988.179,959.97 " fill="none" id="AbstractReader&lt;-AbstractLocalReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="985.74,897.74,994.189,878.3,999.702,898.76,985.74,897.74" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="992" y="924.4951">extends</text><!--MD5=[9b55259d343559c02d7b29a233fd666f]
reverse link AbstractLocalReader to AbstractObservableLocalReader--><path d="M993.003,1639.07 C994.738,1659.91 996.464,1680.66 998.154,1700.97 " fill="none" id="AbstractLocalReader&lt;-AbstractObservableLocalReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="986.021,1639.58,991.339,1619.06,999.973,1638.41,986.021,1639.58" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="995" y="1665.4951">extends</text><!--MD5=[1b7d6c87af8af79cceb932cb50ba0eb0]
link AbstractObservableLocalReader to ObservableReaderNotifier--><path d="M1045.45,2204.054 C1048.15,2229.676 1050.65,2253.356 1052.69,2272.731 " fill="none" id="AbstractObservableLocalReader-&gt;ObservableReaderNotifier" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1059.66,2272.025,1054.8,2292.649,1045.74,2273.495,1059.66,2272.025" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="1051" y="2250.4951">implements</text><!--MD5=[0b86f5516292848a66e9e457eaeed6ab]
link Toto to SmartSelectionReader--><!--MD5=[6746113413f1ab760d0d3f7a6b1e7404]
link SmartSelectionReader to SmartInsertionReader--><!--MD5=[0d9d99359fd3767a1b2e679fb8bdf58f]
link SmartInsertionReader to SmartRemovalReader--><!--MD5=[4b260110f67a1b47089ed0753f95736c]
reverse link ObservableReaderNotifier to SmartRemovalReader--><path d="M1193.92,2324 C1214.79,2324 1236.02,2324 1255.93,2324 " fill="none" id="ObservableReaderNotifier&lt;-SmartRemovalReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1193.64,2331,1173.64,2324,1193.64,2317,1193.64,2331" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1191.75" y="2317.4951">extends</text><!--MD5=[75e0894cd15abde64ad9470e2e677d29]
link NativeInsertionReader to ObservableReaderNotifier--><path d="M859.846,2324 C879.47,2324 900.872,2324 922.119,2324 " fill="none" id="NativeInsertionReader-&gt;ObservableReaderNotifier" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="922.379,2317,942.379,2324,922.379,2331,922.379,2317" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="878" y="2317.4951">extends</text><!--MD5=[f1128eafe7a143fed9b786af9c62c310]
reverse link ObservableReaderNotifier to SmartInsertionReader--><path d="M1173.22,2284.512 C1202.24,2270.415 1231.28,2251.877 1253,2228 C1315.69,2159.101 1341.38,2048.44 1350.94,1990.92 " fill="none" id="ObservableReaderNotifier&lt;-SmartInsertionReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1175.83,2291.016,1154.73,2292.935,1170.03,2278.275,1175.83,2291.016" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1245" y="2250.4951">extends</text><!--MD5=[75676cd63a2ad0ea5e52d64473c6b717]
reverse link Plugin to AbstractPlugin--><path d="M172.685,220.2 C194.247,320.57 236.354,516.56 262.44,637.99 " fill="none" id="Plugin&lt;-AbstractPlugin" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="165.828,221.61,168.47,200.58,179.515,218.67,165.828,221.61" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="226" y="379.9951">implements</text><!--MD5=[625475b96d083cf26f5f0b5bf24282c2]
reverse link ProxyReader to AbstractReader--><path d="M1004,460.53 C1004,504.86 1004,560.1 1004,609.94 " fill="none" id="ProxyReader&lt;-AbstractReader" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="997,460.36,1004,440.36,1011,460.36,997,460.36" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="1005" y="486.4951">implements</text><!--MD5=[c4e15f7040ee707f91507f7bc972fb13]
reverse link ProxyReader to SmartSelectionReader--><path d="M1269.31,432.42 C1329.14,450.75 1380.51,472.91 1399,498 C1573.46,734.76 1445.4,1128.91 1398.99,1251.17 " fill="none" id="ProxyReader&lt;-SmartSelectionReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1267.26,439.11,1250.06,426.73,1271.23,425.68,1267.26,439.11" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1488" y="749.4951">extends</text><!--MD5=[3830a5700ff7c40e5b569efbd984cf19]
reverse link ObservablePlugin to PluginObserver--><path d="M343.846,2963.121 C361.255,2963.224 378.774,2963.205 395.5,2963 C406.242,2962.868 417.514,2962.672 428.687,2962.442 " fill="none" id="ObservablePlugin&lt;-PluginObserver" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="336.5978" cy="2963.0632" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="344.5975" x2="328.598" y1="2963.1265" y2="2963"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="336.5345" x2="336.661" y1="2971.063" y2="2955.0635"/><!--MD5=[3830a5700ff7c40e5b569efbd984cf19]
reverse link ObservablePlugin to PluginObserver--><path d="M341.998,2960 C371.518,2960 401.745,2960 428.632,2960 " fill="none" id="ObservablePlugin&lt;-PluginObserver-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="328.953,2960,334.953,2964,340.953,2960,334.953,2956,328.953,2960" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="353.75,2946.6758,347.75,2949.6758,353.75,2952.6758,353.75,2946.6758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="359.75" y="2953.4951">observes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="336.3606" y="2957.0578">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="416.0242" y="2956.854">*</text><!--MD5=[49138a1ae57008717e97dd6304bf9aa6]
reverse link ObservableReader to ReaderObserver--><path d="M847.212,2981.891 C840.738,2981.399 834.263,2980.773 827.789,2980.014 " fill="none" id="ObservableReader&lt;-ReaderObserver" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="854.3333" cy="2982.3175" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="846.3476" x2="862.319" y1="2981.839" y2="2982.796"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="854.8118" x2="853.8548" y1="2974.3318" y2="2990.3032"/><!--MD5=[567ed26442b0028769a37534f4997d4e]
link ReaderObserver to ObservableReader--><path d="M827.789,2939.986 C834.893,2939.153 841.997,2938.481 849.101,2937.97 " fill="none" id="ReaderObserver-&gt;ObservableReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="862.319,2937.204,856.0978,2933.5575,850.3391,2937.8977,856.5603,2941.5442,862.319,2937.204" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="835.3823" y="2935.2693">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="847.517" y="2933.3184">1</text><!--MD5=[13bfd5c637a294bbb6318145cef7730b]
link PluginObserver to ReaderObserver--><!--MD5=[1c6858772d88f0330f47bbe1e0991925]
link ObservablePluginNotifier to ObservablePlugin--><path d="M241.205,2355.053 C237.368,2388.081 232,2442.732 232,2490 C232,2490 232,2490 232,2584 C232,2690.536 217.823,2813.364 207.514,2888.591 " fill="none" id="ObservablePluginNotifier-&gt;ObservablePlugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="214.433,2889.658,204.724,2908.493,200.569,2887.715,214.433,2889.658" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="233" y="2628.4951">extends</text><!--MD5=[11e7e84d99732de4315c3f5cf4028d5b]
link ObservableReaderNotifier to ObservableReader--><path d="M1054.5,2355.061 C1050.95,2388.096 1046,2442.753 1046,2490 C1046,2490 1046,2490 1046,2756 C1046,2776.353 1045.24,2797.823 1044.06,2818.877 " fill="none" id="ObservableReaderNotifier-&gt;ObservableReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1051.05,2819.359,1042.82,2838.885,1037.07,2818.489,1051.05,2819.359" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1047" y="2628.4951">extends</text><!--MD5=[550a12816f88094ca7e979a72eedae9c]
reverse link Plugin to ObservablePlugin--><path d="M104.3741,216.56 C72.6943,257.66 39,315.1 39,373.5 C39,373.5 39,373.5 39,2246 C39,2273.373 73,2462.627 73,2490 C73,2490 73,2490 73,2756 C73,2814.23 110.617,2869.898 144.413,2908.162 " fill="none" id="Plugin&lt;-ObservablePlugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="99.0428,212.02,117.03,200.82,109.954,220.79,99.0428,212.02" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="71" y="2456.4951">extends</text><!--MD5=[495ccb80ac82bdc45a1b0288016f2c00]
reverse link Reader to ObservableReader--><path d="M631.056,218.39 C530.914,284.8 363.67,390.59 210,464 C170.29,482.97 143.941,463.2 117,498 C2.1846,646.3 76,730.45 76,918 C76,918 76,918 76,2246 C76,2331.519 80.5471,2356.639 117,2434 C123.746,2448.316 161,2474.174 161,2490 C161,2490 161,2490 161,2584 C161,2933.057 659.527,2707.361 845,2795 C869.133,2806.403 892.487,2821.903 914.023,2838.845 " fill="none" id="Reader&lt;-ObservableReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="627.221,212.54,647.747,207.28,634.98,224.19,627.221,212.54" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="141" y="2456.4951">extends</text><!--MD5=[be1020e8389e65472c0fcfb4d0de9e46]
@startuml
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam shadowing false

skinparam StateBorderColor #D4AC0D
skinparam ActivityBorderColor #D4AC0D

skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #EAFAF1
skinparam ClassBorderColor<<green>> #2ECC71
hide <<green>> stereotype

skinparam ClassBackgroundColor<<orange>> #FDF2E9
skinparam ClassBorderColor<<orange>> #E67E22
hide <<orange>> stereotype

skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

package org.eclipse.keyple.core #FFFFFF {
  package "reader" as core_reader #FFFFFF {
+interface Plugin {
  +Map<String, Reader> <color:blue>getReaders</color>()
  +Set<String> <color:blue>getReaderNames</color>()
  +Reader <color:blue>getReader</color>(String name)
}
~interface ProxyElement {
  +String getName()
}
+interface Reader {
  +boolean isCardPresent()
  +activateProtocol(String applicationReference, String pluginReference)
  +deactivateProtocol(String applicationReference)
  +boolean <color:blue>isContactlessTransmission</color>()
}
  }

  package card #FFFFFF {
+interface ProxyReader {
  +List<SelectionResponse> transmitCardSelections(List<SelectionRequest> cardRequests,
    MultiSelectionProcessing multiSelectionProcessing, ChannelControl channelControl)

  +CardResponse transmitCardRequest(CardRequest cardRequest, ChannelControl channelControl)

  +releaseChannel()
}
  }
  Plugin -right-|> ProxyElement : extends
  ProxyElement <|-right- Reader : extends
  Reader <|-down- ProxyReader : extends

  package plugin #FFFFFF {
    together {
+abstract AbstractPlugin {
  -<b>final</b> String name
  #ConcurrentMap<String, Reader> readers
  - -
  #{abstract} AbstractPlugin(String name)
  .. implementation of the package interface ProxyElement ..
  +<b>final</b> String getName()
  .. implementation of the public interface Plugin ..
  +<b>final</b> Set<String> getReaderNames()
  +<b>final</b> Reader getReader(String name)
  +<b>final</b> Map<String, Reader> getReaders()
  .. protected abstract method to be implemented by <color:blue>native</color> Plugin ..
  #{abstract} Map<String, Reader> <color:blue>initNativeReaders</color>()
}
+abstract AbstractObservablePlugin << <color:red>internal / dedicated</color> for RemotePlugin >>{
  -List<PluginObserver> observers
  -<b>final</b> final Object sync
  - -
  #AbstractObservablePlugin(String name)
  .. implementation of the public interface ObservablePlugin ..
  +addObserver(<b>final</b> PluginObserver observer)
  +removeObserver(<b>final</b> PluginObserver observer)
  +clearObservers()
  +<b>final</b> int countObservers()

  .. implementation of the public interface ObservablePluginNotifier ..
  +<b>final</b> notifyObservers(<b>final</b> PluginEvent event)
}

+abstract AbstractThreadedObservablePlugin {
  -{static}<b>final</b> long SETTING_THREAD_TIMEOUT_DEFAULT
  -long threadWaitTimeout
  -<b>final</b> SortedSet<String> nativeReadersames
  -EventThread thread
  - -
  #AbstractThreadedObservablePlugin(String name)
  .. Override of the implentation of the public interface ObservablePlugin ..
  +<b>final</b> addObserver(<b>final</b> PluginObserver observer)
  +<b>final</b> removeObserver(<b>final</b> PluginObserver observer)
  +<b>final</b> clearObservers()

  .. protected abstract methods to be implemented by <color:blue>native</color> ObservablePlugin ..
  #{abstract} SortedSet<String> <color:blue>fetchNativeReadersNames</color>()
  #{abstract} Reader <color:blue>fetchNativeReader</color>(String name)
  .. internal process ..
  .. To review - used by unit test Stub & Remote Plugin ..
  #Boolean isMonitoring()
}
+interface ObservablePluginNotifier {
  +notifyObservers(<b>final</b> PluginEvent event)
}
    }
    AbstractPlugin <|-down- AbstractObservablePlugin : extends
    AbstractObservablePlugin <|-down- AbstractThreadedObservablePlugin : extends
    AbstractThreadedObservablePlugin -down[hidden]-> ObservablePluginNotifier
    AbstractObservablePlugin ..|> ObservablePluginNotifier : implements

    package "reader" as plugin_reader #FFFFFF {
      together {
+abstract AbstractReader {
  -<b>final</b> String pluginName
  - -
  #AbstractReader(String pluginName, String name)
  #<b>final</b> String getPluginName()
  .. implementation of the package interface ProxyElement ..
  +<b>final</b> String getName()
  .. implementation of tbe public interface ProxyReader ..
  +<b>final</b> List<SelectionResponse> transmitCardSelections(List<SelectionRequest> requests, MultiSelectionProcessing
    selectionMode, ChannelControl channelControl)
  +<b>final</b> CardResponse transmitCardRequest(CardRequest request, ChannelControl channelControl)
  +<b>final</b> releaseChannel()
  .. protected abstract methods to be implemented by AbstractLocalReader or VirtualReader ..
  #{abstract} List<SelectionResponse> processCardSelections(List<SelectionRequest> requests,
    MultiSelectionProcessing selectionMode, ChannelControl channelControl)
  #{abstract} CardResponse processCardRequest(CardRequest request, ChannelControl channelControl)
  #{abstract} terminateChannel()
}
        class Toto
      }
      together {
+abstract AbstractLocalReader {
  -{static}<b>final</b> byte[] getResponseHackRequestBytes
  -boolean logicalChannelIsOpen
  -CardSelector.AidSelector.IsoAid aidCurrentlySelected
  -SelectionStatus currentSelectionStatus
  -Map<String, String> protocolsMap
  - -
  #AbstractLocalReader(String pluginName, String name)'
  .. implementation of the public interface CardReader ..
  +<b>final</b> boolean isCardPresent()                              <color:red>should be final !!</color>
  +<b>final</b> activateProtocol(String readerProtocolName, String applicationProtocolName)
  +<b>final</b> deactivateProtocol(String readerProtocolName)
  .. implementation of the protected abstract methods of the class AbstractReader ..
    ~<b>final</b> List<SelectionResponse> processCardSelections(List<SelectionRequest> requests,
      MultiSelectionProcessing selectionMode, ChannelControl channelControl)
    ~<b>final</b> CardResponse processCardRequest(CardRequest request, ChannelControl channelControl)
    ~<b>final</b> terminateChannel()
  .. protected abstract methods to be implemented by <color:blue>native</color> CardReader ..
  #{abstract} <color:blue>activateReaderProtocol</color>(String readerProtocolName);
  #{abstract} <color:blue>deactivateReaderProtocol</color>(String readerProtocolName);

  #{abstract} boolean <color:blue>checkCardPresence</color>()

  #{abstract} <color:blue>openPhysicalChannel</color>()
  #{abstract} <color:blue>closePhysicalChannel</color>()
  #{abstract} boolean <color:blue>isPhysicalChannelOpen</color>()

  #{abstract} byte[] <color:blue>getATR</color>()
  #{abstract} byte[] <color:blue>transmitApdu</color>(byte[] apduIn)
  .. internal process ..
  #<b>final</b> Map<String, String> getProtocolsMap()

  -ApduResponse recoverSelectionFciData(CardSelector.AidSelector aidSelector)
  -ApduResponse processExplicitAidSelection(CardSelector.AidSelector aidSelector)
  -SelectionResponse processSelectionRequestLogical(SelectionRequest sRequest)
  -CardResponse processCardRequestLogical(CardRequest cRequest)
  -ApduResponse processApduRequest(ApduRequest apduRequest)
  -ApduResponse case4HackGetResponse(int originalStatusCode)

  ~SelectionStatus openLogicalChannel(CardSelector selector)
  ~<b>final</b> SelectionStatus openLogicalChannelAndSelect(CardSelector selector)
  ~<b>final</b> boolean isLogicalChannelOpen()
  -closeLogicalChannel()
  ~closeLogicalAndPhysicalChannels()
  ~{abstract} terminateSeCommunication()
}
+interface SmartSelectionReader {
  +ApduResponse <color:blue>openChannelForAid</color>(byte[] dfName)
  +<color:blue>closeLogicalChannel()</color>()
}
      }
      together {
+abstract AbstractObservableLocalReader {
  -List<ReaderObserver> observers
  -DefaultSelectionsRequest[0..1] defaultSelectionsRequest
  -NotificationMode notificationMode
  -PollingMode currentPollingMode
  ~<b>final</b> ObservableReaderStateService stateService
  -<b>final</b> Object sync
  - -
  #AbstractObservableLocalReader(String pluginName, String readerName)
  .. implementation of the public interface ObservableReader ..
  +<b>final</b> addObserver(ReaderObserver observer)
  +<b>final</b> removeObserver(ReaderObserver observer)
  +<b>final</b> clearObservers()
  +<b>final</b> int countObservers()

  +<b>final</b> setDefaultSelections(AbstractDefaultSelectionsRequest
      selectionsR, NotificationMode notificationM)
  +<b>final</b> setDefaultSelectionsAndStartCardDetection(AbstractDefaultSelectionsRequest
      selectionsR, NotificationMode notificationM, PollingMode pollingM)
  +<b>final</b> startCardDetection(PollingMode pollingMode)
  +<b>final</b> stopCardDetection()

  +<b>final</b> finalizeCardProcessing()
  .. implementation the public interface ObservableReaderNotifier ..
  +<b>final</b> notifyObservers(<b>final</b> ReaderEvent event)
  .. internal process ..
  ~ObservableReaderStateService initStateService()
  ~onEvent(InternalEvent event)
  ~ReaderEvent processCardInserted()
  ~boolean isCardPresentPing()
  ~<b>final</b> processCardRemoved()
  ~ObservableReader.PollingMode getPollingMode()
  ~switchState(MonitoringState stateId)
  ~MonitoringState getCurrentMonitoringState()
}
        interface SmartInsertionReader
      }
      together {
+interface ObservableReaderNotifier {
  +notifyObservers(<b>final</b> ReaderEvent event)
}
        interface SmartRemovalReader
      }
      AbstractReader <|-down- AbstractLocalReader : extends
      AbstractLocalReader <|-down- AbstractObservableLocalReader : extends
      AbstractObservableLocalReader .down.|> ObservableReaderNotifier : implements
      Toto -down[hidden]- SmartSelectionReader
      SmartSelectionReader -down[hidden]- SmartInsertionReader
      SmartInsertionReader -down[hidden]- SmartRemovalReader
      hide Toto
+interface NativeInsertionReader  {
  +<color:blue>notifyCardInserted</color>()
}

+interface SmartInsertionReader  {
  +boolean <color:blue>waitForCardPresent</color>()
  +<color:blue>stopWaitForCard</color>()
}

+interface SmartRemovalReader {
  +boolean <color:blue>waitForCardAbsentNative</color>()
  +<color:blue>stopWaitForCardRemoval</color>()
}

      SmartRemovalReader -left-|> ObservableReaderNotifier : extends
      NativeInsertionReader -right-|> ObservableReaderNotifier : extends
      ObservableReaderNotifier <|- - SmartInsertionReader : extends
    }
  }
  Plugin <|.down. AbstractPlugin : implements
  ProxyReader <|.down. AbstractReader : implements
  ProxyReader <|- - SmartSelectionReader : extends

  package reader.event #FFFFFF {
+interface ObservablePlugin {
  +addObserver(<b>final</b> PluginObserver observer)
  +removeObserver(<b>final</b> PluginObserver observer)
  +clearObservers()
  +int countObservers()
}
+interface PluginObserver {
  +update(<b>final</b> PluginEvent event)
}
    ObservablePlugin +-right- PluginObserver
    ObservablePlugin "1" o- - "*" PluginObserver : observes <

+interface ReaderObserver {
  +update(<b>final</b> ReaderEvent event)
}
+interface ObservableReader {
  +addObserver(<b>final</b> ReaderObserver observer)
  +removeObserver(<b>final</b> ReaderObserver observer)
  +clearObservers()
  +int countObservers()

  +setDefaultSelectionRequest(AbstractDefaultSelectionsRequest
    selectionsR, NotificationMode notificationM)

  +setDefaultSelectionRequest(AbstractDefaultSelectionsRequest
    selectionsR, NotificationMode notificationM, PollingMode pollingM)
  +startCardDetection(PollingMode pollingMode)
  +stopCardDetection()

  +finalizeCardProcessing()
}
    ReaderObserver -right-+ ObservableReader
    ReaderObserver "*" - -o "1" ObservableReader

    PluginObserver -right[hidden]-> ReaderObserver
  }
  ObservablePluginNotifier -down-|> ObservablePlugin : extends
  ObservableReaderNotifier -down-|> ObservableReader : extends

  Plugin <|- - ObservablePlugin : extends
  Reader <|- - - - - - - - - - - - ObservableReader : extends
}
@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>