<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3133px" preserveAspectRatio="none" style="width:1631px;height:3133px;" version="1.1" viewBox="0 0 1631 3133" width="1631px" zoomAndPan="magnify"><defs/><g><!--MD5=[c3c915b379c717332e210d38dcd6e8a2]
cluster org.eclipse.keyple.core--><polygon fill="#FFFFFF" points="22,24,193,24,200,47.6094,1609,47.6094,1609,3121,22,3121,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="200" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="26" y="40.5332">org.eclipse.keyple.core</text><!--MD5=[b21e48437d720d45eb0be59b91918a53]
cluster core_reader--><polygon fill="#FFFFFF" points="46,68,105,68,112,91.6094,918,91.6094,918,223,46,223,46,68" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="112" y1="91.6094" y2="91.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="50" y="84.5332">service</text><!--MD5=[fc5f7357635190d92cef7ec8135ac887]
cluster card--><polygon fill="#FFFFFF" points="742,273,779,273,786,296.6094,1266,296.6094,1266,456,742,456,742,273" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="742" x2="786" y1="296.6094" y2="296.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="746" y="289.5332">card</text><!--MD5=[6ad7c0b688d9e902153dd4de2b6da276]
cluster plugin--><polygon fill="#FFFFFF" points="93,506,143,506,150,529.6094,1585,529.6094,1585,2440,93,2440,93,506" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="93" x2="150" y1="529.6094" y2="529.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="97" y="522.5332">plugin</text><!--MD5=[06668ae4ca0bebd8129e0272b56db8fb]
cluster plugin_reader--><polygon fill="#FFFFFF" points="676,550,729,550,736,573.6094,1561,573.6094,1561,2416,676,2416,676,550" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="676" x2="736" y1="573.6094" y2="573.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="680" y="566.5332">reader</text><!--MD5=[fc2793528c9d89b90f96f30ef784a139]
cluster service.event--><polygon fill="#FFFFFF" points="46,2817,150,2817,157,2840.6094,1282,2840.6094,1282,3097,46,3097,46,2817" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="157" y1="2840.6094" y2="2840.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="98" x="50" y="2833.5332">service.event</text><!--MD5=[b628511dd50102041730ee0512f882c8]
class Plugin--><rect fill="#FEFECE" height="89.5078" id="Plugin" style="stroke: #D4AC0D; stroke-width: 1.5;" width="194" x="62" y="110.5"/><ellipse cx="131.75" cy="126.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M132.75,123.5 L132.75,129.5 L134.75,129.5 L135.2344,129.5 L135.75,130.125 L135.75,130.5 L135.75,130.875 L135.2344,131.5 L134.75,131.5 L128.75,131.5 L128.2656,131.5 L127.75,130.875 L127.75,130.5 L127.75,130.125 L128.2656,129.5 L128.75,129.5 L130.75,129.5 L130.75,123.5 L128.75,123.5 L128.2656,123.5 L127.75,122.875 L127.75,122.5 L127.75,122.125 L128.2656,121.5 L128.75,121.5 L134.75,121.5 L135.2344,121.5 L135.75,122.125 L135.75,122.5 L135.75,122.875 L135.2344,123.5 L134.75,123.5 L132.75,123.5 Z "/><ellipse cx="157.25" cy="126" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="35" x="163.25" y="131.4102">Plugin</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="63" x2="255" y1="142.5" y2="142.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="63" x2="255" y1="150.5" y2="150.5"/><ellipse cx="73" cy="161.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="82" y="165.9189">Map&lt;String, Reader&gt;</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="186" y="165.9189">getReaders</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="242" y="165.9189">()</text><ellipse cx="73" cy="175.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="82" y="179.7549">Set&lt;String&gt;</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="141" y="179.7549">getReaderNames</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="224" y="179.7549">()</text><ellipse cx="73" cy="189.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="82" y="193.5908">Reader</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="120" y="193.5908">getReader</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="170" y="193.5908">(String name)</text><!--MD5=[f32ad7e99aabd41d9b4c18d27e28445d]
class ProxyElement--><rect fill="#FEFECE" height="61.8359" id="ProxyElement" style="stroke: #D4AC0D; stroke-width: 1.5;" width="120" x="339" y="124.5"/><ellipse cx="354" cy="140.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M355,137.5 L355,143.5 L357,143.5 L357.4844,143.5 L358,144.125 L358,144.5 L358,144.875 L357.4844,145.5 L357,145.5 L351,145.5 L350.5156,145.5 L350,144.875 L350,144.5 L350,144.125 L350.5156,143.5 L351,143.5 L353,143.5 L353,137.5 L351,137.5 L350.5156,137.5 L350,136.875 L350,136.5 L350,136.125 L350.5156,135.5 L351,135.5 L357,135.5 L357.4844,135.5 L358,136.125 L358,136.5 L358,136.875 L357.4844,137.5 L357,137.5 L355,137.5 Z "/><polygon fill="#4177AF" points="373,136,369,142,377,142" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="77" x="379" y="145.4102">ProxyElement</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="340" x2="458" y1="156.5" y2="156.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="340" x2="458" y1="164.5" y2="164.5"/><ellipse cx="350" cy="175.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="359" y="179.9189">String getName()</text><!--MD5=[e86a4777f2c0372cf9fb3cd047e1466e]
class Reader--><rect fill="#FEFECE" height="103.3438" id="Reader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="360" x="542" y="104"/><ellipse cx="691.75" cy="120" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M692.75,117 L692.75,123 L694.75,123 L695.2344,123 L695.75,123.625 L695.75,124 L695.75,124.375 L695.2344,125 L694.75,125 L688.75,125 L688.2656,125 L687.75,124.375 L687.75,124 L687.75,123.625 L688.2656,123 L688.75,123 L690.75,123 L690.75,117 L688.75,117 L688.2656,117 L687.75,116.375 L687.75,116 L687.75,115.625 L688.2656,115 L688.75,115 L694.75,115 L695.2344,115 L695.75,115.625 L695.75,116 L695.75,116.375 L695.2344,117 L694.75,117 L692.75,117 Z "/><ellipse cx="717.25" cy="119.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="41" x="723.25" y="124.9102">Reader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="543" x2="901" y1="136" y2="136"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="543" x2="901" y1="144" y2="144"/><ellipse cx="553" cy="155" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="562" y="159.4189">boolean isCardPresent()</text><ellipse cx="553" cy="168.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="334" x="562" y="173.2549">activateProtocol(String applicationReference, String pluginReference)</text><ellipse cx="553" cy="182.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="562" y="187.0908">deactivateProtocol(String applicationReference)</text><ellipse cx="553" cy="196.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="562" y="200.9268">boolean</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="603" y="200.9268">isContactlessTransmission</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="732" y="200.9268">()</text><!--MD5=[96a4004012a1c08588eb87adf87ec875]
class ProxyReader--><rect fill="#FEFECE" height="131.0156" id="ProxyReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="492" x="758" y="309"/><ellipse cx="958.25" cy="325" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M959.25,322 L959.25,328 L961.25,328 L961.7344,328 L962.25,328.625 L962.25,329 L962.25,329.375 L961.7344,330 L961.25,330 L955.25,330 L954.7656,330 L954.25,329.375 L954.25,329 L954.25,328.625 L954.7656,328 L955.25,328 L957.25,328 L957.25,322 L955.25,322 L954.7656,322 L954.25,321.375 L954.25,321 L954.25,320.625 L954.7656,320 L955.25,320 L961.25,320 L961.7344,320 L962.25,320.625 L962.25,321 L962.25,321.375 L961.7344,322 L961.25,322 L959.25,322 Z "/><ellipse cx="983.75" cy="324.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="72" x="989.75" y="329.9102">ProxyReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="759" x2="1249" y1="341" y2="341"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="759" x2="1249" y1="349" y2="349"/><ellipse cx="769" cy="360" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="427" x="778" y="364.4189">List&lt;SelectionResponse&gt; transmitCardSelections(List&lt;SelectionRequest&gt; cardRequests,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="399" x="778" y="378.2549">MultiSelectionProcessing multiSelectionProcessing, ChannelControl channelControl)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="781" y="392.0908"/><ellipse cx="769" cy="401.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="466" x="778" y="405.9268">CardResponse transmitCardRequest(CardRequest cardRequest, ChannelControl channelControl)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="781" y="419.7627"/><ellipse cx="769" cy="429.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="778" y="433.5986">releaseChannel()</text><!--MD5=[d65a81ff17c705555c4513b7aa66e708]
class AbstractPlugin--><rect fill="#FEFECE" height="212.1953" id="AbstractPlugin" style="stroke: #D4AC0D; stroke-width: 1.5;" width="302" x="134" y="638"/><ellipse cx="235.25" cy="654" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M237,655.5 L233.7031,655.5 L233.2656,656.5 L233.2656,656.5 L233.7344,656.5 L234.25,657.125 L234.25,657.5 L234.25,657.875 L233.7344,658.5 L233.2656,658.5 L231.375,658.5 L230.7656,658.5 L230.25,657.875 L230.25,657.5 L230.25,657.125 L230.7656,656.5 L231.375,656.5 L233.6875,650.5 L232.8125,650.5 L231.7656,650.5 L231.25,649.875 L231.25,649.5 L231.25,649.125 L231.7656,648.5 L232.8125,648.5 L236.4844,648.5 L239.1719,656.5 L239.7344,656.5 L239.7344,656.5 L240.25,657.125 L240.25,657.5 L240.25,657.875 L239.7344,658.5 L239.1719,658.5 L237.2813,658.5 L236.7656,658.5 L236.25,657.875 L236.25,657.5 L236.25,657.125 L236.7656,656.5 L237.2813,656.5 L237.2813,656.5 L237,655.5 Z M236.4531,653.5 L235.25,649.9219 L234.2188,653.5 L236.4531,653.5 Z "/><ellipse cx="260.75" cy="653.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="80" x="266.75" y="658.9102">AbstractPlugin</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="135" x2="435" y1="670" y2="670"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="142" y="678"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="154" y="685.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="180" y="685.4189">String name</text><polygon fill="none" points="145,689.8359,149,693.8359,145,697.8359,141,693.8359" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="154" y="699.2549">ConcurrentMap&lt;String, Reader&gt; readers</text><line style="stroke: #D4AC0D; stroke-width: 1.0;" x1="135" x2="435" y1="705.6719" y2="705.6719"/><polygon fill="#FFFF44" points="145,711.6719,149,715.6719,145,719.6719,141,715.6719" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="140" x="154" y="721.0908">AbstractPlugin(String name)</text><ellipse cx="145" cy="748.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="154" y="752.7627">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="180" y="752.7627">String getName()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="135" x2="155.5" y1="734.4258" y2="734.4258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="259" x="155.5" y="738.4268">implementation of the package interface ProxyElement</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="414.5" x2="435" y1="734.4258" y2="734.4258"/><ellipse cx="145" cy="780.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="154" y="784.4346">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="180" y="784.4346">Set&lt;String&gt; getReaderNames()</text><ellipse cx="145" cy="793.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="154" y="798.2705">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="180" y="798.2705">Reader getReader(String name)</text><ellipse cx="145" cy="807.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="154" y="812.1064">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="180" y="812.1064">Map&lt;String, Reader&gt; getReaders()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="135" x2="180.5" y1="766.0977" y2="766.0977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="209" x="180.5" y="770.0986">implementation of the public interface Plugin</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="389.5" x2="435" y1="766.0977" y2="766.0977"/><polygon fill="#FFFF44" points="145,834.3594,149,838.3594,145,842.3594,141,838.3594" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="154" y="843.7783">Map&lt;String, Reader&gt;</text><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="88" x="261" y="843.7783">initNativeReaders</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="349" y="843.7783">()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="135" x2="138" y1="825.4414" y2="825.4414"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="231" x="138" y="829.4424">protected abstract method to be implemented by</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="29" x="372" y="829.4424">native</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="404" y="829.4424">Plugin</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="432" x2="435" y1="825.4414" y2="825.4414"/><!--MD5=[da2e4ed478904b6ac7589a4a6a804fe2]
class AbstractObservablePlugin--><rect fill="#FEFECE" height="216.3828" id="AbstractObservablePlugin" style="stroke: #D4AC0D; stroke-width: 1.5;" width="307" x="133.5" y="1188.5"/><ellipse cx="176.4" cy="1208.5938" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M178.15,1210.0938 L174.8531,1210.0938 L174.4156,1211.0938 L174.4156,1211.0938 L174.8844,1211.0938 L175.4,1211.7188 L175.4,1212.0938 L175.4,1212.4688 L174.8844,1213.0938 L174.4156,1213.0938 L172.525,1213.0938 L171.9156,1213.0938 L171.4,1212.4688 L171.4,1212.0938 L171.4,1211.7188 L171.9156,1211.0938 L172.525,1211.0938 L174.8375,1205.0938 L173.9625,1205.0938 L172.9156,1205.0938 L172.4,1204.4688 L172.4,1204.0938 L172.4,1203.7188 L172.9156,1203.0938 L173.9625,1203.0938 L177.6344,1203.0938 L180.3219,1211.0938 L180.8844,1211.0938 L180.8844,1211.0938 L181.4,1211.7188 L181.4,1212.0938 L181.4,1212.4688 L180.8844,1213.0938 L180.3219,1213.0938 L178.4313,1213.0938 L177.9156,1213.0938 L177.4,1212.4688 L177.4,1212.0938 L177.4,1211.7188 L177.9156,1211.0938 L178.4313,1211.0938 L178.4313,1211.0938 L178.15,1210.0938 Z M177.6031,1208.0938 L176.4,1204.5156 L175.3688,1208.0938 L177.6031,1208.0938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="7" x="194.6" y="1205.957">«</text><text fill="#FF0000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="201.6" y="1205.957">internal / dedicated</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="103" x="308.6" y="1205.957">for RemotePlugin»</text><ellipse cx="230.1" cy="1215.6406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="145" x="236.1" y="1221.0508">AbstractObservablePlugin</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="134.5" x2="439.5" y1="1228.6875" y2="1228.6875"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="141.5" y="1236.6875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="153.5" y="1244.1064">List&lt;PluginObserver&gt; observers</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="141.5" y="1250.5234"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="153.5" y="1257.9424">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="179.5" y="1257.9424">final Object sync</text><line style="stroke: #D4AC0D; stroke-width: 1.0;" x1="134.5" x2="439.5" y1="1264.3594" y2="1264.3594"/><polygon fill="#FFFF44" points="144.5,1270.3594,148.5,1274.3594,144.5,1278.3594,140.5,1274.3594" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="191" x="153.5" y="1279.7783">AbstractObservablePlugin(String name)</text><ellipse cx="144.5" cy="1307.0313" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="153.5" y="1311.4502">addObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="221.5" y="1311.4502">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="247.5" y="1311.4502">PluginObserver observer)</text><ellipse cx="144.5" cy="1320.8672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="153.5" y="1325.2861">removeObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="239.5" y="1325.2861">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="265.5" y="1325.2861">PluginObserver observer)</text><ellipse cx="144.5" cy="1334.7031" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="153.5" y="1339.1221">clearObservers()</text><ellipse cx="144.5" cy="1348.5391" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="153.5" y="1352.958">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="179.5" y="1352.958">int countObservers()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="156.5" y="1366.7939"/><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="134.5" x2="154.5" y1="1293.1133" y2="1293.1133"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="265" x="154.5" y="1297.1143">implementation of the public interface ObservablePlugin</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="419.5" x2="439.5" y1="1293.1133" y2="1293.1133"/><ellipse cx="144.5" cy="1394.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="153.5" y="1398.4658">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="179.5" y="1398.4658">notifyObservers(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="262.5" y="1398.4658">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="288.5" y="1398.4658">PluginEvent event)</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="134.5" x2="137.5" y1="1380.1289" y2="1380.1289"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="299" x="137.5" y="1384.1299">implementation of the public interface ObservablePluginNotifier</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="436.5" x2="439.5" y1="1380.1289" y2="1380.1289"/><!--MD5=[afe9b948530cb52da59ce106d3726d7e]
class AbstractThreadedObservablePlugin--><rect fill="#FEFECE" height="288.293" id="AbstractThreadedObservablePlugin" style="stroke: #D4AC0D; stroke-width: 1.5;" width="364" x="272" y="1822.5"/><ellipse cx="345.25" cy="1838.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M347,1840 L343.7031,1840 L343.2656,1841 L343.2656,1841 L343.7344,1841 L344.25,1841.625 L344.25,1842 L344.25,1842.375 L343.7344,1843 L343.2656,1843 L341.375,1843 L340.7656,1843 L340.25,1842.375 L340.25,1842 L340.25,1841.625 L340.7656,1841 L341.375,1841 L343.6875,1835 L342.8125,1835 L341.7656,1835 L341.25,1834.375 L341.25,1834 L341.25,1833.625 L341.7656,1833 L342.8125,1833 L346.4844,1833 L349.1719,1841 L349.7344,1841 L349.7344,1841 L350.25,1841.625 L350.25,1842 L350.25,1842.375 L349.7344,1843 L349.1719,1843 L347.2813,1843 L346.7656,1843 L346.25,1842.375 L346.25,1842 L346.25,1841.625 L346.7656,1841 L347.2813,1841 L347.2813,1841 L347,1840 Z M346.4531,1838 L345.25,1834.4219 L344.2188,1838 L346.4531,1838 Z "/><ellipse cx="370.75" cy="1838" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="198" x="376.75" y="1843.4102">AbstractThreadedObservablePlugin</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="273" x2="635" y1="1854.5" y2="1854.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="280" y="1862.5"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="23" x="292" y="1869.9189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="213" x="318" y="1869.9189">long SETTING_THREAD_TIMEOUT_DEFAULT</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="280" y="1876.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="292" y="1883.7549">long threadWaitTimeout</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="280" y="1890.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="292" y="1897.5908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="187" x="318" y="1897.5908">SortedSet&lt;String&gt; nativeReadersames</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="280" y="1904.0078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="292" y="1911.4268">EventThread thread</text><line style="stroke: #D4AC0D; stroke-width: 1.0;" x1="273" x2="635" y1="1917.8438" y2="1917.8438"/><polygon fill="#FFFF44" points="283,1923.8438,287,1927.8438,283,1931.8438,279,1927.8438" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="237" x="292" y="1933.2627">AbstractThreadedObservablePlugin(String name)</text><ellipse cx="283" cy="1960.5156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="292" y="1964.9346">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="318" y="1964.9346">addObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="386" y="1964.9346">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="412" y="1964.9346">PluginObserver observer)</text><ellipse cx="283" cy="1974.3516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="292" y="1978.7705">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="318" y="1978.7705">removeObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="404" y="1978.7705">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="430" y="1978.7705">PluginObserver observer)</text><ellipse cx="283" cy="1988.1875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="292" y="1992.6064">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="318" y="1992.6064">clearObservers()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="295" y="2006.4424"/><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="273" x2="290.5" y1="1946.5977" y2="1946.5977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="327" x="290.5" y="1950.5986">Override of the implentation of the public interface ObservablePlugin</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="617.5" x2="635" y1="1946.5977" y2="1946.5977"/><polygon fill="#FFFF44" points="283,2028.6953,287,2032.6953,283,2036.6953,279,2032.6953" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="89" x="292" y="2038.1143">SortedSet&lt;String&gt;</text><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="132" x="384" y="2038.1143">fetchNativeReadersNames</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="516" y="2038.1143">()</text><polygon fill="#FFFF44" points="283,2042.5313,287,2046.5313,283,2050.5313,279,2046.5313" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="36" x="292" y="2051.9502">Reader</text><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="91" x="331" y="2051.9502">fetchNativeReader</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="67" x="422" y="2051.9502">(String name)</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="273" x2="276" y1="2019.7773" y2="2019.7773"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="237" x="276" y="2023.7783">protected abstract methods to be implemented by</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="29" x="516" y="2023.7783">native</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="548" y="2023.7783">ObservablePlugin</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="632" x2="635" y1="2019.7773" y2="2019.7773"/><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="273" x2="415" y1="2065.2852" y2="2065.2852"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="415" y="2069.2861">internal process</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="493" x2="635" y1="2065.2852" y2="2065.2852"/><polygon fill="#FFFF44" points="283,2094.957,287,2098.957,283,2102.957,279,2098.957" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="292" y="2104.376">Boolean isMonitoring()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="273" x2="332" y1="2086.0391" y2="2086.0391"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="244" x="332" y="2090.04">To review - used by unit test Stub &amp; Remote Plugin</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="576" x2="635" y1="2086.0391" y2="2086.0391"/><!--MD5=[c954dac450f15cb071150cf9e7905da6]
class ObservablePluginNotifier--><rect fill="#FEFECE" height="61.8359" id="ObservablePluginNotifier" style="stroke: #D4AC0D; stroke-width: 1.5;" width="224" x="133" y="2307"/><ellipse cx="166.9" cy="2323" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M167.9,2320 L167.9,2326 L169.9,2326 L170.3844,2326 L170.9,2326.625 L170.9,2327 L170.9,2327.375 L170.3844,2328 L169.9,2328 L163.9,2328 L163.4156,2328 L162.9,2327.375 L162.9,2327 L162.9,2326.625 L163.4156,2326 L163.9,2326 L165.9,2326 L165.9,2320 L163.9,2320 L163.4156,2320 L162.9,2319.375 L162.9,2319 L162.9,2318.625 L163.4156,2318 L163.9,2318 L169.9,2318 L170.3844,2318 L170.9,2318.625 L170.9,2319 L170.9,2319.375 L170.3844,2320 L169.9,2320 L167.9,2320 Z "/><ellipse cx="190.1" cy="2322.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="139" x="196.1" y="2327.9102">ObservablePluginNotifier</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="134" x2="356" y1="2339" y2="2339"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="134" x2="356" y1="2347" y2="2347"/><ellipse cx="144" cy="2358" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="153" y="2362.4189">notifyObservers(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236" y="2362.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="262" y="2362.4189">PluginEvent event)</text><!--MD5=[061eb7c540d80d802f0b59c866a65f36]
class NativeInsertionReader--><rect fill="#FEFECE" height="61.8359" id="NativeInsertionReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="167" x="697.5" y="2307"/><ellipse cx="712.5" cy="2323" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M713.5,2320 L713.5,2326 L715.5,2326 L715.9844,2326 L716.5,2326.625 L716.5,2327 L716.5,2327.375 L715.9844,2328 L715.5,2328 L709.5,2328 L709.0156,2328 L708.5,2327.375 L708.5,2327 L708.5,2326.625 L709.0156,2326 L709.5,2326 L711.5,2326 L711.5,2320 L709.5,2320 L709.0156,2320 L708.5,2319.375 L708.5,2319 L708.5,2318.625 L709.0156,2318 L709.5,2318 L715.5,2318 L715.9844,2318 L716.5,2318.625 L716.5,2319 L716.5,2319.375 L715.9844,2320 L715.5,2320 L713.5,2320 Z "/><ellipse cx="731.5" cy="2322.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="124" x="737.5" y="2327.9102">NativeInsertionReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="698.5" x2="863.5" y1="2339" y2="2339"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="698.5" x2="863.5" y1="2347" y2="2347"/><ellipse cx="708.5" cy="2358" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="717.5" y="2362.4189">notifyCardInserted</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="806.5" y="2362.4189">()</text><!--MD5=[c8b9470c9f0bc9bc22cc394204c1ec26]
class AbstractReader--><rect fill="#FEFECE" height="267.5391" id="AbstractReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="576" x="716" y="610"/><ellipse cx="951.25" cy="626" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M953,627.5 L949.7031,627.5 L949.2656,628.5 L949.2656,628.5 L949.7344,628.5 L950.25,629.125 L950.25,629.5 L950.25,629.875 L949.7344,630.5 L949.2656,630.5 L947.375,630.5 L946.7656,630.5 L946.25,629.875 L946.25,629.5 L946.25,629.125 L946.7656,628.5 L947.375,628.5 L949.6875,622.5 L948.8125,622.5 L947.7656,622.5 L947.25,621.875 L947.25,621.5 L947.25,621.125 L947.7656,620.5 L948.8125,620.5 L952.4844,620.5 L955.1719,628.5 L955.7344,628.5 L955.7344,628.5 L956.25,629.125 L956.25,629.5 L956.25,629.875 L955.7344,630.5 L955.1719,630.5 L953.2813,630.5 L952.7656,630.5 L952.25,629.875 L952.25,629.5 L952.25,629.125 L952.7656,628.5 L953.2813,628.5 L953.2813,628.5 L953,627.5 Z M952.4531,625.5 L951.25,621.9219 L950.2188,625.5 L952.4531,625.5 Z "/><ellipse cx="976.75" cy="625.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="86" x="982.75" y="630.9102">AbstractReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="717" x2="1291" y1="642" y2="642"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724" y="650"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736" y="657.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="762" y="657.4189">String pluginName</text><line style="stroke: #D4AC0D; stroke-width: 1.0;" x1="717" x2="1291" y1="663.8359" y2="663.8359"/><polygon fill="#FFFF44" points="727,669.8359,731,673.8359,727,677.8359,723,673.8359" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="736" y="679.2549">AbstractReader(String pluginName, String name)</text><polygon fill="#FFFF44" points="727,683.6719,731,687.6719,727,691.6719,723,687.6719" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736" y="693.0908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="762" y="693.0908">String getPluginName()</text><ellipse cx="727" cy="720.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736" y="724.7627">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="762" y="724.7627">String getName()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="717" x2="874.5" y1="706.4258" y2="706.4258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="259" x="874.5" y="710.4268">implementation of the package interface ProxyElement</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1133.5" x2="1291" y1="706.4258" y2="706.4258"/><ellipse cx="727" cy="752.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736" y="756.4346">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="524" x="762" y="756.4346">List&lt;SelectionResponse&gt; transmitCardSelections(List&lt;SelectionRequest&gt; requests, MultiSelectionProcessing</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="227" x="736" y="770.2705">selectionMode, ChannelControl channelControl)</text><ellipse cx="727" cy="779.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736" y="784.1064">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="441" x="762" y="784.1064">CardResponse transmitCardRequest(CardRequest request, ChannelControl channelControl)</text><ellipse cx="727" cy="793.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736" y="797.9424">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="762" y="797.9424">releaseChannel()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="717" x2="882" y1="738.0977" y2="738.0977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="244" x="882" y="742.0986">implementation of tbe public interface ProxyReader</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1126" x2="1291" y1="738.0977" y2="738.0977"/><polygon fill="#FFFF44" points="727,820.1953,731,824.1953,727,828.1953,723,824.1953" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="415" x="736" y="829.6143">List&lt;SelectionResponse&gt; processCardSelections(List&lt;SelectionRequest&gt; requests,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="349" x="736" y="843.4502">MultiSelectionProcessing selectionMode, ChannelControl channelControl)</text><polygon fill="#FFFF44" points="727,847.8672,731,851.8672,727,855.8672,723,851.8672" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="456" x="736" y="857.2861">CardResponse processCardRequest(CardRequest request, ChannelControl channelControl)</text><polygon fill="#FFFF44" points="727,861.7031,731,865.7031,727,869.7031,723,865.7031" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="95" x="736" y="871.1221">terminateChannel()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="717" x2="791.5" y1="811.2773" y2="811.2773"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="425" x="791.5" y="815.2783">protected abstract methods to be implemented by AbstractLocalReader or VirtualReader</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1216.5" x2="1291" y1="811.2773" y2="811.2773"/><!--MD5=[1cd95740aea628efd937ee9d93977c80]
class Toto--><!--MD5=[4fdbbc41fb87080aa93900a035a2087b]
class AbstractLocalReader--><rect fill="#FEFECE" height="672.7813" id="AbstractLocalReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="495" x="716.5" y="960"/><ellipse cx="896.25" cy="976" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M898,977.5 L894.7031,977.5 L894.2656,978.5 L894.2656,978.5 L894.7344,978.5 L895.25,979.125 L895.25,979.5 L895.25,979.875 L894.7344,980.5 L894.2656,980.5 L892.375,980.5 L891.7656,980.5 L891.25,979.875 L891.25,979.5 L891.25,979.125 L891.7656,978.5 L892.375,978.5 L894.6875,972.5 L893.8125,972.5 L892.7656,972.5 L892.25,971.875 L892.25,971.5 L892.25,971.125 L892.7656,970.5 L893.8125,970.5 L897.4844,970.5 L900.1719,978.5 L900.7344,978.5 L900.7344,978.5 L901.25,979.125 L901.25,979.5 L901.25,979.875 L900.7344,980.5 L900.1719,980.5 L898.2813,980.5 L897.7656,980.5 L897.25,979.875 L897.25,979.5 L897.25,979.125 L897.7656,978.5 L898.2813,978.5 L898.2813,978.5 L898,977.5 Z M897.4531,975.5 L896.25,971.9219 L895.2188,975.5 L897.4531,975.5 Z "/><ellipse cx="921.75" cy="975.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="116" x="927.75" y="980.9102">AbstractLocalReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="717.5" x2="1210.5" y1="992" y2="992"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1000"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="23" x="736.5" y="1007.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="186" x="762.5" y="1007.4189">byte[] getResponseHackRequestBytes</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1013.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="736.5" y="1021.2549">boolean logicalChannelIsOpen</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1027.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="258" x="736.5" y="1035.0908">CardSelector.AidSelector.IsoAid aidCurrentlySelected</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1041.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="736.5" y="1048.9268">SelectionStatus currentSelectionStatus</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1055.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="162" x="736.5" y="1062.7627">Map&lt;String, String&gt; protocolsMap</text><line style="stroke: #D4AC0D; stroke-width: 1.0;" x1="717.5" x2="1210.5" y1="1069.1797" y2="1069.1797"/><polygon fill="#FFFF44" points="727.5,1075.1797,731.5,1079.1797,727.5,1083.1797,723.5,1079.1797" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="262" x="736.5" y="1084.5986">AbstractLocalReader(String pluginName, String name)'</text><ellipse cx="727.5" cy="1111.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736.5" y="1116.2705">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="762.5" y="1116.2705">boolean isCardPresent()</text><ellipse cx="727.5" cy="1125.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736.5" y="1130.1064">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="368" x="762.5" y="1130.1064">activateProtocol(String readerProtocolName, String applicationProtocolName)</text><ellipse cx="727.5" cy="1139.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736.5" y="1143.9424">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="226" x="762.5" y="1143.9424">deactivateProtocol(String readerProtocolName)</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="717.5" x2="844.5" y1="1097.9336" y2="1097.9336"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="239" x="844.5" y="1101.9346">implementation of the public interface CardReader</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1083.5" x2="1210.5" y1="1097.9336" y2="1097.9336"/><polygon fill="#4177AF" points="727.5,1167.1953,723.5,1173.1953,731.5,1173.1953" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736.5" y="1175.6143">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="404" x="762.5" y="1175.6143">List&lt;SelectionResponse&gt; processCardSelections(List&lt;SelectionRequest&gt; requests,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="349" x="736.5" y="1189.4502">MultiSelectionProcessing selectionMode, ChannelControl channelControl)</text><polygon fill="#4177AF" points="727.5,1194.8672,723.5,1200.8672,731.5,1200.8672" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736.5" y="1203.2861">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="443" x="762.5" y="1203.2861">CardResponse processCardRequest(CardRequest request, ChannelControl channelControl)</text><polygon fill="#4177AF" points="727.5,1208.7031,723.5,1214.7031,731.5,1214.7031" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736.5" y="1217.1221">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="762.5" y="1217.1221">terminateChannel()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="717.5" x2="775.5" y1="1157.2773" y2="1157.2773"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="377" x="775.5" y="1161.2783">implementation of the protected abstract methods of the class AbstractReader</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1152.5" x2="1210.5" y1="1157.2773" y2="1157.2773"/><polygon fill="#FFFF44" points="727.5,1239.375,731.5,1243.375,727.5,1247.375,723.5,1243.375" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="115" x="736.5" y="1248.7939">activateReaderProtocol</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="142" x="851.5" y="1248.7939">(String readerProtocolName)</text><polygon fill="#FFFF44" points="727.5,1253.2109,731.5,1257.2109,727.5,1261.2109,723.5,1257.2109" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="127" x="736.5" y="1262.6299">deactivateReaderProtocol</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="142" x="863.5" y="1262.6299">(String readerProtocolName)</text><polygon fill="#FFFF44" points="727.5,1267.0469,731.5,1271.0469,727.5,1275.0469,723.5,1271.0469" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="736.5" y="1276.4658">boolean</text><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="87" x="779.5" y="1276.4658">isCurrentProtocol</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="142" x="866.5" y="1276.4658">(String readerProtocolName)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="739.5" y="1290.3018"/><polygon fill="#FFFF44" points="727.5,1294.7188,731.5,1298.7188,727.5,1302.7188,723.5,1298.7188" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="736.5" y="1304.1377">boolean</text><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="101" x="779.5" y="1304.1377">checkCardPresence</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="880.5" y="1304.1377">()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="739.5" y="1317.9736"/><polygon fill="#FFFF44" points="727.5,1322.3906,731.5,1326.3906,727.5,1330.3906,723.5,1326.3906" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="107" x="736.5" y="1331.8096">openPhysicalChannel</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="843.5" y="1331.8096">()</text><polygon fill="#FFFF44" points="727.5,1336.2266,731.5,1340.2266,727.5,1344.2266,723.5,1340.2266" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="110" x="736.5" y="1345.6455">closePhysicalChannel</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="846.5" y="1345.6455">()</text><polygon fill="#FFFF44" points="727.5,1350.0625,731.5,1354.0625,727.5,1358.0625,723.5,1354.0625" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="736.5" y="1359.4814">boolean</text><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="119" x="779.5" y="1359.4814">isPhysicalChannelOpen</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="898.5" y="1359.4814">()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="739.5" y="1373.3174"/><polygon fill="#FFFF44" points="727.5,1377.7344,731.5,1381.7344,727.5,1385.7344,723.5,1381.7344" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="27" x="736.5" y="1387.1533">byte[]</text><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="37" x="766.5" y="1387.1533">getATR</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="803.5" y="1387.1533">()</text><polygon fill="#FFFF44" points="727.5,1391.5703,731.5,1395.5703,727.5,1399.5703,723.5,1395.5703" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="27" x="736.5" y="1400.9893">byte[]</text><text fill="#0000FF" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="766.5" y="1400.9893">transmitApdu</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="71" x="831.5" y="1400.9893">(byte[] apduIn)</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="717.5" x2="799" y1="1230.457" y2="1230.457"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="237" x="799" y="1234.458">protected abstract methods to be implemented by</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="29" x="1039" y="1234.458">native</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="1071" y="1234.458">CardReader</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1129" x2="1210.5" y1="1230.457" y2="1230.457"/><polygon fill="#FFFF44" points="727.5,1423.2422,731.5,1427.2422,727.5,1431.2422,723.5,1427.2422" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736.5" y="1432.6611">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="762.5" y="1432.6611">Map&lt;String, String&gt; getProtocolsMap()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="739.5" y="1446.4971"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1452.9141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="383" x="736.5" y="1460.333">ApduResponse recoverSelectionFciData(CardSelector.AidSelector aidSelector)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1466.75"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="398" x="736.5" y="1474.1689">ApduResponse processExplicitAidSelection(CardSelector.AidSelector aidSelector)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1480.5859"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="395" x="736.5" y="1488.0049">SelectionResponse processSelectionRequestLogical(SelectionRequest sRequest)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1494.4219"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="332" x="736.5" y="1501.8408">CardResponse processCardRequestLogical(CardRequest cRequest)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1508.2578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="325" x="736.5" y="1515.6768">ApduResponse processApduRequest(ApduRequest apduRequest)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1522.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="310" x="736.5" y="1529.5127">ApduResponse case4HackGetResponse(int originalStatusCode)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="739.5" y="1543.3486"/><polygon fill="#4177AF" points="727.5,1548.7656,723.5,1554.7656,731.5,1554.7656" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="288" x="736.5" y="1557.1846">SelectionStatus openLogicalChannel(CardSelector selector)</text><polygon fill="#4177AF" points="727.5,1562.6016,723.5,1568.6016,731.5,1568.6016" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736.5" y="1571.0205">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="338" x="762.5" y="1571.0205">SelectionStatus openLogicalChannelAndSelect(CardSelector selector)</text><polygon fill="#4177AF" points="727.5,1576.4375,723.5,1582.4375,731.5,1582.4375" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="736.5" y="1584.8564">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="762.5" y="1584.8564">boolean isLogicalChannelOpen()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="724.5" y="1591.2734"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="736.5" y="1598.6924">closeLogicalChannel()</text><polygon fill="#4177AF" points="727.5,1604.1094,723.5,1610.1094,731.5,1610.1094" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="173" x="736.5" y="1612.5283">closeLogicalAndPhysicalChannels()</text><polygon fill="#4177AF" points="727.5,1617.9453,723.5,1623.9453,731.5,1623.9453" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="144" x="736.5" y="1626.3643">terminateSeCommunication()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="717.5" x2="925" y1="1414.3242" y2="1414.3242"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="925" y="1418.3252">internal process</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1003" x2="1210.5" y1="1414.3242" y2="1414.3242"/><!--MD5=[2d013d86840ef792528c977933931152]
class SmartSelectionReader--><rect fill="#FEFECE" height="75.6719" id="SmartSelectionReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="274" x="1247" y="1258.5"/><ellipse cx="1311.75" cy="1274.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M1312.75,1271.5 L1312.75,1277.5 L1314.75,1277.5 L1315.2344,1277.5 L1315.75,1278.125 L1315.75,1278.5 L1315.75,1278.875 L1315.2344,1279.5 L1314.75,1279.5 L1308.75,1279.5 L1308.2656,1279.5 L1307.75,1278.875 L1307.75,1278.5 L1307.75,1278.125 L1308.2656,1277.5 L1308.75,1277.5 L1310.75,1277.5 L1310.75,1271.5 L1308.75,1271.5 L1308.2656,1271.5 L1307.75,1270.875 L1307.75,1270.5 L1307.75,1270.125 L1308.2656,1269.5 L1308.75,1269.5 L1314.75,1269.5 L1315.2344,1269.5 L1315.75,1270.125 L1315.75,1270.5 L1315.75,1270.875 L1315.2344,1271.5 L1314.75,1271.5 L1312.75,1271.5 Z "/><ellipse cx="1337.25" cy="1274" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="125" x="1343.25" y="1279.4102">SmartSelectionReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1248" x2="1520" y1="1290.5" y2="1290.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1248" x2="1520" y1="1298.5" y2="1298.5"/><ellipse cx="1258" cy="1309.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="1267" y="1313.9189">ApduResponse</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="1345" y="1313.9189">openChannelForAid</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="1440" y="1313.9189">(byte[] dfName)</text><ellipse cx="1258" cy="1323.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="1267" y="1327.7549">closeLogicalChannel()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="1374" y="1327.7549">()</text><!--MD5=[def8a4ded3d9320d2eb123b929637efb]
class AbstractObservableLocalReader--><rect fill="#FEFECE" height="502.75" id="AbstractObservableLocalReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="432" x="808" y="1715"/><ellipse cx="923.75" cy="1731" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M925.5,1732.5 L922.2031,1732.5 L921.7656,1733.5 L921.7656,1733.5 L922.2344,1733.5 L922.75,1734.125 L922.75,1734.5 L922.75,1734.875 L922.2344,1735.5 L921.7656,1735.5 L919.875,1735.5 L919.2656,1735.5 L918.75,1734.875 L918.75,1734.5 L918.75,1734.125 L919.2656,1733.5 L919.875,1733.5 L922.1875,1727.5 L921.3125,1727.5 L920.2656,1727.5 L919.75,1726.875 L919.75,1726.5 L919.75,1726.125 L920.2656,1725.5 L921.3125,1725.5 L924.9844,1725.5 L927.6719,1733.5 L928.2344,1733.5 L928.2344,1733.5 L928.75,1734.125 L928.75,1734.5 L928.75,1734.875 L928.2344,1735.5 L927.6719,1735.5 L925.7813,1735.5 L925.2656,1735.5 L924.75,1734.875 L924.75,1734.5 L924.75,1734.125 L925.2656,1733.5 L925.7813,1733.5 L925.7813,1733.5 L925.5,1732.5 Z M924.9531,1730.5 L923.75,1726.9219 L922.7188,1730.5 L924.9531,1730.5 Z "/><ellipse cx="949.25" cy="1730.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="181" x="955.25" y="1735.9102">AbstractObservableLocalReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="809" x2="1239" y1="1747" y2="1747"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="816" y="1755"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="828" y="1762.4189">List&lt;ReaderObserver&gt; observers</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="816" y="1768.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="274" x="828" y="1776.2549">DefaultSelectionsRequest[0..1] defaultSelectionsRequest</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="816" y="1782.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="160" x="828" y="1790.0908">NotificationMode notificationMode</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="816" y="1796.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="828" y="1803.9268">PollingMode currentPollingMode</text><polygon fill="none" points="819,1809.3438,815,1815.3438,823,1815.3438" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="828" y="1817.7627">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="217" x="854" y="1817.7627">ObservableReaderStateService stateService</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="816" y="1824.1797"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="828" y="1831.5986">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="854" y="1831.5986">Object sync</text><line style="stroke: #D4AC0D; stroke-width: 1.0;" x1="809" x2="1239" y1="1838.0156" y2="1838.0156"/><polygon fill="#FFFF44" points="819,1844.0156,823,1848.0156,819,1852.0156,815,1848.0156" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="349" x="828" y="1853.4346">AbstractObservableLocalReader(String pluginName, String readerName)</text><ellipse cx="819" cy="1880.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="828" y="1885.1064">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="854" y="1885.1064">addObserver(ReaderObserver observer)</text><ellipse cx="819" cy="1894.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="828" y="1898.9424">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="854" y="1898.9424">removeObserver(ReaderObserver observer)</text><ellipse cx="819" cy="1908.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="828" y="1912.7783">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="854" y="1912.7783">clearObservers()</text><ellipse cx="819" cy="1922.1953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="828" y="1926.6143">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="854" y="1926.6143">int countObservers()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="831" y="1940.4502"/><ellipse cx="819" cy="1949.8672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="828" y="1954.2861">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="269" x="854" y="1954.2861">setDefaultSelections(AbstractDefaultSelectionsRequest</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="208" x="828" y="1968.1221">selectionsR, NotificationMode notificationM)</text><ellipse cx="819" cy="1977.5391" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="828" y="1981.958">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="380" x="854" y="1981.958">setDefaultSelectionsAndStartCardDetection(AbstractDefaultSelectionsRequest</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="311" x="828" y="1995.7939">selectionsR, NotificationMode notificationM, PollingMode pollingM)</text><ellipse cx="819" cy="2005.2109" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="828" y="2009.6299">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="854" y="2009.6299">startCardDetection(PollingMode pollingMode)</text><ellipse cx="819" cy="2019.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="828" y="2023.4658">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="854" y="2023.4658">stopCardDetection()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="831" y="2037.3018"/><ellipse cx="819" cy="2046.7188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="828" y="2051.1377">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="854" y="2051.1377">finalizeCardProcessing()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="809" x2="888" y1="1866.7695" y2="1866.7695"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="272" x="888" y="1870.7705">implementation of the public interface ObservableReader</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1160" x2="1239" y1="1866.7695" y2="1866.7695"/><ellipse cx="819" cy="2078.3906" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="828" y="2082.8096">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="854" y="2082.8096">notifyObservers(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="937" y="2082.8096">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="963" y="2082.8096">ReaderEvent event)</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="809" x2="877.5" y1="2064.4727" y2="2064.4727"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="293" x="877.5" y="2068.4736">implementation the public interface ObservableReaderNotifier</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1170.5" x2="1239" y1="2064.4727" y2="2064.4727"/><polygon fill="#4177AF" points="819,2106.0625,815,2112.0625,823,2112.0625" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="239" x="828" y="2114.4814">ObservableReaderStateService initStateService()</text><polygon fill="#4177AF" points="819,2119.8984,815,2125.8984,823,2125.8984" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="828" y="2128.3174">onEvent(InternalEvent event)</text><polygon fill="#4177AF" points="819,2133.7344,815,2139.7344,823,2139.7344" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="175" x="828" y="2142.1533">ReaderEvent processCardInserted()</text><polygon fill="#4177AF" points="819,2147.5703,815,2153.5703,823,2153.5703" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="828" y="2155.9893">boolean isCardPresentPing()</text><polygon fill="#4177AF" points="819,2161.4063,815,2167.4063,823,2167.4063" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="828" y="2169.8252">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="854" y="2169.8252">processCardRemoved()</text><polygon fill="#4177AF" points="819,2175.2422,815,2181.2422,823,2181.2422" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="232" x="828" y="2183.6611">ObservableReader.PollingMode getPollingMode()</text><polygon fill="#4177AF" points="819,2189.0781,815,2195.0781,823,2195.0781" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="175" x="828" y="2197.4971">switchState(MonitoringState stateId)</text><polygon fill="#4177AF" points="819,2202.9141,815,2208.9141,823,2208.9141" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="828" y="2211.333">MonitoringState getCurrentMonitoringState()</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="809" x2="985" y1="2096.1445" y2="2096.1445"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="985" y="2100.1455">internal process</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1063" x2="1239" y1="2096.1445" y2="2096.1445"/><!--MD5=[eb61d2af2fe9ea0fe6ca3f97da1aafb9]
class SmartInsertionReader--><rect fill="#FEFECE" height="75.6719" id="SmartInsertionReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="172" x="1275" y="1928.5"/><ellipse cx="1293.15" cy="1944.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M1294.15,1941.5 L1294.15,1947.5 L1296.15,1947.5 L1296.6344,1947.5 L1297.15,1948.125 L1297.15,1948.5 L1297.15,1948.875 L1296.6344,1949.5 L1296.15,1949.5 L1290.15,1949.5 L1289.6656,1949.5 L1289.15,1948.875 L1289.15,1948.5 L1289.15,1948.125 L1289.6656,1947.5 L1290.15,1947.5 L1292.15,1947.5 L1292.15,1941.5 L1290.15,1941.5 L1289.6656,1941.5 L1289.15,1940.875 L1289.15,1940.5 L1289.15,1940.125 L1289.6656,1939.5 L1290.15,1939.5 L1296.15,1939.5 L1296.6344,1939.5 L1297.15,1940.125 L1297.15,1940.5 L1297.15,1940.875 L1296.6344,1941.5 L1296.15,1941.5 L1294.15,1941.5 Z "/><ellipse cx="1312.85" cy="1944" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="122" x="1318.85" y="1949.4102">SmartInsertionReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1276" x2="1446" y1="1960.5" y2="1960.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1276" x2="1446" y1="1968.5" y2="1968.5"/><ellipse cx="1286" cy="1979.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="1295" y="1983.9189">boolean</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="1336" y="1983.9189">waitForCardPresent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="1433" y="1983.9189">()</text><ellipse cx="1286" cy="1993.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="1295" y="1997.7549">stopWaitForCard</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="1376" y="1997.7549">()</text><!--MD5=[b940e63541cb3de023976f6bd0dc6a31]
class ObservableReaderNotifier--><rect fill="#FEFECE" height="61.8359" id="ObservableReaderNotifier" style="stroke: #D4AC0D; stroke-width: 1.5;" width="231" x="947.5" y="2307"/><ellipse cx="981.85" cy="2323" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M982.85,2320 L982.85,2326 L984.85,2326 L985.3344,2326 L985.85,2326.625 L985.85,2327 L985.85,2327.375 L985.3344,2328 L984.85,2328 L978.85,2328 L978.3656,2328 L977.85,2327.375 L977.85,2327 L977.85,2326.625 L978.3656,2326 L978.85,2326 L980.85,2326 L980.85,2320 L978.85,2320 L978.3656,2320 L977.85,2319.375 L977.85,2319 L977.85,2318.625 L978.3656,2318 L978.85,2318 L984.85,2318 L985.3344,2318 L985.85,2318.625 L985.85,2319 L985.85,2319.375 L985.3344,2320 L984.85,2320 L982.85,2320 Z "/><ellipse cx="1005.15" cy="2322.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="145" x="1011.15" y="2327.9102">ObservableReaderNotifier</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="948.5" x2="1177.5" y1="2339" y2="2339"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="948.5" x2="1177.5" y1="2347" y2="2347"/><ellipse cx="958.5" cy="2358" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="967.5" y="2362.4189">notifyObservers(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="1050.5" y="2362.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="1076.5" y="2362.4189">ReaderEvent event)</text><!--MD5=[05850aa4ac8ffb9d37530d3286a2effb]
class SmartRemovalReader--><rect fill="#FEFECE" height="75.6719" id="SmartRemovalReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="200" x="1261" y="2300"/><ellipse cx="1290.85" cy="2316" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M1291.85,2313 L1291.85,2319 L1293.85,2319 L1294.3344,2319 L1294.85,2319.625 L1294.85,2320 L1294.85,2320.375 L1294.3344,2321 L1293.85,2321 L1287.85,2321 L1287.3656,2321 L1286.85,2320.375 L1286.85,2320 L1286.85,2319.625 L1287.3656,2319 L1287.85,2319 L1289.85,2319 L1289.85,2313 L1287.85,2313 L1287.3656,2313 L1286.85,2312.375 L1286.85,2312 L1286.85,2311.625 L1287.3656,2311 L1287.85,2311 L1293.85,2311 L1294.3344,2311 L1294.85,2311.625 L1294.85,2312 L1294.85,2312.375 L1294.3344,2313 L1293.85,2313 L1291.85,2313 Z "/><ellipse cx="1313.15" cy="2315.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="124" x="1319.15" y="2320.9102">SmartRemovalReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1262" x2="1460" y1="2332" y2="2332"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1262" x2="1460" y1="2340" y2="2340"/><ellipse cx="1272" cy="2351" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="1281" y="2355.4189">boolean</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="1322" y="2355.4189">waitForCardAbsentNative</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="1447" y="2355.4189">()</text><ellipse cx="1272" cy="2364.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="1281" y="2369.2549">stopWaitForCardRemoval</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="1403" y="2369.2549">()</text><!--MD5=[1fa9a61019755e60a0cb03f0bc3590aa]
class ObservablePlugin--><rect fill="#FEFECE" height="103.3438" id="ObservablePlugin" style="stroke: #D4AC0D; stroke-width: 1.5;" width="263" x="62.5" y="2915.5"/><ellipse cx="134.25" cy="2931.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M135.25,2928.5 L135.25,2934.5 L137.25,2934.5 L137.7344,2934.5 L138.25,2935.125 L138.25,2935.5 L138.25,2935.875 L137.7344,2936.5 L137.25,2936.5 L131.25,2936.5 L130.7656,2936.5 L130.25,2935.875 L130.25,2935.5 L130.25,2935.125 L130.7656,2934.5 L131.25,2934.5 L133.25,2934.5 L133.25,2928.5 L131.25,2928.5 L130.7656,2928.5 L130.25,2927.875 L130.25,2927.5 L130.25,2927.125 L130.7656,2926.5 L131.25,2926.5 L137.25,2926.5 L137.7344,2926.5 L138.25,2927.125 L138.25,2927.5 L138.25,2927.875 L137.7344,2928.5 L137.25,2928.5 L135.25,2928.5 Z "/><ellipse cx="159.75" cy="2931" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="100" x="165.75" y="2936.4102">ObservablePlugin</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="63.5" x2="324.5" y1="2947.5" y2="2947.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="63.5" x2="324.5" y1="2955.5" y2="2955.5"/><ellipse cx="73.5" cy="2966.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="82.5" y="2970.9189">addObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="150.5" y="2970.9189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="176.5" y="2970.9189">PluginObserver observer)</text><ellipse cx="73.5" cy="2980.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="82.5" y="2984.7549">removeObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="168.5" y="2984.7549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="194.5" y="2984.7549">PluginObserver observer)</text><ellipse cx="73.5" cy="2994.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="82.5" y="2998.5908">clearObservers()</text><ellipse cx="73.5" cy="3008.0078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="82.5" y="3012.4268">int countObservers()</text><!--MD5=[023c4512c54c7652aea90369e9f7b7d2]
class PluginObserver--><rect fill="#FEFECE" height="61.8359" id="PluginObserver" style="stroke: #D4AC0D; stroke-width: 1.5;" width="178" x="426" y="2936"/><ellipse cx="463.05" cy="2952" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M464.05,2949 L464.05,2955 L466.05,2955 L466.5344,2955 L467.05,2955.625 L467.05,2956 L467.05,2956.375 L466.5344,2957 L466.05,2957 L460.05,2957 L459.5656,2957 L459.05,2956.375 L459.05,2956 L459.05,2955.625 L459.5656,2955 L460.05,2955 L462.05,2955 L462.05,2949 L460.05,2949 L459.5656,2949 L459.05,2948.375 L459.05,2948 L459.05,2947.625 L459.5656,2947 L460.05,2947 L466.05,2947 L466.5344,2947 L467.05,2947.625 L467.05,2948 L467.05,2948.375 L466.5344,2949 L466.05,2949 L464.05,2949 Z "/><ellipse cx="486.95" cy="2951.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="86" x="492.95" y="2956.9102">PluginObserver</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="427" x2="603" y1="2968" y2="2968"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="427" x2="603" y1="2976" y2="2976"/><ellipse cx="437" cy="2987" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="446" y="2991.4189">update(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="483" y="2991.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="509" y="2991.4189">PluginEvent event)</text><!--MD5=[35b709ead7a86e7b2780a25fdb99ded4]
class ReaderObserver--><rect fill="#FEFECE" height="61.8359" id="ReaderObserver" style="stroke: #D4AC0D; stroke-width: 1.5;" width="185" x="639.5" y="2936"/><ellipse cx="677" cy="2952" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M678,2949 L678,2955 L680,2955 L680.4844,2955 L681,2955.625 L681,2956 L681,2956.375 L680.4844,2957 L680,2957 L674,2957 L673.5156,2957 L673,2956.375 L673,2956 L673,2955.625 L673.5156,2955 L674,2955 L676,2955 L676,2949 L674,2949 L673.5156,2949 L673,2948.375 L673,2948 L673,2947.625 L673.5156,2947 L674,2947 L680,2947 L680.4844,2947 L681,2947.625 L681,2948 L681,2948.375 L680.4844,2949 L680,2949 L678,2949 Z "/><ellipse cx="701" cy="2951.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="92" x="707" y="2956.9102">ReaderObserver</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="640.5" x2="823.5" y1="2968" y2="2968"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="640.5" x2="823.5" y1="2976" y2="2976"/><ellipse cx="650.5" cy="2987" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="659.5" y="2991.4189">update(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="696.5" y="2991.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="722.5" y="2991.4189">ReaderEvent event)</text><!--MD5=[e2341a3d5316e117132fc49473ae3219]
class ObservableReader--><rect fill="#FEFECE" height="227.8672" id="ObservableReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="406" x="860" y="2853"/><ellipse cx="1000.25" cy="2869" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M1001.25,2866 L1001.25,2872 L1003.25,2872 L1003.7344,2872 L1004.25,2872.625 L1004.25,2873 L1004.25,2873.375 L1003.7344,2874 L1003.25,2874 L997.25,2874 L996.7656,2874 L996.25,2873.375 L996.25,2873 L996.25,2872.625 L996.7656,2872 L997.25,2872 L999.25,2872 L999.25,2866 L997.25,2866 L996.7656,2866 L996.25,2865.375 L996.25,2865 L996.25,2864.625 L996.7656,2864 L997.25,2864 L1003.25,2864 L1003.7344,2864 L1004.25,2864.625 L1004.25,2865 L1004.25,2865.375 L1003.7344,2866 L1003.25,2866 L1001.25,2866 Z "/><ellipse cx="1025.75" cy="2868.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106" x="1031.75" y="2873.9102">ObservableReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="861" x2="1265" y1="2885" y2="2885"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="861" x2="1265" y1="2893" y2="2893"/><ellipse cx="871" cy="2904" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="880" y="2908.4189">addObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="948" y="2908.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="974" y="2908.4189">ReaderObserver observer)</text><ellipse cx="871" cy="2917.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="880" y="2922.2549">removeObserver(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="966" y="2922.2549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="992" y="2922.2549">ReaderObserver observer)</text><ellipse cx="871" cy="2931.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="880" y="2936.0908">clearObservers()</text><ellipse cx="871" cy="2945.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="880" y="2949.9268">int countObservers()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="883" y="2963.7627"/><ellipse cx="871" cy="2973.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="269" x="880" y="2977.5986">setDefaultSelections(AbstractDefaultSelectionsRequest</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="208" x="880" y="2991.4346">selectionsR, NotificationMode notificationM)</text><ellipse cx="871" cy="3000.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="380" x="880" y="3005.2705">setDefaultSelectionsAndStartCardDetection(AbstractDefaultSelectionsRequest</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="311" x="880" y="3019.1064">selectionsR, NotificationMode notificationM, PollingMode pollingM)</text><ellipse cx="871" cy="3028.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="880" y="3032.9424">startCardDetection(PollingMode pollingMode)</text><ellipse cx="871" cy="3042.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="880" y="3046.7783">stopCardDetection()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="883" y="3060.6143"/><ellipse cx="871" cy="3070.0313" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="880" y="3074.4502">finalizeCardProcessing()</text><!--MD5=[10c59bcbe9bb7ada49e28e419ad23478]
link Plugin to ProxyElement--><path d="M256.271,155.5 C277.005,155.5 298.679,155.5 318.692,155.5 " fill="none" id="Plugin-&gt;ProxyElement" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="318.839,148.5,338.839,155.5,318.839,162.5,318.839,148.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="274.5" y="148.9951">extends</text><!--MD5=[b920ad0cf2abaeb0cb8ba20923673c81]
reverse link ProxyElement to Reader--><path d="M479.407,155.5 C498.693,155.5 520.062,155.5 541.891,155.5 " fill="none" id="ProxyElement&lt;-Reader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="479.375,162.5,459.375,155.5,479.375,148.5,479.375,162.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="477.5" y="148.9951">extends</text><!--MD5=[064f265580e30d9d90190d8c0a6130d8]
reverse link Reader to ProxyReader--><path d="M804.029,219.62 C840.52,247.7 883.439,280.73 920.14,308.97 " fill="none" id="Reader&lt;-ProxyReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="799.342,224.85,787.761,207.1,807.88,213.75,799.342,224.85" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="848" y="253.4951">extends</text><!--MD5=[e66d1373bde8a2ec94835cde1c1066a4]
reverse link AbstractPlugin to AbstractObservablePlugin--><path d="M285.456,870.39 C285.804,966.35 286.28,1097.26 286.611,1188.36 " fill="none" id="AbstractPlugin&lt;-AbstractObservablePlugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="278.455,870.19,285.382,850.17,292.455,870.14,278.455,870.19" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="287" y="924.4951">extends</text><!--MD5=[33b7aa1c2fa9095b379c42389d26e3c9]
reverse link AbstractObservablePlugin to AbstractThreadedObservablePlugin--><path d="M318.706,1424.32 C347.078,1537.81 388.636,1704.04 418.195,1822.28 " fill="none" id="AbstractObservablePlugin&lt;-AbstractThreadedObservablePlugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="311.891,1425.93,313.831,1404.83,325.473,1422.53,311.891,1425.93" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="384" y="1679.4951">extends</text><!--MD5=[a617abdab06716768f7bcd4c9aa15885]
link AbstractThreadedObservablePlugin to ObservablePluginNotifier--><!--MD5=[c8c1aac643e37e31ab61cd1fba4f2583]
link AbstractObservablePlugin to ObservablePluginNotifier--><path d="M251.362,1404.62 C227.25,1482.94 197.585,1592.29 185,1691 C154.028,1933.92 116.933,2006.76 185,2242 C189.857,2258.786 198.661,2275.456 208.056,2290.036 " fill="none" id="AbstractObservablePlugin-&gt;ObservablePluginNotifier" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="213.934,2286.229,219.582,2306.652,202.431,2294.209,213.934,2286.229" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="186" y="1971.9951">implements</text><!--MD5=[809360daaac808b54a5ab67e9dde72e9]
reverse link AbstractReader to AbstractLocalReader--><path d="M992.86,898.31 C991.435,917.93 989.934,938.58 988.397,959.74 " fill="none" id="AbstractReader&lt;-AbstractLocalReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="985.886,897.7,994.317,878.26,999.849,898.72,985.886,897.7" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="992" y="924.4951">extends</text><!--MD5=[9b55259d343559c02d7b29a233fd666f]
reverse link AbstractLocalReader to AbstractObservableLocalReader--><path d="M995.984,1653.59 C997.829,1674.13 999.663,1694.55 1001.459,1714.55 " fill="none" id="AbstractLocalReader&lt;-AbstractObservableLocalReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="988.993,1654,994.176,1633.46,1002.937,1652.75,988.993,1654" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="999" y="1679.4951">extends</text><!--MD5=[1b7d6c87af8af79cceb932cb50ba0eb0]
link AbstractObservableLocalReader to ObservableReaderNotifier--><path d="M1050.45,2218.054 C1053.15,2243.676 1055.65,2267.356 1057.69,2286.731 " fill="none" id="AbstractObservableLocalReader-&gt;ObservableReaderNotifier" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1064.66,2286.025,1059.8,2306.649,1050.74,2287.495,1064.66,2286.025" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="1056" y="2264.4951">implements</text><!--MD5=[0b86f5516292848a66e9e457eaeed6ab]
link Toto to SmartSelectionReader--><!--MD5=[6746113413f1ab760d0d3f7a6b1e7404]
link SmartSelectionReader to SmartInsertionReader--><!--MD5=[0d9d99359fd3767a1b2e679fb8bdf58f]
link SmartInsertionReader to SmartRemovalReader--><!--MD5=[4b260110f67a1b47089ed0753f95736c]
reverse link ObservableReaderNotifier to SmartRemovalReader--><path d="M1198.92,2338 C1219.79,2338 1241.02,2338 1260.93,2338 " fill="none" id="ObservableReaderNotifier&lt;-SmartRemovalReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1198.64,2345,1178.64,2338,1198.64,2331,1198.64,2345" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1196.75" y="2331.4951">extends</text><!--MD5=[75e0894cd15abde64ad9470e2e677d29]
link NativeInsertionReader to ObservableReaderNotifier--><path d="M864.846,2338 C884.47,2338 905.872,2338 927.119,2338 " fill="none" id="NativeInsertionReader-&gt;ObservableReaderNotifier" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="927.379,2331,947.379,2338,927.379,2345,927.379,2331" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="883" y="2331.4951">extends</text><!--MD5=[f1128eafe7a143fed9b786af9c62c310]
reverse link ObservableReaderNotifier to SmartInsertionReader--><path d="M1178.22,2298.512 C1207.24,2284.415 1236.28,2265.877 1258,2242 C1320.69,2173.101 1346.38,2062.44 1355.94,2004.92 " fill="none" id="ObservableReaderNotifier&lt;-SmartInsertionReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1180.83,2305.016,1159.73,2306.935,1175.03,2292.275,1180.83,2305.016" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1250" y="2264.4951">extends</text><!--MD5=[75676cd63a2ad0ea5e52d64473c6b717]
reverse link Plugin to AbstractPlugin--><path d="M172.685,220.2 C194.247,320.57 236.354,516.56 262.44,637.99 " fill="none" id="Plugin&lt;-AbstractPlugin" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="165.828,221.61,168.47,200.58,179.515,218.67,165.828,221.61" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="226" y="379.9951">implements</text><!--MD5=[625475b96d083cf26f5f0b5bf24282c2]
reverse link ProxyReader to AbstractReader--><path d="M1004,460.53 C1004,504.86 1004,560.1 1004,609.94 " fill="none" id="ProxyReader&lt;-AbstractReader" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="997,460.36,1004,440.36,1011,460.36,997,460.36" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="1005" y="486.4951">implements</text><!--MD5=[c4e15f7040ee707f91507f7bc972fb13]
reverse link ProxyReader to SmartSelectionReader--><path d="M1269.31,432.42 C1329.14,450.75 1380.51,472.91 1399,498 C1575.21,737.13 1445.6,1135.42 1398.95,1258.27 " fill="none" id="ProxyReader&lt;-SmartSelectionReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1267.26,439.11,1250.06,426.73,1271.23,425.68,1267.26,439.11" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1489" y="749.4951">extends</text><!--MD5=[3830a5700ff7c40e5b569efbd984cf19]
reverse link ObservablePlugin to PluginObserver--><path d="M340.846,2970.121 C358.255,2970.224 375.774,2970.205 392.5,2970 C403.242,2969.868 414.514,2969.672 425.687,2969.442 " fill="none" id="ObservablePlugin&lt;-PluginObserver" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="333.5978" cy="2970.0632" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="341.5975" x2="325.598" y1="2970.1265" y2="2970"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="333.5345" x2="333.661" y1="2978.063" y2="2962.0635"/><!--MD5=[3830a5700ff7c40e5b569efbd984cf19]
reverse link ObservablePlugin to PluginObserver--><path d="M338.998,2967 C368.518,2967 398.745,2967 425.632,2967 " fill="none" id="ObservablePlugin&lt;-PluginObserver-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="325.953,2967,331.953,2971,337.953,2967,331.953,2963,325.953,2967" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="350.75,2953.6758,344.75,2956.6758,350.75,2959.6758,350.75,2953.6758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="356.75" y="2960.4951">observes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="333.3606" y="2964.0578">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="413.0242" y="2963.854">*</text><!--MD5=[49138a1ae57008717e97dd6304bf9aa6]
reverse link ObservableReader to ReaderObserver--><path d="M844.673,2987.881 C838.039,2987.286 831.405,2986.579 824.771,2985.76 " fill="none" id="ObservableReader&lt;-ReaderObserver" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="851.6905" cy="2988.4217" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="843.7141" x2="859.667" y1="2987.8084" y2="2989.035"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="852.3038" x2="851.0773" y1="2980.4453" y2="2996.3982"/><!--MD5=[567ed26442b0028769a37534f4997d4e]
link ReaderObserver to ObservableReader--><path d="M824.771,2948.24 C832.041,2947.342 839.311,2946.579 846.581,2945.951 " fill="none" id="ReaderObserver-&gt;ObservableReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="859.667,2944.965,853.3833,2941.4273,847.7009,2945.867,853.9846,2949.4047,859.667,2944.965" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="832.3629" y="2943.6232">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="845.2339" y="2941.3894">1</text><!--MD5=[13bfd5c637a294bbb6318145cef7730b]
link PluginObserver to ReaderObserver--><!--MD5=[1c6858772d88f0330f47bbe1e0991925]
link ObservablePluginNotifier to ObservablePlugin--><path d="M241.205,2369.053 C237.368,2402.081 232,2456.732 232,2504 C232,2504 232,2504 232,2598 C232,2701.839 216.845,2821.293 205.676,2895.224 " fill="none" id="ObservablePluginNotifier-&gt;ObservablePlugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="212.55,2896.578,202.575,2915.274,198.714,2894.439,212.55,2896.578" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="233" y="2642.4951">extends</text><!--MD5=[11e7e84d99732de4315c3f5cf4028d5b]
link ObservableReaderNotifier to ObservableReader--><path d="M1063,2369.109 C1063,2402.185 1063,2456.878 1063,2504 C1063,2504 1063,2504 1063,2770 C1063,2790.202 1063,2811.576 1063,2832.491 " fill="none" id="ObservableReaderNotifier-&gt;ObservableReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1070,2832.769,1063,2852.769,1056,2832.769,1070,2832.769" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1064" y="2642.4951">extends</text><!--MD5=[550a12816f88094ca7e979a72eedae9c]
reverse link Plugin to ObservablePlugin--><path d="M104.3741,216.56 C72.6943,257.66 39,315.1 39,373.5 C39,373.5 39,373.5 39,2260 C39,2287.373 73,2476.627 73,2504 C73,2504 73,2504 73,2770 C73,2825.586 108.673,2878.593 141.28,2915.434 " fill="none" id="Plugin&lt;-ObservablePlugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="99.0428,212.02,117.03,200.82,109.954,220.79,99.0428,212.02" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="71" y="2470.4951">extends</text><!--MD5=[495ccb80ac82bdc45a1b0288016f2c00]
reverse link Reader to ObservableReader--><path d="M631.056,218.39 C530.914,284.8 363.67,390.59 210,464 C170.29,482.97 143.941,463.2 117,498 C2.1846,646.3 76,730.45 76,918 C76,918 76,918 76,2260 C76,2345.519 80.5471,2370.639 117,2448 C123.746,2462.316 161,2488.174 161,2504 C161,2504 161,2504 161,2598 C161,2948.299 660.683,2734.612 842,2809 C869.867,2820.433 897.613,2835.962 923.557,2852.824 " fill="none" id="Reader&lt;-ObservableReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="627.221,212.54,647.747,207.28,634.98,224.19,627.221,212.54" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="141" y="2470.4951">extends</text><!--MD5=[6c88b424b5575dd1c32a65b9e88b3849]
@startuml
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam shadowing false

skinparam StateBorderColor #D4AC0D
skinparam ActivityBorderColor #D4AC0D

skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #EAFAF1
skinparam ClassBorderColor<<green>> #2ECC71
hide <<green>> stereotype

skinparam ClassBackgroundColor<<orange>> #FDF2E9
skinparam ClassBorderColor<<orange>> #E67E22
hide <<orange>> stereotype

skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

package org.eclipse.keyple.core #FFFFFF {
  package "service" as core_reader #FFFFFF {
+interface Plugin {
  +Map<String, Reader> <color:blue>getReaders</color>()
  +Set<String> <color:blue>getReaderNames</color>()
  +Reader <color:blue>getReader</color>(String name)
}
~interface ProxyElement {
  +String getName()
}
+interface Reader {
  +boolean isCardPresent()
  +activateProtocol(String applicationReference, String pluginReference)
  +deactivateProtocol(String applicationReference)
  +boolean <color:blue>isContactlessTransmission</color>()
}
  }

  package card #FFFFFF {
+interface ProxyReader {
  +List<SelectionResponse> transmitCardSelections(List<SelectionRequest> cardRequests,
    MultiSelectionProcessing multiSelectionProcessing, ChannelControl channelControl)

  +CardResponse transmitCardRequest(CardRequest cardRequest, ChannelControl channelControl)

  +releaseChannel()
}
  }
  Plugin -right-|> ProxyElement : extends
  ProxyElement <|-right- Reader : extends
  Reader <|-down- ProxyReader : extends

  package plugin #FFFFFF {
    together {
+abstract AbstractPlugin {
  -<b>final</b> String name
  #ConcurrentMap<String, Reader> readers
  - -
  #{abstract} AbstractPlugin(String name)
  .. implementation of the package interface ProxyElement ..
  +<b>final</b> String getName()
  .. implementation of the public interface Plugin ..
  +<b>final</b> Set<String> getReaderNames()
  +<b>final</b> Reader getReader(String name)
  +<b>final</b> Map<String, Reader> getReaders()
  .. protected abstract method to be implemented by <color:blue>native</color> Plugin ..
  #{abstract} Map<String, Reader> <color:blue>initNativeReaders</color>()
}
+abstract AbstractObservablePlugin << <color:red>internal / dedicated</color> for RemotePlugin >>{
  -List<PluginObserver> observers
  -<b>final</b> final Object sync
  - -
  #AbstractObservablePlugin(String name)
  .. implementation of the public interface ObservablePlugin ..
  +addObserver(<b>final</b> PluginObserver observer)
  +removeObserver(<b>final</b> PluginObserver observer)
  +clearObservers()
  +<b>final</b> int countObservers()

  .. implementation of the public interface ObservablePluginNotifier ..
  +<b>final</b> notifyObservers(<b>final</b> PluginEvent event)
}

+abstract AbstractThreadedObservablePlugin {
  -{static}<b>final</b> long SETTING_THREAD_TIMEOUT_DEFAULT
  -long threadWaitTimeout
  -<b>final</b> SortedSet<String> nativeReadersames
  -EventThread thread
  - -
  #AbstractThreadedObservablePlugin(String name)
  .. Override of the implentation of the public interface ObservablePlugin ..
  +<b>final</b> addObserver(<b>final</b> PluginObserver observer)
  +<b>final</b> removeObserver(<b>final</b> PluginObserver observer)
  +<b>final</b> clearObservers()

  .. protected abstract methods to be implemented by <color:blue>native</color> ObservablePlugin ..
  #{abstract} SortedSet<String> <color:blue>fetchNativeReadersNames</color>()
  #{abstract} Reader <color:blue>fetchNativeReader</color>(String name)
  .. internal process ..
  .. To review - used by unit test Stub & Remote Plugin ..
  #Boolean isMonitoring()
}
+interface ObservablePluginNotifier {
  +notifyObservers(<b>final</b> PluginEvent event)
}
    }
    AbstractPlugin <|-down- AbstractObservablePlugin : extends
    AbstractObservablePlugin <|-down- AbstractThreadedObservablePlugin : extends
    AbstractThreadedObservablePlugin -down[hidden]-> ObservablePluginNotifier
    AbstractObservablePlugin ..|> ObservablePluginNotifier : implements

    package "reader" as plugin_reader #FFFFFF {
      together {
+abstract AbstractReader {
  -<b>final</b> String pluginName
  - -
  #AbstractReader(String pluginName, String name)
  #<b>final</b> String getPluginName()
  .. implementation of the package interface ProxyElement ..
  +<b>final</b> String getName()
  .. implementation of tbe public interface ProxyReader ..
  +<b>final</b> List<SelectionResponse> transmitCardSelections(List<SelectionRequest> requests, MultiSelectionProcessing
    selectionMode, ChannelControl channelControl)
  +<b>final</b> CardResponse transmitCardRequest(CardRequest request, ChannelControl channelControl)
  +<b>final</b> releaseChannel()
  .. protected abstract methods to be implemented by AbstractLocalReader or VirtualReader ..
  #{abstract} List<SelectionResponse> processCardSelections(List<SelectionRequest> requests,
    MultiSelectionProcessing selectionMode, ChannelControl channelControl)
  #{abstract} CardResponse processCardRequest(CardRequest request, ChannelControl channelControl)
  #{abstract} terminateChannel()
}
        class Toto
      }
      together {
+abstract AbstractLocalReader {
  -{static}<b>final</b> byte[] getResponseHackRequestBytes
  -boolean logicalChannelIsOpen
  -CardSelector.AidSelector.IsoAid aidCurrentlySelected
  -SelectionStatus currentSelectionStatus
  -Map<String, String> protocolsMap
  - -
  #AbstractLocalReader(String pluginName, String name)'
  .. implementation of the public interface CardReader ..
  +<b>final</b> boolean isCardPresent()
  +<b>final</b> activateProtocol(String readerProtocolName, String applicationProtocolName)
  +<b>final</b> deactivateProtocol(String readerProtocolName)
  .. implementation of the protected abstract methods of the class AbstractReader ..
    ~<b>final</b> List<SelectionResponse> processCardSelections(List<SelectionRequest> requests,
      MultiSelectionProcessing selectionMode, ChannelControl channelControl)
    ~<b>final</b> CardResponse processCardRequest(CardRequest request, ChannelControl channelControl)
    ~<b>final</b> terminateChannel()
  .. protected abstract methods to be implemented by <color:blue>native</color> CardReader ..
  #{abstract} <color:blue>activateReaderProtocol</color>(String readerProtocolName)
  #{abstract} <color:blue>deactivateReaderProtocol</color>(String readerProtocolName)
  #{abstract} boolean <color:blue>isCurrentProtocol</color>(String readerProtocolName)

  #{abstract} boolean <color:blue>checkCardPresence</color>()

  #{abstract} <color:blue>openPhysicalChannel</color>()
  #{abstract} <color:blue>closePhysicalChannel</color>()
  #{abstract} boolean <color:blue>isPhysicalChannelOpen</color>()

  #{abstract} byte[] <color:blue>getATR</color>()
  #{abstract} byte[] <color:blue>transmitApdu</color>(byte[] apduIn)
  .. internal process ..
  #<b>final</b> Map<String, String> getProtocolsMap()

  -ApduResponse recoverSelectionFciData(CardSelector.AidSelector aidSelector)
  -ApduResponse processExplicitAidSelection(CardSelector.AidSelector aidSelector)
  -SelectionResponse processSelectionRequestLogical(SelectionRequest sRequest)
  -CardResponse processCardRequestLogical(CardRequest cRequest)
  -ApduResponse processApduRequest(ApduRequest apduRequest)
  -ApduResponse case4HackGetResponse(int originalStatusCode)

  ~SelectionStatus openLogicalChannel(CardSelector selector)
  ~<b>final</b> SelectionStatus openLogicalChannelAndSelect(CardSelector selector)
  ~<b>final</b> boolean isLogicalChannelOpen()
  -closeLogicalChannel()
  ~closeLogicalAndPhysicalChannels()
  ~{abstract} terminateSeCommunication()
}
+interface SmartSelectionReader {
  +ApduResponse <color:blue>openChannelForAid</color>(byte[] dfName)
  +<color:blue>closeLogicalChannel()</color>()
}
      }
      together {
+abstract AbstractObservableLocalReader {
  -List<ReaderObserver> observers
  -DefaultSelectionsRequest[0..1] defaultSelectionsRequest
  -NotificationMode notificationMode
  -PollingMode currentPollingMode
  ~<b>final</b> ObservableReaderStateService stateService
  -<b>final</b> Object sync
  - -
  #AbstractObservableLocalReader(String pluginName, String readerName)
  .. implementation of the public interface ObservableReader ..
  +<b>final</b> addObserver(ReaderObserver observer)
  +<b>final</b> removeObserver(ReaderObserver observer)
  +<b>final</b> clearObservers()
  +<b>final</b> int countObservers()

  +<b>final</b> setDefaultSelections(AbstractDefaultSelectionsRequest
      selectionsR, NotificationMode notificationM)
  +<b>final</b> setDefaultSelectionsAndStartCardDetection(AbstractDefaultSelectionsRequest
      selectionsR, NotificationMode notificationM, PollingMode pollingM)
  +<b>final</b> startCardDetection(PollingMode pollingMode)
  +<b>final</b> stopCardDetection()

  +<b>final</b> finalizeCardProcessing()
  .. implementation the public interface ObservableReaderNotifier ..
  +<b>final</b> notifyObservers(<b>final</b> ReaderEvent event)
  .. internal process ..
  ~ObservableReaderStateService initStateService()
  ~onEvent(InternalEvent event)
  ~ReaderEvent processCardInserted()
  ~boolean isCardPresentPing()
  ~<b>final</b> processCardRemoved()
  ~ObservableReader.PollingMode getPollingMode()
  ~switchState(MonitoringState stateId)
  ~MonitoringState getCurrentMonitoringState()
}
        interface SmartInsertionReader
      }
      together {
+interface ObservableReaderNotifier {
  +notifyObservers(<b>final</b> ReaderEvent event)
}
        interface SmartRemovalReader
      }
      AbstractReader <|-down- AbstractLocalReader : extends
      AbstractLocalReader <|-down- AbstractObservableLocalReader : extends
      AbstractObservableLocalReader .down.|> ObservableReaderNotifier : implements
      Toto -down[hidden]- SmartSelectionReader
      SmartSelectionReader -down[hidden]- SmartInsertionReader
      SmartInsertionReader -down[hidden]- SmartRemovalReader
      hide Toto
+interface NativeInsertionReader  {
  +<color:blue>notifyCardInserted</color>()
}

+interface SmartInsertionReader  {
  +boolean <color:blue>waitForCardPresent</color>()
  +<color:blue>stopWaitForCard</color>()
}

+interface SmartRemovalReader {
  +boolean <color:blue>waitForCardAbsentNative</color>()
  +<color:blue>stopWaitForCardRemoval</color>()
}

      SmartRemovalReader -left-|> ObservableReaderNotifier : extends
      NativeInsertionReader -right-|> ObservableReaderNotifier : extends
      ObservableReaderNotifier <|- - SmartInsertionReader : extends
    }
  }
  Plugin <|.down. AbstractPlugin : implements
  ProxyReader <|.down. AbstractReader : implements
  ProxyReader <|- - SmartSelectionReader : extends

  package service.event #FFFFFF {
+interface ObservablePlugin {
  +addObserver(<b>final</b> PluginObserver observer)
  +removeObserver(<b>final</b> PluginObserver observer)
  +clearObservers()
  +int countObservers()
}
+interface PluginObserver {
  +update(<b>final</b> PluginEvent event)
}
    ObservablePlugin +-right- PluginObserver
    ObservablePlugin "1" o- - "*" PluginObserver : observes <

+interface ReaderObserver {
  +update(<b>final</b> ReaderEvent event)
}
+interface ObservableReader {
  +addObserver(<b>final</b> ReaderObserver observer)
  +removeObserver(<b>final</b> ReaderObserver observer)
  +clearObservers()
  +int countObservers()

  +setDefaultSelections(AbstractDefaultSelectionsRequest
    selectionsR, NotificationMode notificationM)
  +setDefaultSelectionsAndStartCardDetection(AbstractDefaultSelectionsRequest
    selectionsR, NotificationMode notificationM, PollingMode pollingM)
  +startCardDetection(PollingMode pollingMode)
  +stopCardDetection()

  +finalizeCardProcessing()
}
    ReaderObserver -right-+ ObservableReader
    ReaderObserver "*" - -o "1" ObservableReader

    PluginObserver -right[hidden]-> ReaderObserver
  }
  ObservablePluginNotifier -down-|> ObservablePlugin : extends
  ObservableReaderNotifier -down-|> ObservableReader : extends

  Plugin <|- - ObservablePlugin : extends
  Reader <|- - - - - - - - - - - - ObservableReader : extends
}
@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>