<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1029px" preserveAspectRatio="none" style="width:1055px;height:1029px;" version="1.1" viewBox="0 0 1055 1029" width="1055px" zoomAndPan="magnify"><defs/><g><!--MD5=[f70fa97960bc6b4e8dc736e90c677b35]
cluster specific.terminal_application--><polygon fill="#85C1E9" points="480,24,687,24,694,47.6094,697,47.6094,697,144,480,144,480,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="480" x2="694" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="201" x="484" y="40.5332">specific.terminal_application</text><!--MD5=[c3c915b379c717332e210d38dcd6e8a2]
cluster org.eclipse.keyple.core--><polygon fill="#FFFFFF" points="22,194,193,194,200,217.6094,1033,217.6094,1033,783,22,783,22,194" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="200" y1="217.6094" y2="217.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="26" y="210.5332">org.eclipse.keyple.core</text><!--MD5=[9d4f2f8fc0ef5fca8dbaabf8542dfdf0]
cluster reader--><polygon fill="#FFFFFF" points="54,246,107,246,114,269.6094,744,269.6094,744,751,54,751,54,246" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="54" x2="114" y1="269.6094" y2="269.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="58" y="262.5332">reader</text><!--MD5=[c0aa8e866ae6fc39023503347be6a127]
cluster plugin.setting--><polygon fill="#FFFFFF" points="784,312,887,312,894,335.6094,1001,335.6094,1001,476,784,476,784,312" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="784" x2="894" y1="335.6094" y2="335.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="97" x="788" y="328.5332">plugin.setting</text><!--MD5=[150fc06e5233369d850ce0440eb89b50]
cluster specific.plugin--><polygon fill="#D7BDE2" points="314,833,423,833,430,856.6094,986,856.6094,986,1017,314,1017,314,833" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="314" x2="430" y1="856.6094" y2="856.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="103" x="318" y="849.5332">specific.plugin</text><!--MD5=[36749fbd9f1718a5265922a19e14c350]
class SpecificTerminal--><rect fill="#FEFECE" height="48" id="SpecificTerminal" style="stroke: #D4AC0D; stroke-width: 1.5;" width="124" x="526" y="80"/><ellipse cx="541" cy="96" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M543,92.5 Q543.2031,92 543.4375,91.75 Q543.6719,91.5 543.9375,91.5 Q544.4063,91.5 544.7031,91.7813 Q545,92.0625 545,92.7188 L545,94.2813 Q545,94.9375 544.7188,95.2188 Q544.4375,95.5 544,95.5 Q543.6094,95.5 543.3594,95.3281 Q543.1094,95.1563 543,94.7031 Q542.9531,94.3906 542.7813,94.2188 Q542.4688,93.8906 541.9063,93.7031 Q541.3438,93.5 540.7813,93.5 Q540.0781,93.5 539.4844,93.7813 Q538.9063,94.0625 538.4531,94.6875 Q538,95.3125 538,96.1719 L538,97.0938 Q538,98.125 538.8438,98.8125 Q539.6875,99.5 541.1875,99.5 Q542.0781,99.5 542.7031,99.2969 Q543.0625,99.1875 543.4688,98.8281 Q543.7344,98.625 543.875,98.5625 Q544.0156,98.5 544.1875,98.5 Q544.5156,98.5 544.75,98.7656 Q545,99.0156 545,99.375 Q545,99.7188 544.6563,100.125 Q544.1563,100.7188 543.3594,101.0469 Q542.3125,101.5 541.0313,101.5 Q539.5313,101.5 538.3281,100.9063 Q537.3594,100.4375 536.6719,99.4219 Q536,98.4063 536,97.2031 L536,96.1094 Q536,94.8594 536.5938,93.7656 Q537.2031,92.6719 538.25,92.0938 Q539.3125,91.5 540.5,91.5 Q541.2188,91.5 541.8438,91.75 Q542.4688,92 543,92.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="555" y="100.9102">SpecificTerminal</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="527" x2="649" y1="112" y2="112"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="527" x2="649" y1="120" y2="120"/><!--MD5=[bc3f57c567736ad71a70f1388d085699]
class SmartCardService--><rect fill="#FEFECE" height="208.3828" id="SmartCardService" style="stroke: #D4AC0D; stroke-width: 1.5;" width="263" x="456.5" y="310"/><ellipse cx="514.75" cy="330.0938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M516.75,326.5938 Q516.9531,326.0938 517.1875,325.8438 Q517.4219,325.5938 517.6875,325.5938 Q518.1563,325.5938 518.4531,325.875 Q518.75,326.1563 518.75,326.8125 L518.75,328.375 Q518.75,329.0313 518.4688,329.3125 Q518.1875,329.5938 517.75,329.5938 Q517.3594,329.5938 517.1094,329.4219 Q516.8594,329.25 516.75,328.7969 Q516.7031,328.4844 516.5313,328.3125 Q516.2188,327.9844 515.6563,327.7969 Q515.0938,327.5938 514.5313,327.5938 Q513.8281,327.5938 513.2344,327.875 Q512.6563,328.1563 512.2031,328.7813 Q511.75,329.4063 511.75,330.2656 L511.75,331.1875 Q511.75,332.2188 512.5938,332.9063 Q513.4375,333.5938 514.9375,333.5938 Q515.8281,333.5938 516.4531,333.3906 Q516.8125,333.2813 517.2188,332.9219 Q517.4844,332.7188 517.625,332.6563 Q517.7656,332.5938 517.9375,332.5938 Q518.2656,332.5938 518.5,332.8594 Q518.75,333.1094 518.75,333.4688 Q518.75,333.8125 518.4063,334.2188 Q517.9063,334.8125 517.1094,335.1406 Q516.0625,335.5938 514.7813,335.5938 Q513.2813,335.5938 512.0781,335 Q511.1094,334.5313 510.4219,333.5156 Q509.75,332.5 509.75,331.2969 L509.75,330.2031 Q509.75,328.9531 510.3438,327.8594 Q510.9531,326.7656 512,326.1875 Q513.0625,325.5938 514.25,325.5938 Q514.9688,325.5938 515.5938,325.8438 Q516.2188,326.0938 516.75,326.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="571.25" y="327.457">«Singleton»</text><ellipse cx="540.25" cy="337.1406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="546.25" y="342.5508">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="573.25" y="342.5508">SmartCardService</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="457.5" x2="718.5" y1="350.1875" y2="350.1875"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="464.5" y="358.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="23" x="476.5" y="365.6064">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="164" x="502.5" y="365.6064">SmartCardService uniqueInstance</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="464.5" y="372.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="476.5" y="379.4424">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="502.5" y="379.4424">ConcurrentMap&lt;String, Plugin&gt; plugins</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="457.5" x2="718.5" y1="385.8594" y2="385.8594"/><ellipse cx="467.5" cy="396.8594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="155" x="476.5" y="401.2783">SmartCardService getInstance()</text><ellipse cx="467.5" cy="410.6953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="476.5" y="415.1143">String getVersion()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="479.5" y="428.9502"/><ellipse cx="467.5" cy="438.3672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="237" x="476.5" y="442.7861">Plugin registerPlugin(PluginFactory pluginFactory)</text><ellipse cx="467.5" cy="452.2031" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="476.5" y="456.6221">boolean isRegistered(String pluginName)</text><ellipse cx="467.5" cy="466.0391" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="212" x="476.5" y="470.458">boolean unregisterPlugin(String pluginName)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="479.5" y="484.2939"/><ellipse cx="467.5" cy="493.7109" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="476.5" y="498.1299">Plugin getPlugin(String name)</text><ellipse cx="467.5" cy="507.5469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="476.5" y="511.9658">Map&lt;String, Plugin&gt; getPlugins()</text><!--MD5=[b628511dd50102041730ee0512f882c8]
class Plugin--><rect fill="#FEFECE" height="117.1797" id="Plugin" style="stroke: #D4AC0D; stroke-width: 1.5;" width="194" x="526" y="603"/><ellipse cx="595.75" cy="619" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M596.75,616 L596.75,622 L598.75,622 L599.2344,622 L599.75,622.625 L599.75,623 L599.75,623.375 L599.2344,624 L598.75,624 L592.75,624 L592.2656,624 L591.75,623.375 L591.75,623 L591.75,622.625 L592.2656,622 L592.75,622 L594.75,622 L594.75,616 L592.75,616 L592.2656,616 L591.75,615.375 L591.75,615 L591.75,614.625 L592.2656,614 L592.75,614 L598.75,614 L599.2344,614 L599.75,614.625 L599.75,615 L599.75,615.375 L599.2344,616 L598.75,616 L596.75,616 Z "/><ellipse cx="621.25" cy="618.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="35" x="627.25" y="623.9102">Plugin</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="527" x2="719" y1="635" y2="635"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="527" x2="719" y1="643" y2="643"/><ellipse cx="537" cy="654" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="546" y="658.4189">String getName()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="549" y="672.2549"/><ellipse cx="537" cy="681.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="546" y="686.0908">Map&lt;String, Reader&gt; getReaders()</text><ellipse cx="537" cy="695.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="546" y="699.9268">Set&lt;String&gt; getReaderNames()</text><ellipse cx="537" cy="709.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="546" y="713.7627">Reader getReader(String name)</text><!--MD5=[e86a4777f2c0372cf9fb3cd047e1466e]
class Reader--><rect fill="#FEFECE" height="131.0156" id="Reader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="360" x="86" y="596"/><ellipse cx="235.75" cy="612" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M236.75,609 L236.75,615 L238.75,615 L239.2344,615 L239.75,615.625 L239.75,616 L239.75,616.375 L239.2344,617 L238.75,617 L232.75,617 L232.2656,617 L231.75,616.375 L231.75,616 L231.75,615.625 L232.2656,615 L232.75,615 L234.75,615 L234.75,609 L232.75,609 L232.2656,609 L231.75,608.375 L231.75,608 L231.75,607.625 L232.2656,607 L232.75,607 L238.75,607 L239.2344,607 L239.75,607.625 L239.75,608 L239.75,608.375 L239.2344,609 L238.75,609 L236.75,609 Z "/><ellipse cx="261.25" cy="611.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="41" x="267.25" y="616.9102">Reader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="87" x2="445" y1="628" y2="628"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="87" x2="445" y1="636" y2="636"/><ellipse cx="97" cy="647" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="106" y="651.4189">String getName()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="109" y="665.2549"/><ellipse cx="97" cy="674.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="106" y="679.0908">boolean isCardPresent()</text><ellipse cx="97" cy="688.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="334" x="106" y="692.9268">activateProtocol(String applicationReference, String pluginReference)</text><ellipse cx="97" cy="702.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="106" y="706.7627">deactivateProtocol(String applicationReference)</text><ellipse cx="97" cy="716.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="106" y="720.5986">boolean isContactlessTransmission()</text><!--MD5=[5c68026ea752d2e8f1e184b2d7c89ced]
class PluginFactory--><rect fill="#FEFECE" height="75.6719" id="PluginFactory" style="stroke: #D4AC0D; stroke-width: 1.5;" width="149" x="827.5" y="376"/><ellipse cx="856.45" cy="392" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M857.45,389 L857.45,395 L859.45,395 L859.9344,395 L860.45,395.625 L860.45,396 L860.45,396.375 L859.9344,397 L859.45,397 L853.45,397 L852.9656,397 L852.45,396.375 L852.45,396 L852.45,395.625 L852.9656,395 L853.45,395 L855.45,395 L855.45,389 L853.45,389 L852.9656,389 L852.45,388.375 L852.45,388 L852.45,387.625 L852.9656,387 L853.45,387 L859.45,387 L859.9344,387 L860.45,387.625 L860.45,388 L860.45,388.375 L859.9344,389 L859.45,389 L857.45,389 Z "/><ellipse cx="878.55" cy="391.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="75" x="884.55" y="396.9102">PluginFactory</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="828.5" x2="975.5" y1="408" y2="408"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="828.5" x2="975.5" y1="416" y2="416"/><ellipse cx="838.5" cy="427" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="847.5" y="431.4189">String getPluginName()</text><ellipse cx="838.5" cy="440.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="847.5" y="445.2549">Plugin getPluginInstance()</text><!--MD5=[273228bd21fa37477fe0813cbe95870a]
class SpecificPluginFactory--><rect fill="#FEFECE" height="75.6719" id="SpecificPluginFactory" style="stroke: #D4AC0D; stroke-width: 1.5;" width="187" x="782.5" y="907"/><ellipse cx="797.5" cy="923" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M799.5,919.5 Q799.7031,919 799.9375,918.75 Q800.1719,918.5 800.4375,918.5 Q800.9063,918.5 801.2031,918.7813 Q801.5,919.0625 801.5,919.7188 L801.5,921.2813 Q801.5,921.9375 801.2188,922.2188 Q800.9375,922.5 800.5,922.5 Q800.1094,922.5 799.8594,922.3281 Q799.6094,922.1563 799.5,921.7031 Q799.4531,921.3906 799.2813,921.2188 Q798.9688,920.8906 798.4063,920.7031 Q797.8438,920.5 797.2813,920.5 Q796.5781,920.5 795.9844,920.7813 Q795.4063,921.0625 794.9531,921.6875 Q794.5,922.3125 794.5,923.1719 L794.5,924.0938 Q794.5,925.125 795.3438,925.8125 Q796.1875,926.5 797.6875,926.5 Q798.5781,926.5 799.2031,926.2969 Q799.5625,926.1875 799.9688,925.8281 Q800.2344,925.625 800.375,925.5625 Q800.5156,925.5 800.6875,925.5 Q801.0156,925.5 801.25,925.7656 Q801.5,926.0156 801.5,926.375 Q801.5,926.7188 801.1563,927.125 Q800.6563,927.7188 799.8594,928.0469 Q798.8125,928.5 797.5313,928.5 Q796.0313,928.5 794.8281,927.9063 Q793.8594,927.4375 793.1719,926.4219 Q792.5,925.4063 792.5,924.2031 L792.5,923.1094 Q792.5,921.8594 793.0938,920.7656 Q793.7031,919.6719 794.75,919.0938 Q795.8125,918.5 797,918.5 Q797.7188,918.5 798.3438,918.75 Q798.9688,919 799.5,919.5 Z "/><ellipse cx="816.5" cy="922.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="822.5" y="927.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="117" x="849.5" y="927.9102">SpecificPluginFactory</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="783.5" x2="968.5" y1="939" y2="939"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="783.5" x2="968.5" y1="947" y2="947"/><ellipse cx="793.5" cy="958" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="802.5" y="962.4189">String getPluginName()</text><ellipse cx="793.5" cy="971.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="802.5" y="976.2549">Plugin getPluginInstance()</text><!--MD5=[0f8b8cab079f94c46492aeaa0dde1551]
class SpecificPlugin--><rect fill="#FEFECE" height="111.5313" id="SpecificPlugin" style="stroke: #D4AC0D; stroke-width: 1.5;" width="160" x="543" y="889"/><ellipse cx="575.55" cy="909.0938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M577.55,905.5938 Q577.7531,905.0938 577.9875,904.8438 Q578.2219,904.5938 578.4875,904.5938 Q578.9563,904.5938 579.2531,904.875 Q579.55,905.1563 579.55,905.8125 L579.55,907.375 Q579.55,908.0313 579.2688,908.3125 Q578.9875,908.5938 578.55,908.5938 Q578.1594,908.5938 577.9094,908.4219 Q577.6594,908.25 577.55,907.7969 Q577.5031,907.4844 577.3313,907.3125 Q577.0188,906.9844 576.4563,906.7969 Q575.8938,906.5938 575.3313,906.5938 Q574.6281,906.5938 574.0344,906.875 Q573.4563,907.1563 573.0031,907.7813 Q572.55,908.4063 572.55,909.2656 L572.55,910.1875 Q572.55,911.2188 573.3938,911.9063 Q574.2375,912.5938 575.7375,912.5938 Q576.6281,912.5938 577.2531,912.3906 Q577.6125,912.2813 578.0188,911.9219 Q578.2844,911.7188 578.425,911.6563 Q578.5656,911.5938 578.7375,911.5938 Q579.0656,911.5938 579.3,911.8594 Q579.55,912.1094 579.55,912.4688 Q579.55,912.8125 579.2063,913.2188 Q578.7063,913.8125 577.9094,914.1406 Q576.8625,914.5938 575.5813,914.5938 Q574.0813,914.5938 572.8781,914 Q571.9094,913.5313 571.2219,912.5156 Q570.55,911.5 570.55,910.2969 L570.55,909.2031 Q570.55,907.9531 571.1438,906.8594 Q571.7531,905.7656 572.8,905.1875 Q573.8625,904.5938 575.05,904.5938 Q575.7688,904.5938 576.3938,904.8438 Q577.0188,905.0938 577.55,905.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="604.95" y="906.457">«Singleton»</text><polygon fill="#4177AF" points="598.45,912.1406,594.45,918.1406,602.45,918.1406" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="604.45" y="921.5508">SpecificPlugin</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="544" x2="702" y1="929.1875" y2="929.1875"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="551" y="937.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="563" y="944.6064">String name</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="544" x2="702" y1="951.0234" y2="951.0234"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="551" y="959.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="563" y="966.4424">SpecificPlugin()</text><ellipse cx="554" cy="975.8594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="134" x="563" y="980.2783">SpecificPlugin getInstance()</text><ellipse cx="554" cy="989.6953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="563" y="994.1143">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="589" y="994.1143">String getName()</text><!--MD5=[4ab0a37e4eea002adccb7015b38062eb]
class SpecificReader--><rect fill="#FEFECE" height="89.5078" id="SpecificReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="133" x="330.5" y="900"/><ellipse cx="348.2" cy="916" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M350.2,912.5 Q350.4031,912 350.6375,911.75 Q350.8719,911.5 351.1375,911.5 Q351.6063,911.5 351.9031,911.7813 Q352.2,912.0625 352.2,912.7188 L352.2,914.2813 Q352.2,914.9375 351.9188,915.2188 Q351.6375,915.5 351.2,915.5 Q350.8094,915.5 350.5594,915.3281 Q350.3094,915.1563 350.2,914.7031 Q350.1531,914.3906 349.9813,914.2188 Q349.6688,913.8906 349.1063,913.7031 Q348.5438,913.5 347.9813,913.5 Q347.2781,913.5 346.6844,913.7813 Q346.1063,914.0625 345.6531,914.6875 Q345.2,915.3125 345.2,916.1719 L345.2,917.0938 Q345.2,918.125 346.0438,918.8125 Q346.8875,919.5 348.3875,919.5 Q349.2781,919.5 349.9031,919.2969 Q350.2625,919.1875 350.6688,918.8281 Q350.9344,918.625 351.075,918.5625 Q351.2156,918.5 351.3875,918.5 Q351.7156,918.5 351.95,918.7656 Q352.2,919.0156 352.2,919.375 Q352.2,919.7188 351.8563,920.125 Q351.3563,920.7188 350.5594,921.0469 Q349.5125,921.5 348.2313,921.5 Q346.7313,921.5 345.5281,920.9063 Q344.5594,920.4375 343.8719,919.4219 Q343.2,918.4063 343.2,917.2031 L343.2,916.1094 Q343.2,914.8594 343.7938,913.7656 Q344.4031,912.6719 345.45,912.0938 Q346.5125,911.5 347.7,911.5 Q348.4188,911.5 349.0438,911.75 Q349.6688,912 350.2,912.5 Z "/><polygon fill="#4177AF" points="367.8,911.5,363.8,917.5,371.8,917.5" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="373.8" y="920.9102">SpecificReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="331.5" x2="462.5" y1="932" y2="932"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="338.5" y="940"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="350.5" y="947.4189">String name</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="331.5" x2="462.5" y1="953.8359" y2="953.8359"/><polygon fill="#FFFF44" points="341.5,959.8359,345.5,963.8359,341.5,967.8359,337.5,963.8359" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="350.5" y="969.2549">SpecificReader()</text><ellipse cx="341.5" cy="978.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="350.5" y="983.0908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="376.5" y="983.0908">String getName()</text><!--MD5=[230717490673261be3b1e9de94e2929c]
link SmartCardService to Plugin--><path d="M604.3842,529.9269 C604.3842,529.9269 610.302,571.432 612.925,589.832 " fill="none" id="SmartCardService-Plugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="614.783,602.861,617.4731,593.3866,614.0775,597.911,609.5531,594.5154,614.783,602.861" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="614.0775" x2="612.9475" y1="597.911" y2="589.991"/><polygon fill="#A80036" points="602.691,518.047,599.5776,524.5514,604.3842,529.9269,607.4976,523.4226,602.691,518.047" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="610" y="562.4951">plugins</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="596.5128" y="539.7694">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="608.4769" y="592.245">*</text><!--MD5=[93552c6d1c6bbacc03afdb78ec3f6a5f]
link Reader to Plugin--><path d="M459.293,661.5 C477.586,661.5 513.952,661.5 513.952,661.5 " fill="none" id="Reader-Plugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="525.952,661.5,519.952,657.5,513.952,661.5,519.952,665.5,525.952,661.5" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="446.069,661.5,455.069,665.5,451.069,661.5,455.069,657.5,446.069,661.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="451.069" x2="459.069" y1="661.5" y2="661.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="464.5" y="654.9951">readers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="453.7711" y="658.6647">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="510.9396" y="658.3645">1</text><!--MD5=[9f12f682f7b3ff31323fb13f079d7dfa]
link plugin.setting to reader--><!--MD5=[169f3a4aaac3ff91cd94e29fee6ff850]
link SmartCardService to PluginFactory--><path d="M655.4448,300.2562 C655.4448,300.2562 764.578,180.924 824,221 C870.632,252.451 889.394,316.995 896.937,362.769 " fill="none" id="SmartCardService-PluginFactory" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="898.858,375.726,901.4934,366.2363,898.124,370.7802,893.5801,367.4107,898.858,375.726" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="898.124" x2="896.951" y1="370.7802" y2="362.867"/><polygon fill="#A80036" points="648.431,309.993,655.1835,307.4625,655.4448,300.2562,648.6923,302.7866,648.431,309.993" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="720" y="174.4951">registers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="645.6119" y="299.2615">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="892.853" y="365.0391">*</text><!--MD5=[a4001258c8db405fbf0ed58a92e714fd]
link PluginFactory to Plugin--><path d="M878.127,452.002 C863.814,472.672 844.458,498.176 824,518 C793.005,548.035 755.219,576.531 720.81,600.035 " fill="none" id="PluginFactory-&gt;Plugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="716.631,602.876,726.3225,601.1227,720.7656,600.0644,721.8239,594.5074,716.631,602.876" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="796,555.6758,790,558.6758,796,561.6758,796,555.6758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="802" y="562.4951">creates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="866.5933" y="473.1725">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="720.6157" y="592.2618">1</text><!--MD5=[606af266cb1c3ee5489afec7c4e81055]
link SpecificPluginFactory to SpecificPlugin--><path d="M782.331,945 C758.013,945 731.956,945 708.105,945 " fill="none" id="SpecificPluginFactory-&gt;SpecificPlugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="703.051,945,712.051,949,708.051,945,712.051,941,703.051,945" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="721.25" y="938.4951">creates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="767.5878" y="941.8847">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="711.0145" y="941.7717">1</text><!--MD5=[c0f848f1ce686e4cacbc8a0551faf0fe]
link SpecificPlugin to SpecificReader--><path d="M530.913,945 C530.913,945 493.897,945 476.699,945 " fill="none" id="SpecificPlugin-SpecificReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="463.585,945,472.585,949,468.585,945,472.585,941,463.585,945" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="468.585" x2="476.585" y1="945" y2="944.9999"/><polygon fill="#A80036" points="542.913,945,536.913,941,530.913,945,536.913,949,542.913,945" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="481.75" y="938.4951">readers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="527.9461" y="941.7717">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="471.573" y="941.6189">*</text><!--MD5=[4c2db7e77e4167a5f3a0737590b2dd9f]
link SpecificTerminal to SmartCardService--><path d="M588,128.15 C588,165.298 588,240.531 588,304.353 " fill="none" id="SpecificTerminal-&gt;SmartCardService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="588,309.708,592,300.708,588,304.708,584,300.708,588,309.708" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="589" y="174.4951">uses</text><polygon fill="#000000" points="598.5,183.3516,601.5,189.3516,604.5,183.3516,598.5,183.3516" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[136abeb6498542290e7ac248186897f6]
reverse link PluginFactory to SpecificPluginFactory--><path d="M899.187,472.244 C893.829,581.243 882.3,815.828 877.826,906.843 " fill="none" id="PluginFactory&lt;-SpecificPluginFactory" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="892.198,471.83,900.172,452.198,906.181,472.518,892.198,471.83" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="893" y="666.9951">implements</text><!--MD5=[af065bc95178f4f6ad311d69d30c7e30]
reverse link Plugin to SpecificPlugin--><path d="M623,740.209 C623,787.375 623,846.444 623,888.827 " fill="none" id="Plugin&lt;-SpecificPlugin" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="616,740.145,623,720.145,630,740.145,616,740.145" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="624" y="813.4951">implements</text><!--MD5=[66ced2f75dc1a13cd3c394fa75e05507]
reverse link Reader to SpecificReader--><path d="M304.604,745.454 C328.136,796.022 357.274,858.635 376.463,899.868 " fill="none" id="Reader&lt;-SpecificReader" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="298.146,748.168,296.054,727.082,310.839,742.261,298.146,748.168" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="337" y="813.4951">implements</text><!--MD5=[15c9d0359b8d25f5cb5c7622604d92af]
@startuml
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam shadowing false

skinparam StateBorderColor #D4AC0D
skinparam ActivityBorderColor #D4AC0D

skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #EAFAF1
skinparam ClassBorderColor<<green>> #2ECC71
hide <<green>> stereotype

skinparam ClassBackgroundColor<<orange>> #FDF2E9
skinparam ClassBorderColor<<orange>> #E67E22
hide <<orange>> stereotype

skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

package specific.terminal_application #85C1E9 {
  class SpecificTerminal
}

package org.eclipse.keyple.core #FFFFFF {
  package reader #FFFFFF {
+class "<b>final</b> SmartCardService" as SmartCardService << Singleton >> {
  -<b>final</b> {static}SmartCardService uniqueInstance
  -<b>final</b> ConcurrentMap<String, Plugin> plugins
  +{static}SmartCardService getInstance()
  +String getVersion()

  +Plugin registerPlugin(PluginFactory pluginFactory)
  +boolean isRegistered(String pluginName)
  +boolean unregisterPlugin(String pluginName)

  +Plugin getPlugin(String name)
  +Map<String, Plugin> getPlugins()
}
+interface Plugin {
  +String getName()

  +Map<String, Reader> getReaders()
  +Set<String> getReaderNames()
  +Reader getReader(String name)
}
+interface Reader {
  +String getName()

  +boolean isCardPresent()
  +activateProtocol(String applicationReference, String pluginReference)
  +deactivateProtocol(String applicationReference)
  +boolean isContactlessTransmission()
}

    SmartCardService "1" *-down-> "*" Plugin : plugins
    Plugin "1" *-left-> "*" Reader : readers
  }
  package plugin.setting #FFFFFF {
+interface PluginFactory {
  +String getPluginName()
  +Plugin getPluginInstance()
}
  }

  plugin.setting -left[hidden]- reader
  SmartCardService "1" *-right-> "*" PluginFactory : registers
  PluginFactory "1" - -> "1" Plugin : creates >
}


package specific.plugin #D7BDE2 {
  +class "<b>final</b> SpecificPluginFactory" as SpecificPluginFactory {
    +String getPluginName()
    +Plugin getPluginInstance()
  }

  ~class SpecificPlugin << Singleton >> {
    -String name
    -SpecificPlugin()
    +{static} SpecificPlugin getInstance()
    +<b>final</b> String getName()
  }

  ~class SpecificReader {
    -String name
    #SpecificReader()
    +<b>final</b> String getName()
  }

  SpecificPluginFactory "1" -right-> "1" SpecificPlugin : creates
  SpecificPlugin "1" *-right-> "*" SpecificReader : readers
}
SpecificTerminal -down-> SmartCardService : uses >

PluginFactory <|.down. SpecificPluginFactory : implements
Plugin <|.down. SpecificPlugin : implements
Reader <|.down. SpecificReader : implements
@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>