<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="869px" preserveAspectRatio="none" style="width:996px;height:869px;" version="1.1" viewBox="0 0 996 869" width="996px" zoomAndPan="magnify"><defs/><g><!--MD5=[43faeb760e7b9692ab91f636f0cf3388]
cluster external.terminalapplication--><polygon fill="#3399FF" points="98,24,300,24,307,47.6094,310,47.6094,310,124,98,124,98,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="98" x2="307" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="196" x="102" y="40.5332">external.terminalapplication</text><!--MD5=[7caf583cb433e02d1692c529d1786744]
cluster org.eclipse.keyple.core.reader--><polygon fill="#FFFFFF" points="22,174,244,174,251,197.6094,974,197.6094,974,643,22,643,22,174" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="251" y1="197.6094" y2="197.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="216" x="26" y="190.5332">org.eclipse.keyple.core.reader</text><!--MD5=[fcbadcad9a28152c89ed5c4d71dbb045]
cluster plugin.specific--><polygon fill="#D7BDE2" points="47,693,156,693,163,716.6094,719,716.6094,719,857,47,857,47,693" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="47" x2="163" y1="716.6094" y2="716.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="103" x="51" y="709.5332">plugin.specific</text><!--MD5=[36749fbd9f1718a5265922a19e14c350]
class SpecificTerminal--><rect fill="#FEFECE" height="48" id="SpecificTerminal" style="stroke: #D4AC0D; stroke-width: 1.5;" width="124" x="142" y="60"/><ellipse cx="157" cy="76" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M159,72.5 Q159.2031,72 159.4375,71.75 Q159.6719,71.5 159.9375,71.5 Q160.4063,71.5 160.7031,71.7813 Q161,72.0625 161,72.7188 L161,74.2813 Q161,74.9375 160.7188,75.2188 Q160.4375,75.5 160,75.5 Q159.6094,75.5 159.3594,75.3281 Q159.1094,75.1563 159,74.7031 Q158.9531,74.3906 158.7813,74.2188 Q158.4688,73.8906 157.9063,73.7031 Q157.3438,73.5 156.7813,73.5 Q156.0781,73.5 155.4844,73.7813 Q154.9063,74.0625 154.4531,74.6875 Q154,75.3125 154,76.1719 L154,77.0938 Q154,78.125 154.8438,78.8125 Q155.6875,79.5 157.1875,79.5 Q158.0781,79.5 158.7031,79.2969 Q159.0625,79.1875 159.4688,78.8281 Q159.7344,78.625 159.875,78.5625 Q160.0156,78.5 160.1875,78.5 Q160.5156,78.5 160.75,78.7656 Q161,79.0156 161,79.375 Q161,79.7188 160.6563,80.125 Q160.1563,80.7188 159.3594,81.0469 Q158.3125,81.5 157.0313,81.5 Q155.5313,81.5 154.3281,80.9063 Q153.3594,80.4375 152.6719,79.4219 Q152,78.4063 152,77.2031 L152,76.1094 Q152,74.8594 152.5938,73.7656 Q153.2031,72.6719 154.25,72.0938 Q155.3125,71.5 156.5,71.5 Q157.2188,71.5 157.8438,71.75 Q158.4688,72 159,72.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="171" y="80.9102">SpecificTerminal</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="143" x2="265" y1="92" y2="92"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="143" x2="265" y1="100" y2="100"/><!--MD5=[bc3f57c567736ad71a70f1388d085699]
class SmartCardService--><rect fill="#FEFECE" height="208.3828" id="SmartCardService" style="stroke: #D4AC0D; stroke-width: 1.5;" width="298" x="55" y="210"/><ellipse cx="130.75" cy="230.0938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M132.75,226.5938 Q132.9531,226.0938 133.1875,225.8438 Q133.4219,225.5938 133.6875,225.5938 Q134.1563,225.5938 134.4531,225.875 Q134.75,226.1563 134.75,226.8125 L134.75,228.375 Q134.75,229.0313 134.4688,229.3125 Q134.1875,229.5938 133.75,229.5938 Q133.3594,229.5938 133.1094,229.4219 Q132.8594,229.25 132.75,228.7969 Q132.7031,228.4844 132.5313,228.3125 Q132.2188,227.9844 131.6563,227.7969 Q131.0938,227.5938 130.5313,227.5938 Q129.8281,227.5938 129.2344,227.875 Q128.6563,228.1563 128.2031,228.7813 Q127.75,229.4063 127.75,230.2656 L127.75,231.1875 Q127.75,232.2188 128.5938,232.9063 Q129.4375,233.5938 130.9375,233.5938 Q131.8281,233.5938 132.4531,233.3906 Q132.8125,233.2813 133.2188,232.9219 Q133.4844,232.7188 133.625,232.6563 Q133.7656,232.5938 133.9375,232.5938 Q134.2656,232.5938 134.5,232.8594 Q134.75,233.1094 134.75,233.4688 Q134.75,233.8125 134.4063,234.2188 Q133.9063,234.8125 133.1094,235.1406 Q132.0625,235.5938 130.7813,235.5938 Q129.2813,235.5938 128.0781,235 Q127.1094,234.5313 126.4219,233.5156 Q125.75,232.5 125.75,231.2969 L125.75,230.2031 Q125.75,228.9531 126.3438,227.8594 Q126.9531,226.7656 128,226.1875 Q129.0625,225.5938 130.25,225.5938 Q130.9688,225.5938 131.5938,225.8438 Q132.2188,226.0938 132.75,226.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="187.25" y="227.457">«Singleton»</text><ellipse cx="156.25" cy="237.1406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="162.25" y="242.5508">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="189.25" y="242.5508">SmartCardService</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="56" x2="352" y1="250.1875" y2="250.1875"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="63" y="258.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="23" x="75" y="265.6064">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="164" x="101" y="265.6064">SmartCardService uniqueInstance</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="63" y="272.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="75" y="279.4424">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="220" x="101" y="279.4424">ConcurrentMap&lt;String, ReaderPlugin&gt; plugins</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="56" x2="352" y1="285.8594" y2="285.8594"/><ellipse cx="66" cy="296.8594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="155" x="75" y="301.2783">SmartCardService getInstance()</text><ellipse cx="66" cy="310.6953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="75" y="315.1143">String getVersion()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="78" y="328.9502"/><ellipse cx="66" cy="338.3672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="272" x="75" y="342.7861">ReaderPlugin registerPlugin(PluginFactory pluginFactory)</text><ellipse cx="66" cy="352.2031" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="75" y="356.6221">boolean isRegistered(String pluginName)</text><ellipse cx="66" cy="366.0391" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="212" x="75" y="370.458">boolean unregisterPlugin(String pluginName)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="78" y="384.2939"/><ellipse cx="66" cy="393.7109" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="75" y="398.1299">ReaderPlugin getPlugin(String name)</text><ellipse cx="66" cy="407.5469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="75" y="411.9658">Map&lt;String, ReaderPlugin&gt; getPlugins()</text><!--MD5=[5c68026ea752d2e8f1e184b2d7c89ced]
class PluginFactory--><rect fill="#FEFECE" height="75.6719" id="PluginFactory" style="stroke: #D4AC0D; stroke-width: 1.5;" width="184" x="38" y="523.5"/><ellipse cx="82.75" cy="539.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M83.75,536.5 L83.75,542.5 L85.75,542.5 L86.2344,542.5 L86.75,543.125 L86.75,543.5 L86.75,543.875 L86.2344,544.5 L85.75,544.5 L79.75,544.5 L79.2656,544.5 L78.75,543.875 L78.75,543.5 L78.75,543.125 L79.2656,542.5 L79.75,542.5 L81.75,542.5 L81.75,536.5 L79.75,536.5 L79.2656,536.5 L78.75,535.875 L78.75,535.5 L78.75,535.125 L79.2656,534.5 L79.75,534.5 L85.75,534.5 L86.2344,534.5 L86.75,535.125 L86.75,535.5 L86.75,535.875 L86.2344,536.5 L85.75,536.5 L83.75,536.5 Z "/><ellipse cx="108.25" cy="539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="75" x="114.25" y="544.4102">PluginFactory</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="39" x2="221" y1="555.5" y2="555.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="39" x2="221" y1="563.5" y2="563.5"/><ellipse cx="49" cy="574.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="58" y="578.9189">String getPluginName()</text><ellipse cx="49" cy="588.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="58" y="592.7549">ReaderPlugin getPluginInstance()</text><!--MD5=[a0e88443257adb8def549c32ec694d43]
class ReaderPlugin--><rect fill="#FEFECE" height="117.1797" id="ReaderPlugin" style="stroke: #D4AC0D; stroke-width: 1.5;" width="217" x="301.5" y="503"/><ellipse cx="362.25" cy="519" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M363.25,516 L363.25,522 L365.25,522 L365.7344,522 L366.25,522.625 L366.25,523 L366.25,523.375 L365.7344,524 L365.25,524 L359.25,524 L358.7656,524 L358.25,523.375 L358.25,523 L358.25,522.625 L358.7656,522 L359.25,522 L361.25,522 L361.25,516 L359.25,516 L358.7656,516 L358.25,515.375 L358.25,515 L358.25,514.625 L358.7656,514 L359.25,514 L365.25,514 L365.7344,514 L366.25,514.625 L366.25,515 L366.25,515.375 L365.7344,516 L365.25,516 L363.25,516 Z "/><ellipse cx="387.75" cy="518.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="76" x="393.75" y="523.9102">ReaderPlugin</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="302.5" x2="517.5" y1="535" y2="535"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="302.5" x2="517.5" y1="543" y2="543"/><ellipse cx="312.5" cy="554" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="321.5" y="558.4189">String getName()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="324.5" y="572.2549"/><ellipse cx="312.5" cy="581.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="191" x="321.5" y="586.0908">Map&lt;String, CardReader&gt; getReaders()</text><ellipse cx="312.5" cy="595.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="321.5" y="599.9268">Set&lt;String&gt; getReaderNames()</text><ellipse cx="312.5" cy="609.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="321.5" y="613.7627">CardReader getReader(String name)</text><!--MD5=[9b9eb2a75cf02134ca888acb9ec1b2e1]
class CardReader--><rect fill="#FEFECE" height="131.0156" id="CardReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="360" x="598" y="496"/><ellipse cx="734.25" cy="512" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M735.25,509 L735.25,515 L737.25,515 L737.7344,515 L738.25,515.625 L738.25,516 L738.25,516.375 L737.7344,517 L737.25,517 L731.25,517 L730.7656,517 L730.25,516.375 L730.25,516 L730.25,515.625 L730.7656,515 L731.25,515 L733.25,515 L733.25,509 L731.25,509 L730.7656,509 L730.25,508.375 L730.25,508 L730.25,507.625 L730.7656,507 L731.25,507 L737.25,507 L737.7344,507 L738.25,507.625 L738.25,508 L738.25,508.375 L737.7344,509 L737.25,509 L735.25,509 Z "/><ellipse cx="759.75" cy="511.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="68" x="765.75" y="516.9102">CardReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="599" x2="957" y1="528" y2="528"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="599" x2="957" y1="536" y2="536"/><ellipse cx="609" cy="547" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="618" y="551.4189">String getName()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="621" y="565.2549"/><ellipse cx="609" cy="574.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="618" y="579.0908">boolean isCardPresent()</text><ellipse cx="609" cy="588.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="334" x="618" y="592.9268">activateProtocol(String applicationReference, String pluginReference)</text><ellipse cx="609" cy="602.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="618" y="606.7627">deactivateProtocol(String applicationReference)</text><ellipse cx="609" cy="616.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="618" y="620.5986">boolean isContactlessTransmission()</text><!--MD5=[273228bd21fa37477fe0813cbe95870a]
class SpecificPluginFactory--><rect fill="#FEFECE" height="75.6719" id="SpecificPluginFactory" style="stroke: #D4AC0D; stroke-width: 1.5;" width="187" x="63.5" y="747"/><ellipse cx="78.5" cy="763" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M80.5,759.5 Q80.7031,759 80.9375,758.75 Q81.1719,758.5 81.4375,758.5 Q81.9063,758.5 82.2031,758.7813 Q82.5,759.0625 82.5,759.7188 L82.5,761.2813 Q82.5,761.9375 82.2188,762.2188 Q81.9375,762.5 81.5,762.5 Q81.1094,762.5 80.8594,762.3281 Q80.6094,762.1563 80.5,761.7031 Q80.4531,761.3906 80.2813,761.2188 Q79.9688,760.8906 79.4063,760.7031 Q78.8438,760.5 78.2813,760.5 Q77.5781,760.5 76.9844,760.7813 Q76.4063,761.0625 75.9531,761.6875 Q75.5,762.3125 75.5,763.1719 L75.5,764.0938 Q75.5,765.125 76.3438,765.8125 Q77.1875,766.5 78.6875,766.5 Q79.5781,766.5 80.2031,766.2969 Q80.5625,766.1875 80.9688,765.8281 Q81.2344,765.625 81.375,765.5625 Q81.5156,765.5 81.6875,765.5 Q82.0156,765.5 82.25,765.7656 Q82.5,766.0156 82.5,766.375 Q82.5,766.7188 82.1563,767.125 Q81.6563,767.7188 80.8594,768.0469 Q79.8125,768.5 78.5313,768.5 Q77.0313,768.5 75.8281,767.9063 Q74.8594,767.4375 74.1719,766.4219 Q73.5,765.4063 73.5,764.2031 L73.5,763.1094 Q73.5,761.8594 74.0938,760.7656 Q74.7031,759.6719 75.75,759.0938 Q76.8125,758.5 78,758.5 Q78.7188,758.5 79.3438,758.75 Q79.9688,759 80.5,759.5 Z "/><ellipse cx="97.5" cy="762.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="103.5" y="767.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="117" x="130.5" y="767.9102">SpecificPluginFactory</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="64.5" x2="249.5" y1="779" y2="779"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="64.5" x2="249.5" y1="787" y2="787"/><polygon fill="#FFFF44" points="74.5,793,78.5,797,74.5,801,70.5,797" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="83.5" y="802.4189">String getPluginName()</text><polygon fill="#FFFF44" points="74.5,806.8359,78.5,810.8359,74.5,814.8359,70.5,810.8359" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="83.5" y="816.2549">ReaderPlugin getPluginInstance()</text><!--MD5=[0f8b8cab079f94c46492aeaa0dde1551]
class SpecificPlugin--><rect fill="#FEFECE" height="111.5313" id="SpecificPlugin" style="stroke: #D4AC0D; stroke-width: 1.5;" width="160" x="330" y="729"/><ellipse cx="362.55" cy="749.0938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M364.55,745.5938 Q364.7531,745.0938 364.9875,744.8438 Q365.2219,744.5938 365.4875,744.5938 Q365.9563,744.5938 366.2531,744.875 Q366.55,745.1563 366.55,745.8125 L366.55,747.375 Q366.55,748.0313 366.2688,748.3125 Q365.9875,748.5938 365.55,748.5938 Q365.1594,748.5938 364.9094,748.4219 Q364.6594,748.25 364.55,747.7969 Q364.5031,747.4844 364.3313,747.3125 Q364.0188,746.9844 363.4563,746.7969 Q362.8938,746.5938 362.3313,746.5938 Q361.6281,746.5938 361.0344,746.875 Q360.4563,747.1563 360.0031,747.7813 Q359.55,748.4063 359.55,749.2656 L359.55,750.1875 Q359.55,751.2188 360.3938,751.9063 Q361.2375,752.5938 362.7375,752.5938 Q363.6281,752.5938 364.2531,752.3906 Q364.6125,752.2813 365.0188,751.9219 Q365.2844,751.7188 365.425,751.6563 Q365.5656,751.5938 365.7375,751.5938 Q366.0656,751.5938 366.3,751.8594 Q366.55,752.1094 366.55,752.4688 Q366.55,752.8125 366.2063,753.2188 Q365.7063,753.8125 364.9094,754.1406 Q363.8625,754.5938 362.5813,754.5938 Q361.0813,754.5938 359.8781,754 Q358.9094,753.5313 358.2219,752.5156 Q357.55,751.5 357.55,750.2969 L357.55,749.2031 Q357.55,747.9531 358.1438,746.8594 Q358.7531,745.7656 359.8,745.1875 Q360.8625,744.5938 362.05,744.5938 Q362.7688,744.5938 363.3938,744.8438 Q364.0188,745.0938 364.55,745.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="391.95" y="746.457">«Singleton»</text><polygon fill="#4177AF" points="385.45,752.1406,381.45,758.1406,389.45,758.1406" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="391.45" y="761.5508">SpecificPlugin</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="331" x2="489" y1="769.1875" y2="769.1875"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="338" y="777.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="350" y="784.6064">String name</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="331" x2="489" y1="791.0234" y2="791.0234"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="338" y="799.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="350" y="806.4424">SpecificPlugin()</text><ellipse cx="341" cy="815.8594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="134" x="350" y="820.2783">SpecificPlugin getInstance()</text><ellipse cx="341" cy="829.6953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="350" y="834.1143">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="376" y="834.1143">String getName()</text><!--MD5=[4ab0a37e4eea002adccb7015b38062eb]
class SpecificReader--><rect fill="#FEFECE" height="89.5078" id="SpecificReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="133" x="569.5" y="740"/><ellipse cx="587.2" cy="756" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M589.2,752.5 Q589.4031,752 589.6375,751.75 Q589.8719,751.5 590.1375,751.5 Q590.6063,751.5 590.9031,751.7813 Q591.2,752.0625 591.2,752.7188 L591.2,754.2813 Q591.2,754.9375 590.9188,755.2188 Q590.6375,755.5 590.2,755.5 Q589.8094,755.5 589.5594,755.3281 Q589.3094,755.1563 589.2,754.7031 Q589.1531,754.3906 588.9813,754.2188 Q588.6688,753.8906 588.1063,753.7031 Q587.5438,753.5 586.9813,753.5 Q586.2781,753.5 585.6844,753.7813 Q585.1063,754.0625 584.6531,754.6875 Q584.2,755.3125 584.2,756.1719 L584.2,757.0938 Q584.2,758.125 585.0438,758.8125 Q585.8875,759.5 587.3875,759.5 Q588.2781,759.5 588.9031,759.2969 Q589.2625,759.1875 589.6688,758.8281 Q589.9344,758.625 590.075,758.5625 Q590.2156,758.5 590.3875,758.5 Q590.7156,758.5 590.95,758.7656 Q591.2,759.0156 591.2,759.375 Q591.2,759.7188 590.8563,760.125 Q590.3563,760.7188 589.5594,761.0469 Q588.5125,761.5 587.2313,761.5 Q585.7313,761.5 584.5281,760.9063 Q583.5594,760.4375 582.8719,759.4219 Q582.2,758.4063 582.2,757.2031 L582.2,756.1094 Q582.2,754.8594 582.7938,753.7656 Q583.4031,752.6719 584.45,752.0938 Q585.5125,751.5 586.7,751.5 Q587.4188,751.5 588.0438,751.75 Q588.6688,752 589.2,752.5 Z "/><polygon fill="#4177AF" points="606.8,751.5,602.8,757.5,610.8,757.5" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="612.8" y="760.9102">SpecificReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="570.5" x2="701.5" y1="772" y2="772"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="577.5" y="780"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="589.5" y="787.4189">String name</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="570.5" x2="701.5" y1="793.8359" y2="793.8359"/><polygon fill="#FFFF44" points="580.5,799.8359,584.5,803.8359,580.5,807.8359,576.5,803.8359" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="589.5" y="809.2549">SpecificReader()</text><ellipse cx="580.5" cy="818.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="589.5" y="823.0908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="615.5" y="823.0908">String getName()</text><!--MD5=[d1af863b55555745ec193cfe701b813f]
link SmartCardService to ReaderPlugin--><path d="M298.1802,427.2398 C298.1802,427.2398 336.322,472.695 353.074,492.658 " fill="none" id="SmartCardService-ReaderPlugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="361.635,502.861,358.9136,493.3956,358.4209,499.0309,352.7855,498.5382,361.635,502.861" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="358.4209" x2="353.2785" y1="499.0309" y2="492.902"/><polygon fill="#A80036" points="290.467,418.047,291.2593,425.2144,298.1802,427.2398,297.3878,420.0723,290.467,418.047" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="327" y="462.4951">plugins</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="289.5599" y="439.7694">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="350.4358" y="492.245">*</text><!--MD5=[d167ff648091ea09406113fbeea757b8]
link ReaderPlugin to CardReader--><path d="M530.918,561.5 C530.918,561.5 566.863,561.5 584.842,561.5 " fill="none" id="ReaderPlugin-CardReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="597.944,561.5,588.944,557.5,592.944,561.5,588.944,565.5,597.944,561.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="592.944" x2="584.944" y1="561.5" y2="561.5"/><polygon fill="#A80036" points="518.918,561.5,524.918,565.5,530.918,561.5,524.918,557.5,518.918,561.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="536.75" y="554.9951">readers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="526.4711" y="558.4634">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="585.2424" y="558.6647">*</text><!--MD5=[169f3a4aaac3ff91cd94e29fee6ff850]
link SmartCardService to PluginFactory--><path d="M169.4762,429.5365 C169.4762,429.5365 151.977,487.588 144.993,510.758 " fill="none" id="SmartCardService-PluginFactory" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="141.19,523.378,147.6169,515.9151,142.6328,518.5907,139.9573,513.6066,141.19,523.378" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="142.6328" x2="144.9415" y1="518.5907" y2="510.931"/><polygon fill="#A80036" points="172.939,418.047,167.3778,422.6375,169.4762,429.5365,175.0374,424.946,172.939,418.047" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="164" y="462.4951">registers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="163.4009" y="439.7694">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="137.7379" y="512.7182">*</text><!--MD5=[8119e6da521221a00c7048597420cfa4]
link PluginFactory to ReaderPlugin--><path d="M222.07,561.5 C245.731,561.5 271.468,561.5 296.09,561.5 " fill="none" id="PluginFactory-&gt;ReaderPlugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="301.326,561.5,292.326,557.5,296.326,561.5,292.326,565.5,301.326,561.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="240.25" y="554.9951">creates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="229.9844" y="558.3608">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="286.4388" y="558.4387">1</text><!--MD5=[606af266cb1c3ee5489afec7c4e81055]
link SpecificPluginFactory to SpecificPlugin--><path d="M250.848,785 C275.005,785 300.868,785 324.572,785 " fill="none" id="SpecificPluginFactory-&gt;SpecificPlugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="329.596,785,320.596,781,324.596,785,320.596,789,329.596,785" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="268.75" y="778.4951">creates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="258.6054" y="781.8847">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="315.1233" y="781.8191">1</text><!--MD5=[c0f848f1ce686e4cacbc8a0551faf0fe]
link SpecificPlugin to SpecificReader--><path d="M502.315,785 C502.315,785 539.219,785 556.27,785 " fill="none" id="SpecificPlugin-SpecificReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="569.367,785,560.367,781,564.367,785,560.367,789,569.367,785" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="564.367" x2="556.367" y1="785" y2="784.9999"/><polygon fill="#A80036" points="490.315,785,496.315,789,502.315,785,496.315,781,490.315,785" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="508.25" y="778.4951">readers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="498.0417" y="781.7954">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="556.3735" y="781.6189">*</text><!--MD5=[4c2db7e77e4167a5f3a0737590b2dd9f]
link SpecificTerminal to SmartCardService--><path d="M204,108.117 C204,131.154 204,168.243 204,204.576 " fill="none" id="SpecificTerminal-&gt;SmartCardService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="204,209.929,208,200.929,204,204.929,200,200.929,204,209.929" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="205" y="154.4951">uses</text><polygon fill="#000000" points="214.5,163.3516,217.5,169.3516,220.5,163.3516,214.5,163.3516" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[136abeb6498542290e7ac248186897f6]
reverse link PluginFactory to SpecificPluginFactory--><path d="M136.95,619.519 C141.834,659.582 148.227,712.025 152.466,746.805 " fill="none" id="PluginFactory&lt;-SpecificPluginFactory" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="129.991,620.274,134.519,599.574,143.888,618.58,129.991,620.274" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="145" y="673.4951">implements</text><!--MD5=[7c148b1c73f50606d6f270d6e2289f39]
reverse link ReaderPlugin to SpecificPlugin--><path d="M410,640.219 C410,669.499 410,702.17 410,728.96 " fill="none" id="ReaderPlugin&lt;-SpecificPlugin" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="403,640.118,410,620.118,417,640.118,403,640.118" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="411" y="673.4951">implements</text><!--MD5=[4b262d126838630039a48f2b6d2b1ce7]
reverse link CardReader to SpecificReader--><path d="M725.608,644.224 C704.825,676.642 681.754,712.63 664.227,739.97 " fill="none" id="CardReader&lt;-SpecificReader" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="719.859,640.222,736.546,627.162,731.645,647.777,719.859,640.222" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="716" y="673.4951">implements</text><!--MD5=[a05e56ee3a9666b1fa43df0b21f598ac]
@startuml
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam shadowing false

skinparam StateBorderColor #D4AC0D
skinparam ActivityBorderColor #D4AC0D

skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #EAFAF1
skinparam ClassBorderColor<<green>> #2ECC71
hide <<green>> stereotype

skinparam ClassBackgroundColor<<orange>> #FDF2E9
skinparam ClassBorderColor<<orange>> #E67E22
hide <<orange>> stereotype

skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

package external.terminalapplication #3399FF {
  class SpecificTerminal
}

package org.eclipse.keyple.core.reader #FFFFFF {
+class "<b>final</b> SmartCardService" as SmartCardService << Singleton >> {
  -<b>final</b> {static}SmartCardService uniqueInstance
  -<b>final</b> ConcurrentMap<String, ReaderPlugin> plugins
  +{static}SmartCardService getInstance()
  +String getVersion()

  +ReaderPlugin registerPlugin(PluginFactory pluginFactory)
  +boolean isRegistered(String pluginName)
  +boolean unregisterPlugin(String pluginName)

  +ReaderPlugin getPlugin(String name)
  +Map<String, ReaderPlugin> getPlugins()
}
+interface PluginFactory {
  +String getPluginName()
  +ReaderPlugin getPluginInstance()
}
+interface ReaderPlugin {
  +String getName()

  +Map<String, CardReader> getReaders()
  +Set<String> getReaderNames()
  +CardReader getReader(String name)
}
+interface CardReader {
  +String getName()

  +boolean isCardPresent()
  +activateProtocol(String applicationReference, String pluginReference)
  +deactivateProtocol(String applicationReference)
  +boolean isContactlessTransmission()
}

  SmartCardService "1" *-down-> "*" ReaderPlugin : plugins
  ReaderPlugin "1" *-right-> "*" CardReader : readers

  SmartCardService "1" *- -> "*" PluginFactory : registers
  PluginFactory "1" -right-> "1" ReaderPlugin : creates
}

package plugin.specific #D7BDE2 {
  +class "<b>final</b> SpecificPluginFactory" as SpecificPluginFactory {
    #String getPluginName()
    #ReaderPlugin getPluginInstance()
  }

  ~class SpecificPlugin << Singleton >> {
    -String name
    -SpecificPlugin()
    +{static} SpecificPlugin getInstance()
    +<b>final</b> String getName()
  }

  ~class SpecificReader {
    -String name
    #SpecificReader()
    +<b>final</b> String getName()
  }

  SpecificPluginFactory "1" -right-> "1" SpecificPlugin : creates
  SpecificPlugin "1" *-right-> "*" SpecificReader : readers
}

SpecificTerminal -down-> SmartCardService : uses >

PluginFactory <|.down. SpecificPluginFactory : implements
ReaderPlugin <|.. SpecificPlugin : implements
CardReader <|.. SpecificReader : implements
@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>