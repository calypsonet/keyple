<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1736px" preserveAspectRatio="none" style="width:1293px;height:1736px;" version="1.1" viewBox="0 0 1293 1736" width="1293px" zoomAndPan="magnify"><defs/><g><!--MD5=[c3c915b379c717332e210d38dcd6e8a2]
cluster org.eclipse.keyple.core--><polygon fill="#FFFFFF" points="22,24.5,193,24.5,200,48.1094,1271,48.1094,1271,1724,22,1724,22,24.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="200" y1="48.1094" y2="48.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="26" y="41.0332">org.eclipse.keyple.core</text><!--MD5=[5a3d2abf109d9ee3e5aa1fa7d87bd15e]
cluster reader_even--><polygon fill="#FFFFFF" points="182,68.5,235,68.5,242,92.1094,1138,92.1094,1138,254,182,254,182,68.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="182" x2="242" y1="92.1094" y2="92.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="186" y="85.0332">reader</text><!--MD5=[2e31800f208179cab94650aeb782e4d8]
cluster event--><polygon fill="#FFFFFF" points="577,112.5,624,112.5,631,136.1094,1114,136.1094,1114,212.5,577,212.5,577,112.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="577" x2="631" y1="136.1094" y2="136.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="41" x="581" y="129.0332">event</text><!--MD5=[97169c8f85b66adbe4af788cf429eaba]
cluster card.selection--><polygon fill="#FFFFFF" points="125,304,231,304,238,327.6094,1247,327.6094,1247,1700,125,1700,125,304" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="125" x2="238" y1="327.6094" y2="327.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100" x="129" y="320.5332">card.selection</text><!--MD5=[9b9eb2a75cf02134ca888acb9ec1b2e1]
class CardReader--><rect fill="#FEFECE" height="131.0156" id="CardReader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="360" x="198" y="107"/><ellipse cx="334.25" cy="123" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M335.25,120 L335.25,126 L337.25,126 L337.7344,126 L338.25,126.625 L338.25,127 L338.25,127.375 L337.7344,128 L337.25,128 L331.25,128 L330.7656,128 L330.25,127.375 L330.25,127 L330.25,126.625 L330.7656,126 L331.25,126 L333.25,126 L333.25,120 L331.25,120 L330.7656,120 L330.25,119.375 L330.25,119 L330.25,118.625 L330.7656,118 L331.25,118 L337.25,118 L337.7344,118 L338.25,118.625 L338.25,119 L338.25,119.375 L337.7344,120 L337.25,120 L335.25,120 Z "/><ellipse cx="359.75" cy="122.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="68" x="365.75" y="127.9102">CardReader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="199" x2="557" y1="139" y2="139"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="199" x2="557" y1="147" y2="147"/><ellipse cx="209" cy="158" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="218" y="162.4189">String getName()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="221" y="176.2549"/><ellipse cx="209" cy="185.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="218" y="190.0908">boolean isCardPresent()</text><ellipse cx="209" cy="199.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="334" x="218" y="203.9268">activateProtocol(String applicationReference, String pluginReference)</text><ellipse cx="209" cy="213.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="218" y="217.7627">deactivateProtocol(String applicationReference)</text><ellipse cx="209" cy="227.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="218" y="231.5986">boolean isContactlessTransmission()</text><!--MD5=[cfa5e1a9c30861ac5ad043f1201ace69]
class AbstractDefaultSelectionsRequest--><rect fill="#FEFECE" height="48" id="AbstractDefaultSelectionsRequest" style="stroke: #D4AC0D; stroke-width: 1.5;" width="230" x="868" y="148.5"/><ellipse cx="883" cy="164.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M884.75,166 L881.4531,166 L881.0156,167 L881.0156,167 L881.4844,167 L882,167.625 L882,168 L882,168.375 L881.4844,169 L881.0156,169 L879.125,169 L878.5156,169 L878,168.375 L878,168 L878,167.625 L878.5156,167 L879.125,167 L881.4375,161 L880.5625,161 L879.5156,161 L879,160.375 L879,160 L879,159.625 L879.5156,159 L880.5625,159 L884.2344,159 L886.9219,167 L887.4844,167 L887.4844,167 L888,167.625 L888,168 L888,168.375 L887.4844,169 L886.9219,169 L885.0313,169 L884.5156,169 L884,168.375 L884,168 L884,167.625 L884.5156,167 L885.0313,167 L885.0313,167 L884.75,166 Z M884.2031,164 L883,160.4219 L881.9688,164 L884.2031,164 Z "/><ellipse cx="902" cy="164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="187" x="908" y="169.4102">AbstractDefaultSelectionsRequest</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="869" x2="1097" y1="180.5" y2="180.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="869" x2="1097" y1="188.5" y2="188.5"/><!--MD5=[8f41c7e8d8e3ce316d782de639711bb6]
class AbstractDefaultSelectionsResponse--><rect fill="#FEFECE" height="48" id="AbstractDefaultSelectionsResponse" style="stroke: #D4AC0D; stroke-width: 1.5;" width="240" x="593" y="148.5"/><ellipse cx="608" cy="164.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M609.75,166 L606.4531,166 L606.0156,167 L606.0156,167 L606.4844,167 L607,167.625 L607,168 L607,168.375 L606.4844,169 L606.0156,169 L604.125,169 L603.5156,169 L603,168.375 L603,168 L603,167.625 L603.5156,167 L604.125,167 L606.4375,161 L605.5625,161 L604.5156,161 L604,160.375 L604,160 L604,159.625 L604.5156,159 L605.5625,159 L609.2344,159 L611.9219,167 L612.4844,167 L612.4844,167 L613,167.625 L613,168 L613,168.375 L612.4844,169 L611.9219,169 L610.0313,169 L609.5156,169 L609,168.375 L609,168 L609,167.625 L609.5156,167 L610.0313,167 L610.0313,167 L609.75,166 Z M609.2031,164 L608,160.4219 L606.9688,164 L609.2031,164 Z "/><ellipse cx="627" cy="164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="197" x="633" y="169.4102">AbstractDefaultSelectionsResponse</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="594" x2="832" y1="180.5" y2="180.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="594" x2="832" y1="188.5" y2="188.5"/><!--MD5=[47f0011813555fb489a606ff84d44b55]
class CardSelection--><rect fill="#FEFECE" height="186.3594" id="CardSelection" style="stroke: #D4AC0D; stroke-width: 1.5;" width="388" x="593" y="340"/><ellipse cx="724.75" cy="356" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M726.75,352.5 Q726.9531,352 727.1875,351.75 Q727.4219,351.5 727.6875,351.5 Q728.1563,351.5 728.4531,351.7813 Q728.75,352.0625 728.75,352.7188 L728.75,354.2813 Q728.75,354.9375 728.4688,355.2188 Q728.1875,355.5 727.75,355.5 Q727.3594,355.5 727.1094,355.3281 Q726.8594,355.1563 726.75,354.7031 Q726.7031,354.3906 726.5313,354.2188 Q726.2188,353.8906 725.6563,353.7031 Q725.0938,353.5 724.5313,353.5 Q723.8281,353.5 723.2344,353.7813 Q722.6563,354.0625 722.2031,354.6875 Q721.75,355.3125 721.75,356.1719 L721.75,357.0938 Q721.75,358.125 722.5938,358.8125 Q723.4375,359.5 724.9375,359.5 Q725.8281,359.5 726.4531,359.2969 Q726.8125,359.1875 727.2188,358.8281 Q727.4844,358.625 727.625,358.5625 Q727.7656,358.5 727.9375,358.5 Q728.2656,358.5 728.5,358.7656 Q728.75,359.0156 728.75,359.375 Q728.75,359.7188 728.4063,360.125 Q727.9063,360.7188 727.1094,361.0469 Q726.0625,361.5 724.7813,361.5 Q723.2813,361.5 722.0781,360.9063 Q721.1094,360.4375 720.4219,359.4219 Q719.75,358.4063 719.75,357.2031 L719.75,356.1094 Q719.75,354.8594 720.3438,353.7656 Q720.9531,352.6719 722,352.0938 Q723.0625,351.5 724.25,351.5 Q724.9688,351.5 725.5938,351.75 Q726.2188,352 726.75,352.5 Z "/><ellipse cx="750.25" cy="355.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="756.25" y="360.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="783.25" y="360.9102">CardSelection</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="594" x2="980" y1="372" y2="372"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="594" x2="980" y1="380" y2="380"/><ellipse cx="604" cy="391" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="326" x="613" y="395.4189">CardSelection(MultiSelectionProcessing multiMode = FIRST_MATCH)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="616" y="409.2549"/><ellipse cx="604" cy="418.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="362" x="613" y="423.0908">int prepareSelection(AbstractCardSelectionRequest cardSelectionRequest)</text><ellipse cx="604" cy="432.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="613" y="436.9268">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="639" y="436.9268">prepareReleaseCardChannel()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="616" y="450.7627"/><ellipse cx="604" cy="460.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="301" x="613" y="464.5986">SelectionsResult processExplicitSelection(CardReader reader)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="616" y="478.4346"/><ellipse cx="604" cy="487.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="283" x="613" y="492.2705">AbstractDefaultSelectionsRequest getSelectionOperation()</text><ellipse cx="604" cy="501.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="205" x="613" y="506.1064">SelectionsResult processDefaultSelection(</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="274" x="613" y="519.9424">AbstractDefaultSelectionsResponse selectionResponse)</text><!--MD5=[96703f6554e1741f1cdd647299667117]
class MultiSelectionProcessing--><rect fill="#FEFECE" height="75.6719" id="MultiSelectionProcessing" style="stroke: #D4AC0D; stroke-width: 1.5;" width="182" x="1049" y="395"/><ellipse cx="1064" cy="411" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M1062.5,412 L1062.5,414 L1066.5,414 L1066.5,413 L1066.5,412.5156 L1067.125,412 L1067.5,412 L1067.875,412 L1068.5,412.5156 L1068.5,413 L1068.5,416 L1060.5,416 L1060.0156,416 L1059.5,415.375 L1059.5,415 L1059.5,414.625 L1060.0156,414 L1060.5,414 L1060.5,414 L1060.5,408 L1060.5,408 L1060.0156,408 L1059.5,407.375 L1059.5,407 L1059.5,406.625 L1060.0156,406 L1060.5,406 L1068.5,406 L1068.5,409 L1068.5,409.4844 L1067.875,410 L1067.5,410 L1067.125,410 L1066.5,409.4844 L1066.5,409 L1066.5,408 L1062.5,408 L1062.5,410 L1063.5,410 L1063.5,409.5156 L1063.5,409.5156 L1064.125,409 L1064.5,409 L1064.875,409 L1065.5,409.5156 L1065.5,410 L1065.5,412 L1065.5,412.4844 L1064.875,413 L1064.875,413 L1064.5,413 L1064.125,413 L1063.5,412.4844 L1063.5,412.4844 L1063.5,412 L1062.5,412 Z "/><ellipse cx="1083" cy="410.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="139" x="1089" y="415.9102">MultiSelectionProcessing</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1050" x2="1230" y1="427" y2="427"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="1055" y="442.4189">FIRST_MATCH</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="1055" y="456.2549">PROCESS_ALL</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1050" x2="1230" y1="462.6719" y2="462.6719"/><!--MD5=[2e7ae1d767cbfa5b4ad0302129f8298d]
class AbstractCardSelectionRequest--><rect fill="#FEFECE" height="144.8516" id="AbstractCardSelectionRequest" style="stroke: #D4AC0D; stroke-width: 1.5;" width="332" x="899" y="587"/><ellipse cx="970.75" cy="603" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M972.5,604.5 L969.2031,604.5 L968.7656,605.5 L968.7656,605.5 L969.2344,605.5 L969.75,606.125 L969.75,606.5 L969.75,606.875 L969.2344,607.5 L968.7656,607.5 L966.875,607.5 L966.2656,607.5 L965.75,606.875 L965.75,606.5 L965.75,606.125 L966.2656,605.5 L966.875,605.5 L969.1875,599.5 L968.3125,599.5 L967.2656,599.5 L966.75,598.875 L966.75,598.5 L966.75,598.125 L967.2656,597.5 L968.3125,597.5 L971.9844,597.5 L974.6719,605.5 L975.2344,605.5 L975.2344,605.5 L975.75,606.125 L975.75,606.5 L975.75,606.875 L975.2344,607.5 L974.6719,607.5 L972.7813,607.5 L972.2656,607.5 L971.75,606.875 L971.75,606.5 L971.75,606.125 L972.2656,605.5 L972.7813,605.5 L972.7813,605.5 L972.5,604.5 Z M971.9531,602.5 L970.75,598.9219 L969.7188,602.5 L971.9531,602.5 Z "/><ellipse cx="996.25" cy="602.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="169" x="1002.25" y="607.9102">AbstractCardSelectionRequest</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="900" x2="1230" y1="619" y2="619"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="900" x2="1230" y1="627" y2="627"/><ellipse cx="910" cy="638" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="262" x="919" y="642.4189">AbstractCardSelectionRequest(CardSelector selector)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="922" y="656.2549"/><polygon fill="#FFFF44" points="910,660.6719,914,664.6719,910,668.6719,906,664.6719" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="919" y="670.0908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="225" x="945" y="670.0908">addApduRequest(ApduRequest apduRequest)</text><polygon fill="#4177AF" points="910,675.5078,906,681.5078,914,681.5078" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="919" y="683.9268">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="173" x="945" y="683.9268">CardRequest getSelectionRequest()</text><polygon fill="#FFFF44" points="910,688.3438,914,692.3438,910,696.3438,906,692.3438" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="306" x="919" y="697.7627">AbstractSmartCard parse(CardResponse selectionResponse)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="922" y="711.5986"/><ellipse cx="910" cy="721.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="919" y="725.4346">CardSelector getCardSelector()</text><!--MD5=[76ebe7b74ec75e348fd93ad9fc9a7513]
class AbstractSmartCard--><rect fill="#FEFECE" height="131.0156" id="AbstractSmartCard" style="stroke: #D4AC0D; stroke-width: 1.5;" width="315" x="492.5" y="594"/><ellipse cx="587.75" cy="610" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M589.5,611.5 L586.2031,611.5 L585.7656,612.5 L585.7656,612.5 L586.2344,612.5 L586.75,613.125 L586.75,613.5 L586.75,613.875 L586.2344,614.5 L585.7656,614.5 L583.875,614.5 L583.2656,614.5 L582.75,613.875 L582.75,613.5 L582.75,613.125 L583.2656,612.5 L583.875,612.5 L586.1875,606.5 L585.3125,606.5 L584.2656,606.5 L583.75,605.875 L583.75,605.5 L583.75,605.125 L584.2656,604.5 L585.3125,604.5 L588.9844,604.5 L591.6719,612.5 L592.2344,612.5 L592.2344,612.5 L592.75,613.125 L592.75,613.5 L592.75,613.875 L592.2344,614.5 L591.6719,614.5 L589.7813,614.5 L589.2656,614.5 L588.75,613.875 L588.75,613.5 L588.75,613.125 L589.2656,612.5 L589.7813,612.5 L589.7813,612.5 L589.5,611.5 Z M588.9531,609.5 L587.75,605.9219 L586.7188,609.5 L588.9531,609.5 Z "/><ellipse cx="613.25" cy="609.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="105" x="619.25" y="614.9102">AbstractSmartCard</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="493.5" x2="806.5" y1="626" y2="626"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="493.5" x2="806.5" y1="634" y2="634"/><polygon fill="#FFFF44" points="503.5,640,507.5,644,503.5,648,499.5,644" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="289" x="512.5" y="649.4189">AbstractSmartCard(SelectionResponse selectionResponse)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="515.5" y="663.2549"/><ellipse cx="503.5" cy="672.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="512.5" y="677.0908">boolean hasAtr()</text><ellipse cx="503.5" cy="686.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="512.5" y="690.9268">byte[] getAtrBytes()</text><ellipse cx="503.5" cy="700.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="512.5" y="704.7627">boolean hasFci()</text><ellipse cx="503.5" cy="714.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="512.5" y="718.5986">byte[] getFciBytes()</text><!--MD5=[1c5bcde05f4540a30724bcfc0ae65864]
class SelectionsResult--><rect fill="#FEFECE" height="186.3594" id="SelectionsResult" style="stroke: #D4AC0D; stroke-width: 1.5;" width="359" x="198.5" y="340"/><ellipse cx="307.75" cy="356" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M309.75,352.5 Q309.9531,352 310.1875,351.75 Q310.4219,351.5 310.6875,351.5 Q311.1563,351.5 311.4531,351.7813 Q311.75,352.0625 311.75,352.7188 L311.75,354.2813 Q311.75,354.9375 311.4688,355.2188 Q311.1875,355.5 310.75,355.5 Q310.3594,355.5 310.1094,355.3281 Q309.8594,355.1563 309.75,354.7031 Q309.7031,354.3906 309.5313,354.2188 Q309.2188,353.8906 308.6563,353.7031 Q308.0938,353.5 307.5313,353.5 Q306.8281,353.5 306.2344,353.7813 Q305.6563,354.0625 305.2031,354.6875 Q304.75,355.3125 304.75,356.1719 L304.75,357.0938 Q304.75,358.125 305.5938,358.8125 Q306.4375,359.5 307.9375,359.5 Q308.8281,359.5 309.4531,359.2969 Q309.8125,359.1875 310.2188,358.8281 Q310.4844,358.625 310.625,358.5625 Q310.7656,358.5 310.9375,358.5 Q311.2656,358.5 311.5,358.7656 Q311.75,359.0156 311.75,359.375 Q311.75,359.7188 311.4063,360.125 Q310.9063,360.7188 310.1094,361.0469 Q309.0625,361.5 307.7813,361.5 Q306.2813,361.5 305.0781,360.9063 Q304.1094,360.4375 303.4219,359.4219 Q302.75,358.4063 302.75,357.2031 L302.75,356.1094 Q302.75,354.8594 303.3438,353.7656 Q303.9531,352.6719 305,352.0938 Q306.0625,351.5 307.25,351.5 Q307.9688,351.5 308.5938,351.75 Q309.2188,352 309.75,352.5 Z "/><ellipse cx="333.25" cy="355.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="339.25" y="360.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="366.25" y="360.9102">SelectionsResult</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="199.5" x2="556.5" y1="372" y2="372"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="199.5" x2="556.5" y1="380" y2="380"/><polygon fill="#4177AF" points="209.5,387,205.5,393,213.5,393" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="218.5" y="395.4189">SelectionsResult()</text><polygon fill="#4177AF" points="209.5,400.8359,205.5,406.8359,213.5,406.8359" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="333" x="218.5" y="409.2549">addMatchingCard(int selectionIndex, AbstractSmartCard matchingSe)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="221.5" y="423.0908"/><ellipse cx="209.5" cy="432.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="218.5" y="436.9268">boolean hasActiveSelection()</text><ellipse cx="209.5" cy="446.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="201" x="218.5" y="450.7627">AbstractSmartCard getActiveSmartCard()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="221.5" y="464.5986"/><ellipse cx="209.5" cy="474.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="218.5" y="478.4346">int getActiveSelectionIndex()</text><ellipse cx="209.5" cy="487.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="235" x="218.5" y="492.2705">boolean hasSelectionMatched(int selectionIndex)</text><ellipse cx="209.5" cy="501.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="268" x="218.5" y="506.1064">AbstractSmartCard getMatchingCard(int selectionIndex)</text><ellipse cx="209.5" cy="515.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="283" x="218.5" y="519.9424">Map&lt;Integer, AbstractSmartCard&gt; getMatchingSelections()</text><!--MD5=[68d93de5d5ca3fa8853616903ee370e6]
class CardResource_T--><rect fill="#FEFECE" height="89.5078" id="CardResource_T" style="stroke: #D4AC0D; stroke-width: 1.5;" width="316" x="141" y="614.5"/><ellipse cx="156" cy="630.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M158,627 Q158.2031,626.5 158.4375,626.25 Q158.6719,626 158.9375,626 Q159.4063,626 159.7031,626.2813 Q160,626.5625 160,627.2188 L160,628.7813 Q160,629.4375 159.7188,629.7188 Q159.4375,630 159,630 Q158.6094,630 158.3594,629.8281 Q158.1094,629.6563 158,629.2031 Q157.9531,628.8906 157.7813,628.7188 Q157.4688,628.3906 156.9063,628.2031 Q156.3438,628 155.7813,628 Q155.0781,628 154.4844,628.2813 Q153.9063,628.5625 153.4531,629.1875 Q153,629.8125 153,630.6719 L153,631.5938 Q153,632.625 153.8438,633.3125 Q154.6875,634 156.1875,634 Q157.0781,634 157.7031,633.7969 Q158.0625,633.6875 158.4688,633.3281 Q158.7344,633.125 158.875,633.0625 Q159.0156,633 159.1875,633 Q159.5156,633 159.75,633.2656 Q160,633.5156 160,633.875 Q160,634.2188 159.6563,634.625 Q159.1563,635.2188 158.3594,635.5469 Q157.3125,636 156.0313,636 Q154.5313,636 153.3281,635.4063 Q152.3594,634.9375 151.6719,633.9219 Q151,632.9063 151,631.7031 L151,630.6094 Q151,629.3594 151.5938,628.2656 Q152.2031,627.1719 153.25,626.5938 Q154.3125,626 155.5,626 Q156.2188,626 156.8438,626.25 Q157.4688,626.5 158,627 Z "/><ellipse cx="175" cy="630" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="181" y="635.4102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81" x="208" y="635.4102">CardResource</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="163" x="297" y="611.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="161" x="298" y="624.957">T extends AbstractSmartCard</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="142" x2="456" y1="646.5" y2="646.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="142" x2="456" y1="654.5" y2="654.5"/><polygon fill="#FFFF44" points="152,660.5,156,664.5,152,668.5,148,664.5" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="208" x="161" y="669.9189">CardResource(CardReader reader, T card)</text><ellipse cx="152" cy="679.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="161" y="683.7549">CardReader getCardReader()</text><ellipse cx="152" cy="693.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="161" y="697.5908">T getSmartCard()</text><!--MD5=[d172dfe3fef1c01713438c88abcc6a2c]
class CardSelector--><rect fill="#FEFECE" height="172.5234" id="CardSelector" style="stroke: #D4AC0D; stroke-width: 1.5;" width="228" x="930" y="793"/><ellipse cx="998.25" cy="809" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M1000.25,805.5 Q1000.4531,805 1000.6875,804.75 Q1000.9219,804.5 1001.1875,804.5 Q1001.6563,804.5 1001.9531,804.7813 Q1002.25,805.0625 1002.25,805.7188 L1002.25,807.2813 Q1002.25,807.9375 1001.9688,808.2188 Q1001.6875,808.5 1001.25,808.5 Q1000.8594,808.5 1000.6094,808.3281 Q1000.3594,808.1563 1000.25,807.7031 Q1000.2031,807.3906 1000.0313,807.2188 Q999.7188,806.8906 999.1563,806.7031 Q998.5938,806.5 998.0313,806.5 Q997.3281,806.5 996.7344,806.7813 Q996.1563,807.0625 995.7031,807.6875 Q995.25,808.3125 995.25,809.1719 L995.25,810.0938 Q995.25,811.125 996.0938,811.8125 Q996.9375,812.5 998.4375,812.5 Q999.3281,812.5 999.9531,812.2969 Q1000.3125,812.1875 1000.7188,811.8281 Q1000.9844,811.625 1001.125,811.5625 Q1001.2656,811.5 1001.4375,811.5 Q1001.7656,811.5 1002,811.7656 Q1002.25,812.0156 1002.25,812.375 Q1002.25,812.7188 1001.9063,813.125 Q1001.4063,813.7188 1000.6094,814.0469 Q999.5625,814.5 998.2813,814.5 Q996.7813,814.5 995.5781,813.9063 Q994.6094,813.4375 993.9219,812.4219 Q993.25,811.4063 993.25,810.2031 L993.25,809.1094 Q993.25,807.8594 993.8438,806.7656 Q994.4531,805.6719 995.5,805.0938 Q996.5625,804.5 997.75,804.5 Q998.4688,804.5 999.0938,804.75 Q999.7188,805 1000.25,805.5 Z "/><ellipse cx="1023.75" cy="808.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="1029.75" y="813.9102">CardSelector</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="931" x2="1157" y1="825" y2="825"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="938" y="833"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="950" y="840.4189">String[0..1] cardProtocol</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="938" y="846.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="950" y="854.2549">AtrFilter[0..1] atrFilter</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="938" y="860.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="950" y="868.0908">AidSelector[0..1] aidSelector</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="931" x2="1157" y1="874.5078" y2="874.5078"/><polygon fill="#FFFF44" points="941,880.5078,945,884.5078,941,888.5078,937,884.5078" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="202" x="950" y="889.9268">CardSelector(CardSelectorBuilder builder)</text><ellipse cx="941" cy="899.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="139" x="950" y="903.7627">CardSelectorBuilder builder()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="953" y="917.5986"/><ellipse cx="941" cy="927.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="950" y="931.4346">String getCardProtocol()</text><ellipse cx="941" cy="940.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="950" y="945.2705">AtrFilter getAtrFilter()</text><ellipse cx="941" cy="954.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="950" y="959.1064">AidSelector getAidSelector()</text><!--MD5=[9bb74c6f90a85a40b37333ced13e2f4b]
class CardSelectorBuilder--><rect fill="#FEFECE" height="131.0156" id="CardSelectorBuilder" style="stroke: #D4AC0D; stroke-width: 1.5;" width="366" x="636" y="1044"/><ellipse cx="753.75" cy="1060" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M755.75,1056.5 Q755.9531,1056 756.1875,1055.75 Q756.4219,1055.5 756.6875,1055.5 Q757.1563,1055.5 757.4531,1055.7813 Q757.75,1056.0625 757.75,1056.7188 L757.75,1058.2813 Q757.75,1058.9375 757.4688,1059.2188 Q757.1875,1059.5 756.75,1059.5 Q756.3594,1059.5 756.1094,1059.3281 Q755.8594,1059.1563 755.75,1058.7031 Q755.7031,1058.3906 755.5313,1058.2188 Q755.2188,1057.8906 754.6563,1057.7031 Q754.0938,1057.5 753.5313,1057.5 Q752.8281,1057.5 752.2344,1057.7813 Q751.6563,1058.0625 751.2031,1058.6875 Q750.75,1059.3125 750.75,1060.1719 L750.75,1061.0938 Q750.75,1062.125 751.5938,1062.8125 Q752.4375,1063.5 753.9375,1063.5 Q754.8281,1063.5 755.4531,1063.2969 Q755.8125,1063.1875 756.2188,1062.8281 Q756.4844,1062.625 756.625,1062.5625 Q756.7656,1062.5 756.9375,1062.5 Q757.2656,1062.5 757.5,1062.7656 Q757.75,1063.0156 757.75,1063.375 Q757.75,1063.7188 757.4063,1064.125 Q756.9063,1064.7188 756.1094,1065.0469 Q755.0625,1065.5 753.7813,1065.5 Q752.2813,1065.5 751.0781,1064.9063 Q750.1094,1064.4375 749.4219,1063.4219 Q748.75,1062.4063 748.75,1061.2031 L748.75,1060.1094 Q748.75,1058.8594 749.3438,1057.7656 Q749.9531,1056.6719 751,1056.0938 Q752.0625,1055.5 753.25,1055.5 Q753.9688,1055.5 754.5938,1055.75 Q755.2188,1056 755.75,1056.5 Z "/><ellipse cx="779.25" cy="1059.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="785.25" y="1064.9102">CardSelectorBuilder</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="637" x2="1001" y1="1076" y2="1076"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="637" x2="1001" y1="1084" y2="1084"/><polygon fill="#FFFF44" points="647,1090,651,1094,647,1098,643,1094" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="656" y="1099.4189">CardSelectorBuilder()</text><ellipse cx="647" cy="1108.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="656" y="1113.2549">CardSelector build()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="659" y="1127.0908"/><ellipse cx="647" cy="1136.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="250" x="656" y="1140.9268">CardSelectorBuilder cardProtocol(String seProtocol)</text><ellipse cx="647" cy="1150.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="286" x="656" y="1154.7627">CardSelectorBuilder atrFilter(CardSelector.AtrFilter atrFilter)</text><ellipse cx="647" cy="1164.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="340" x="656" y="1168.5986">CardSelectorBuilder aidSelector(CardSelector.AidSelector aidSelector)</text><!--MD5=[986279e3cfc2043660398b1cf71c65a2]
class FileOccurrence--><rect fill="#FEFECE" height="103.3438" id="FileOccurrence" style="stroke: #D4AC0D; stroke-width: 1.5;" width="126" x="370" y="1539.5"/><ellipse cx="385" cy="1555.5" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M383.5,1556.5 L383.5,1558.5 L387.5,1558.5 L387.5,1557.5 L387.5,1557.0156 L388.125,1556.5 L388.5,1556.5 L388.875,1556.5 L389.5,1557.0156 L389.5,1557.5 L389.5,1560.5 L381.5,1560.5 L381.0156,1560.5 L380.5,1559.875 L380.5,1559.5 L380.5,1559.125 L381.0156,1558.5 L381.5,1558.5 L381.5,1558.5 L381.5,1552.5 L381.5,1552.5 L381.0156,1552.5 L380.5,1551.875 L380.5,1551.5 L380.5,1551.125 L381.0156,1550.5 L381.5,1550.5 L389.5,1550.5 L389.5,1553.5 L389.5,1553.9844 L388.875,1554.5 L388.5,1554.5 L388.125,1554.5 L387.5,1553.9844 L387.5,1553.5 L387.5,1552.5 L383.5,1552.5 L383.5,1554.5 L384.5,1554.5 L384.5,1554.0156 L384.5,1554.0156 L385.125,1553.5 L385.5,1553.5 L385.875,1553.5 L386.5,1554.0156 L386.5,1554.5 L386.5,1556.5 L386.5,1556.9844 L385.875,1557.5 L385.875,1557.5 L385.5,1557.5 L385.125,1557.5 L384.5,1556.9844 L384.5,1556.9844 L384.5,1556.5 L383.5,1556.5 Z "/><ellipse cx="404" cy="1555" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="83" x="410" y="1560.4102">FileOccurrence</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="371" x2="495" y1="1571.5" y2="1571.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="376" y="1586.9189">FIRST</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="376" y="1600.7549">LAST</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="26" x="376" y="1614.5908">NEXT</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="376" y="1628.4268">PREVIOUS</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="371" x2="495" y1="1634.8438" y2="1634.8438"/><!--MD5=[7db03ef0d09735de9c956eac87f10fc3]
class FileControlInformation--><rect fill="#FEFECE" height="103.3438" id="FileControlInformation" style="stroke: #D4AC0D; stroke-width: 1.5;" width="165" x="1065.5" y="1539.5"/><ellipse cx="1080.5" cy="1555.5" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M1079,1556.5 L1079,1558.5 L1083,1558.5 L1083,1557.5 L1083,1557.0156 L1083.625,1556.5 L1084,1556.5 L1084.375,1556.5 L1085,1557.0156 L1085,1557.5 L1085,1560.5 L1077,1560.5 L1076.5156,1560.5 L1076,1559.875 L1076,1559.5 L1076,1559.125 L1076.5156,1558.5 L1077,1558.5 L1077,1558.5 L1077,1552.5 L1077,1552.5 L1076.5156,1552.5 L1076,1551.875 L1076,1551.5 L1076,1551.125 L1076.5156,1550.5 L1077,1550.5 L1085,1550.5 L1085,1553.5 L1085,1553.9844 L1084.375,1554.5 L1084,1554.5 L1083.625,1554.5 L1083,1553.9844 L1083,1553.5 L1083,1552.5 L1079,1552.5 L1079,1554.5 L1080,1554.5 L1080,1554.0156 L1080,1554.0156 L1080.625,1553.5 L1081,1553.5 L1081.375,1553.5 L1082,1554.0156 L1082,1554.5 L1082,1556.5 L1082,1556.9844 L1081.375,1557.5 L1081.375,1557.5 L1081,1557.5 L1080.625,1557.5 L1080,1556.9844 L1080,1556.9844 L1080,1556.5 L1079,1556.5 Z "/><ellipse cx="1099.5" cy="1555" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="122" x="1105.5" y="1560.4102">FileControlInformation</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1066.5" x2="1229.5" y1="1571.5" y2="1571.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="15" x="1071.5" y="1586.9189">FCI</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="19" x="1071.5" y="1600.7549">FCP</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="1071.5" y="1614.5908">FMD</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="1071.5" y="1628.4268">NO_RESPONSE</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1066.5" x2="1229.5" y1="1634.8438" y2="1634.8438"/><!--MD5=[32bde9a16d1fd80730cde0df05390289]
class AtrFilter--><rect fill="#FEFECE" height="111.5313" id="AtrFilter" style="stroke: #D4AC0D; stroke-width: 1.5;" width="172" x="723" y="823.5"/><ellipse cx="765.45" cy="843.5938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M767.45,840.0938 Q767.6531,839.5938 767.8875,839.3438 Q768.1219,839.0938 768.3875,839.0938 Q768.8563,839.0938 769.1531,839.375 Q769.45,839.6563 769.45,840.3125 L769.45,841.875 Q769.45,842.5313 769.1688,842.8125 Q768.8875,843.0938 768.45,843.0938 Q768.0594,843.0938 767.8094,842.9219 Q767.5594,842.75 767.45,842.2969 Q767.4031,841.9844 767.2313,841.8125 Q766.9188,841.4844 766.3563,841.2969 Q765.7938,841.0938 765.2313,841.0938 Q764.5281,841.0938 763.9344,841.375 Q763.3563,841.6563 762.9031,842.2813 Q762.45,842.9063 762.45,843.7656 L762.45,844.6875 Q762.45,845.7188 763.2938,846.4063 Q764.1375,847.0938 765.6375,847.0938 Q766.5281,847.0938 767.1531,846.8906 Q767.5125,846.7813 767.9188,846.4219 Q768.1844,846.2188 768.325,846.1563 Q768.4656,846.0938 768.6375,846.0938 Q768.9656,846.0938 769.2,846.3594 Q769.45,846.6094 769.45,846.9688 Q769.45,847.3125 769.1063,847.7188 Q768.6063,848.3125 767.8094,848.6406 Q766.7625,849.0938 765.4813,849.0938 Q763.9813,849.0938 762.7781,848.5 Q761.8094,848.0313 761.1219,847.0156 Q760.45,846 760.45,844.7969 L760.45,843.7031 Q760.45,842.4531 761.0438,841.3594 Q761.6531,840.2656 762.7,839.6875 Q763.7625,839.0938 764.95,839.0938 Q765.6688,839.0938 766.2938,839.3438 Q766.9188,839.5938 767.45,840.0938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="42" x="804.05" y="840.957">«static»</text><ellipse cx="790.55" cy="850.6406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="796.55" y="856.0508">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="41" x="823.55" y="856.0508">AtrFilter</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="724" x2="894" y1="863.6875" y2="863.6875"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="724" x2="894" y1="871.6875" y2="871.6875"/><ellipse cx="734" cy="882.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="743" y="887.1064">AtrFilter(String atrRegex)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="746" y="900.9424"/><ellipse cx="734" cy="910.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="743" y="914.7783">String getAtrRegex()</text><ellipse cx="734" cy="924.1953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="743" y="928.6143">boolean atrMatches(byte[] atr)</text><!--MD5=[0c38ce21b8fe3613f2a22c03c2bb1923]
class AidSelector--><rect fill="#FEFECE" height="166.875" id="AidSelector" style="stroke: #D4AC0D; stroke-width: 1.5;" width="274" x="682" y="1253"/><ellipse cx="764.75" cy="1273.0938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M766.75,1269.5938 Q766.9531,1269.0938 767.1875,1268.8438 Q767.4219,1268.5938 767.6875,1268.5938 Q768.1563,1268.5938 768.4531,1268.875 Q768.75,1269.1563 768.75,1269.8125 L768.75,1271.375 Q768.75,1272.0313 768.4688,1272.3125 Q768.1875,1272.5938 767.75,1272.5938 Q767.3594,1272.5938 767.1094,1272.4219 Q766.8594,1272.25 766.75,1271.7969 Q766.7031,1271.4844 766.5313,1271.3125 Q766.2188,1270.9844 765.6563,1270.7969 Q765.0938,1270.5938 764.5313,1270.5938 Q763.8281,1270.5938 763.2344,1270.875 Q762.6563,1271.1563 762.2031,1271.7813 Q761.75,1272.4063 761.75,1273.2656 L761.75,1274.1875 Q761.75,1275.2188 762.5938,1275.9063 Q763.4375,1276.5938 764.9375,1276.5938 Q765.8281,1276.5938 766.4531,1276.3906 Q766.8125,1276.2813 767.2188,1275.9219 Q767.4844,1275.7188 767.625,1275.6563 Q767.7656,1275.5938 767.9375,1275.5938 Q768.2656,1275.5938 768.5,1275.8594 Q768.75,1276.1094 768.75,1276.4688 Q768.75,1276.8125 768.4063,1277.2188 Q767.9063,1277.8125 767.1094,1278.1406 Q766.0625,1278.5938 764.7813,1278.5938 Q763.2813,1278.5938 762.0781,1278 Q761.1094,1277.5313 760.4219,1276.5156 Q759.75,1275.5 759.75,1274.2969 L759.75,1273.2031 Q759.75,1271.9531 760.3438,1270.8594 Q760.9531,1269.7656 762,1269.1875 Q763.0625,1268.5938 764.25,1268.5938 Q764.9688,1268.5938 765.5938,1268.8438 Q766.2188,1269.0938 766.75,1269.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="42" x="814.25" y="1270.457">«static»</text><ellipse cx="790.25" cy="1280.1406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="796.25" y="1285.5508">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="823.25" y="1285.5508">AidSelector</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="683" x2="955" y1="1293.1875" y2="1293.1875"/><ellipse cx="693" cy="1304.1875" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="141" x="702" y="1308.6064">final int AID_MIN_LENGTH = 5</text><ellipse cx="693" cy="1318.0234" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="153" x="702" y="1322.4424">final int AID_MAX_LENGTH = 16</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="683" x2="955" y1="1328.8594" y2="1328.8594"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="690" y="1336.8594"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="702" y="1344.2783">AidSelector(AidSelectorBuilder builder)</text><ellipse cx="693" cy="1353.6953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="132" x="702" y="1358.1143">AidSelectorBuilder builder()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="705" y="1371.9502"/><ellipse cx="693" cy="1381.3672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="702" y="1385.7861">byte[] getAidToSelect()</text><ellipse cx="693" cy="1395.2031" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="702" y="1399.6221">boolean isSelectNext()</text><ellipse cx="693" cy="1409.0391" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="248" x="702" y="1413.458">Set&lt;Integer&gt; getSuccessfulSelectionStatusCodes()</text><!--MD5=[fee81bc52a51049c477ecaaae1e1e62b]
class AidSelectorBuilder--><rect fill="#FEFECE" height="186.3594" id="AidSelectorBuilder" style="stroke: #D4AC0D; stroke-width: 1.5;" width="434" x="564" y="1498"/><ellipse cx="720.75" cy="1514" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M722.75,1510.5 Q722.9531,1510 723.1875,1509.75 Q723.4219,1509.5 723.6875,1509.5 Q724.1563,1509.5 724.4531,1509.7813 Q724.75,1510.0625 724.75,1510.7188 L724.75,1512.2813 Q724.75,1512.9375 724.4688,1513.2188 Q724.1875,1513.5 723.75,1513.5 Q723.3594,1513.5 723.1094,1513.3281 Q722.8594,1513.1563 722.75,1512.7031 Q722.7031,1512.3906 722.5313,1512.2188 Q722.2188,1511.8906 721.6563,1511.7031 Q721.0938,1511.5 720.5313,1511.5 Q719.8281,1511.5 719.2344,1511.7813 Q718.6563,1512.0625 718.2031,1512.6875 Q717.75,1513.3125 717.75,1514.1719 L717.75,1515.0938 Q717.75,1516.125 718.5938,1516.8125 Q719.4375,1517.5 720.9375,1517.5 Q721.8281,1517.5 722.4531,1517.2969 Q722.8125,1517.1875 723.2188,1516.8281 Q723.4844,1516.625 723.625,1516.5625 Q723.7656,1516.5 723.9375,1516.5 Q724.2656,1516.5 724.5,1516.7656 Q724.75,1517.0156 724.75,1517.375 Q724.75,1517.7188 724.4063,1518.125 Q723.9063,1518.7188 723.1094,1519.0469 Q722.0625,1519.5 720.7813,1519.5 Q719.2813,1519.5 718.0781,1518.9063 Q717.1094,1518.4375 716.4219,1517.4219 Q715.75,1516.4063 715.75,1515.2031 L715.75,1514.1094 Q715.75,1512.8594 716.3438,1511.7656 Q716.9531,1510.6719 718,1510.0938 Q719.0625,1509.5 720.25,1509.5 Q720.9688,1509.5 721.5938,1509.75 Q722.2188,1510 722.75,1510.5 Z "/><ellipse cx="746.25" cy="1513.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="752.25" y="1518.9102">AidSelectorBuilder</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="565" x2="997" y1="1530" y2="1530"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="572" y="1538"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="584" y="1545.4189">byte[5..16] aidToSelect;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="572" y="1551.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="584" y="1559.2549">FileOccurrence[0..1] fileOccurrence = FIRST</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="572" y="1565.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="258" x="584" y="1573.0908">FileControlInformation[0..1] fileControlInformation = FCI</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="565" x2="997" y1="1579.5078" y2="1579.5078"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="572" y="1587.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="584" y="1594.9268">AidSelectorBuilder()</text><ellipse cx="575" cy="1604.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="584" y="1608.7627">SeSelector.AidSelector build()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="587" y="1622.5986"/><ellipse cx="575" cy="1632.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="584" y="1636.4346">AidSelectorBuilder aidToSelect(byte[] aid)</text><ellipse cx="575" cy="1645.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="201" x="584" y="1650.2705">AidSelectorBuilder aidToSelect(String aid)</text><ellipse cx="575" cy="1659.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="321" x="584" y="1664.1064">AidSelectorBuilder fileOccurrence(FileOccurrence fileOccurrence)</text><ellipse cx="575" cy="1673.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="408" x="584" y="1677.9424">AidSelectorBuilder fileControlInformation(FileControlInformation fileControlInformation)</text><!--MD5=[4e644cdced7f48592705e83a6b5d3ae8]
reverse link CardResource_T to AbstractSmartCard--><path d="M470.028,659.5 C477.502,659.5 484.975,659.5 492.449,659.5 " fill="none" id="CardResource_T&lt;-AbstractSmartCard" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="457.019,659.5,463.019,663.5,469.019,659.5,463.019,655.5,457.019,659.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="464.8426" y="656.6281">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="477.6481" y="656.6158">1</text><!--MD5=[586a947aa83e501d21655c58d71b7d83]
reverse link CardSelection to AbstractCardSelectionRequest--><path d="M911.588,534.61 C933.384,552.21 955.658,570.2 976.235,586.82 " fill="none" id="CardSelection&lt;-AbstractCardSelectionRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="901.277,526.28,903.4322,533.1615,910.6132,533.8189,908.4581,526.9374,901.277,526.28" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="903.1045" y="547.8456">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="961.8233" y="576.0208">*</text><!--MD5=[758c039bce5742a16ce4e45044533298]
link SelectionsResult to CardSelection--><path d="M557.736,433 C565.013,433 572.289,433 579.566,433 " fill="none" id="SelectionsResult-&gt;CardSelection" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="592.663,433,586.663,429,580.663,433,586.663,437,592.663,433" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="565.7827" y="430.1575">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="577.935" y="430.1825">1</text><!--MD5=[665c5a53b076da9152bdb805be561646]
reverse link SelectionsResult to AbstractSmartCard--><path d="M499.869,534.59 C524.311,554.76 549.368,575.44 571.837,593.99 " fill="none" id="SelectionsResult&lt;-AbstractSmartCard" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="489.81,526.28,491.8918,533.1841,499.0655,533.9178,496.9837,527.0137,489.81,526.28" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="491.441" y="547.8456">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="557.5103" y="583.0049">*</text><!--MD5=[beb126866b5fc0f2a3bf1d088867a513]
link AbstractSmartCard to AbstractCardSelectionRequest--><path d="M807.781,659.5 C837.575,659.5 868.821,659.5 898.862,659.5 " fill="none" id="AbstractSmartCard-AbstractCardSelectionRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="832.75,646.1758,826.75,649.1758,832.75,652.1758,832.75,646.1758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="838.75" y="652.9951">selects</text><!--MD5=[31b11aed7b6d88b43735b7f54d1facfd]
reverse link AidSelector to FileOccurrence--><path d="M668.705,1420.905 C628.434,1444.67 585.428,1471.367 547,1498 C528.71,1510.676 509.604,1525.435 492.378,1539.372 " fill="none" id="AidSelector&lt;-FileOccurrence" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="674.7748" cy="1417.3442" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="667.8747" x2="681.675" y1="1421.3924" y2="1413.296"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="670.7266" x2="678.823" y1="1410.444" y2="1424.2444"/><!--MD5=[18a6dd80f65088794a6f07d590dbbf0a]
reverse link AidSelector to FileControlInformation--><path d="M938.859,1429.489 C987.094,1466.509 1040.87,1507.78 1081.81,1539.202 " fill="none" id="AidSelector&lt;-FileControlInformation" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="933.0731" cy="1425.049" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="939.4192" x2="926.727" y1="1429.92" y2="1420.178"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="928.2021" x2="937.9441" y1="1431.3951" y2="1418.7029"/><!--MD5=[88e7d67e8d3c9d0745e36b335e282fe1]
reverse link AidSelector to AidSelectorBuilder--><path d="M794.582,1435.182 C793.639,1440.179 792.769,1445.139 792,1450 C789.561,1465.412 787.653,1481.867 786.165,1497.882 " fill="none" id="AidSelector&lt;-AidSelectorBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="796.029" cy="1427.9878" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="794.451" x2="797.607" y1="1435.8306" y2="1420.145"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="788.1862" x2="803.8718" y1="1426.4098" y2="1429.5658"/><polygon fill="#000000" points="802,1461,805,1455,808,1461,802,1461" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="793" y="1477.4951">build</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="15" x="770.9716" y="1487.003">1+</text><!--MD5=[506435df0aa778cf9ad7bff313caf67d]
link FileOccurrence to AidSelectorBuilder--><path d="M496.02,1591 C512.409,1591 531.052,1591 550.774,1591 " fill="none" id="FileOccurrence-&gt;AidSelectorBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="563.878,1591,557.878,1587,551.878,1591,557.878,1595,563.878,1591" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="514.5" y="1584.4951">set</text><polygon fill="#000000" points="535.5,1577.6758,541.5,1580.6758,535.5,1583.6758,535.5,1577.6758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="504.1159" y="1605.3705">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="548.9494" y="1588.2075">1</text><!--MD5=[a3984c5dd77c295b5e467e0fa36669ee]
reverse link AidSelectorBuilder to FileControlInformation--><path d="M1011.42,1591 C1030.38,1591 1048.62,1591 1065.26,1591 " fill="none" id="AidSelectorBuilder&lt;-FileControlInformation" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="998.198,1591,1004.198,1595,1010.198,1591,1004.198,1587,998.198,1591" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="1023.25,1577.6758,1017.25,1580.6758,1023.25,1583.6758,1023.25,1577.6758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="1029.25" y="1584.4951">set</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1006.1293" y="1588.2075">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="1035.4972" y="1605.1579">0..1</text><!--MD5=[3e847ccac6a9841965f3c48ba05566b5]
reverse link CardSelectorBuilder to AidSelector--><path d="M819,1188.314 C819,1209.112 819,1231.663 819,1252.718 " fill="none" id="CardSelectorBuilder&lt;-AidSelector" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="819,1175.277,815,1181.277,819,1187.277,823,1181.277,819,1175.277" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="824.5,1216,827.5,1210,830.5,1216,824.5,1216" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="820" y="1232.4951">set</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="796.0203" y="1242.06">0..1</text><!--MD5=[22e0a1f977e6b14a4318532d22611f8e]
link AtrFilter to CardSelectorBuilder--><path d="M811.421,935.692 C812.67,964.176 814.215,999.404 815.584,1030.608 " fill="none" id="AtrFilter-&gt;CardSelectorBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="816.158,1043.703,819.8911,1037.5334,815.6318,1031.7145,811.8988,1037.8842,816.158,1043.703" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="815" y="1010.4951">set</text><polygon fill="#000000" points="819.5,1019.3516,822.5,1025.3516,825.5,1019.3516,819.5,1019.3516" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="788.4291" y="956.6567">0..1</text><!--MD5=[1dfcb89d2c962d176fd99d4de5212cc5]
reverse link CardSelector to AidSelector--><path d="M1055.05,981.285 C1057.05,1040.914 1051.37,1116.056 1020,1175 C1004.211,1204.663 980.337,1230.755 954.495,1252.813 " fill="none" id="CardSelector&lt;-AidSelector" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="1054.7204" cy="974.0789" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1055.0807" x2="1054.36" y1="982.0708" y2="966.087"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1046.7285" x2="1062.7122" y1="974.4392" y2="973.7185"/><!--MD5=[38bb0d3cbc0cb1ee2d0afa90d334fcf9]
link AtrFilter to CardSelector--><path d="M895.289,879.5 C901.77,879.5 908.25,879.5 914.731,879.5 " fill="none" id="AtrFilter-&gt;CardSelector" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="921.853" cy="879.5" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="913.853" x2="929.853" y1="879.5" y2="879.5"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="921.853" x2="921.853" y1="871.5" y2="887.5"/><!--MD5=[58002d5c440144b8906b4e6a92d74e32]
reverse link CardSelector to CardSelectorBuilder--><path d="M948.741,977.029 C926.482,999.585 903.3,1023.076 882.794,1043.855 " fill="none" id="CardSelector&lt;-CardSelectorBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="953.9586" cy="971.7411" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="948.3392" x2="959.578" y1="977.4351" y2="966.047"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="948.2645" x2="959.6527" y1="966.1217" y2="977.3605"/><polygon fill="#000000" points="934,1007,937,1001,940,1007,934,1007" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="925" y="1023.4951">build</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="15" x="873.9512" y="1033.3136">1+</text><!--MD5=[a3860f67efd6ce8b13ac43b9a2d19d44]
link CardSelection to MultiSelectionProcessing--><path d="M981.055,433 C1004.606,433 1027.74,433 1048.74,433 " fill="none" id="CardSelection-MultiSelectionProcessing" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="999.5" y="426.4951">set</text><polygon fill="#000000" points="1020.5,419.6758,1026.5,422.6758,1020.5,425.6758,1020.5,419.6758" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[a731461853316cfc157bfa5c235d36fd]
reverse link AbstractCardSelectionRequest to CardSelector--><path d="M1056.8,745.583 C1055.31,761.068 1053.76,777.23 1052.26,792.734 " fill="none" id="AbstractCardSelectionRequest&lt;-CardSelector" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1058.09,732.18,1053.533,737.7687,1056.939,744.1247,1061.4961,738.536,1058.09,732.18" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1050.0978" y="753.3888">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1045.6691" y="782.1207">1</text><!--MD5=[e7594d542f61776652a84c70355b9288]
link CardReader to CardSelection--><path d="M482.455,238.07 C512.393,256.68 545.035,277.07 575,296 C597.367,310.13 621.003,325.17 644.058,339.91 " fill="none" id="CardReader-CardSelection" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="560" y="284.4951">sends</text><polygon fill="#000000" points="598,277.6758,604,280.6758,598,283.6758,598,277.6758" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[61f2405c5909efc33a6a9019a7d544e6]
link AbstractDefaultSelectionsRequest to CardSelection--><path d="M965.261,196.9 C940.901,229.02 895.7,288.64 856.91,339.8 " fill="none" id="AbstractDefaultSelectionsRequest-CardSelection" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="926,281,929,275,932,281,926,281" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="909" y="297.4951">exports</text><!--MD5=[b42ad51c7a6d4ef47440143516884214]
link AbstractDefaultSelectionsResponse to CardSelection--><path d="M719.698,196.9 C728.894,229.02 745.96,288.64 760.605,339.8 " fill="none" id="AbstractDefaultSelectionsResponse-CardSelection" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="763,281,766,275,769,281,763,281" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="746" y="297.4951">imports</text><!--MD5=[9fcb9c2399b145b38deeaf9fa28a2eca]
link CardReader to SelectionsResult--><path d="M378,238.06 C378,268.87 378,306.28 378,340 " fill="none" id="CardReader-SelectionsResult" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="379" y="284.4951">receives</text><polygon fill="#000000" points="398,293.3516,401,299.3516,404,293.3516,398,293.3516" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[bdd6a44320dfddbf6264c146e1a1ac24]
link CardReader to CardResource_T--><path d="M197.759,213.5 C155.836,231.63 116.154,257.91 91,296 C34.6648,381.3 41.8306,436.38 91,526 C110.012,560.65 142.359,587.54 175.953,607.76 " fill="none" id="CardReader-&gt;CardResource_T" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="187.375,614.37,184.1822,607.9042,176.9858,608.3646,180.1786,614.8303,187.375,614.37" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="125,435,128,429,131,435,125,435" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="92" y="451.4951">connected to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="168.2886" y="212.2907">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="162.7465" y="603.7942">1</text><!--MD5=[ee54545f4b3e207ea05d8065d0fcd8bc]
@startuml
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam shadowing false

skinparam StateBorderColor #D4AC0D
skinparam ActivityBorderColor #D4AC0D

skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #EAFAF1
skinparam ClassBorderColor<<green>> #2ECC71
hide <<green>> stereotype

skinparam ClassBackgroundColor<<orange>> #FDF2E9
skinparam ClassBorderColor<<orange>> #E67E22
hide <<orange>> stereotype

skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

package org.eclipse.keyple.core #FFFFFF {
  package "reader" as reader_even #FFFFFF {
+interface CardReader {
  +String getName()

  +boolean isCardPresent()
  +activateProtocol(String applicationReference, String pluginReference)
  +deactivateProtocol(String applicationReference)
  +boolean isContactlessTransmission()
}

    package event #FFFFFF {
+abstract AbstractDefaultSelectionsRequest {
}

+abstract AbstractDefaultSelectionsResponse {
}
    }
  }

  package card.selection #FFFFFF {
+class "<b>final</b> CardSelection" as CardSelection {
  +CardSelection(MultiSelectionProcessing multiMode = FIRST_MATCH)

  +int prepareSelection(AbstractCardSelectionRequest cardSelectionRequest)
  +<b>final</b> prepareReleaseCardChannel()

  +SelectionsResult processExplicitSelection(CardReader reader)

  +AbstractDefaultSelectionsRequest getSelectionOperation()
  +SelectionsResult processDefaultSelection(
    AbstractDefaultSelectionsResponse selectionResponse)
}
+enum MultiSelectionProcessing {
	FIRST_MATCH
	PROCESS_ALL
}
+abstract AbstractCardSelectionRequest {
  +AbstractCardSelectionRequest(CardSelector selector)

  #<b>final</b> addApduRequest(ApduRequest apduRequest)
  ~<b>final</b> CardRequest getSelectionRequest()
  {abstract} #AbstractSmartCard parse(CardResponse selectionResponse)

  +CardSelector getCardSelector()
}

+abstract AbstractSmartCard {
  #AbstractSmartCard(SelectionResponse selectionResponse)

  +boolean hasAtr()
  +byte[] getAtrBytes()
  +boolean hasFci()
  +byte[] getFciBytes()
}
+class "<b>final</b> SelectionsResult" as SelectionsResult {
  ~SelectionsResult()
  ~addMatchingCard(int selectionIndex, AbstractSmartCard matchingSe)

  +boolean hasActiveSelection()
  +AbstractSmartCard getActiveSmartCard()

  +int getActiveSelectionIndex()
  +boolean hasSelectionMatched(int selectionIndex)
  +AbstractSmartCard getMatchingCard(int selectionIndex)
  +Map<Integer, AbstractSmartCard> getMatchingSelections()
}
+class "<b>final</b> CardResource<T extends AbstractSmartCard>" as CardResource_T {
  #CardResource(CardReader reader, T card)
  +CardReader getCardReader()
  +T getSmartCard()
}

    CardResource_T "1" *-right- "1" AbstractSmartCard

    CardSelection "1" o-down- "*" AbstractCardSelectionRequest
    CardSelection "1" o-left- "0..1" SelectionsResult

    SelectionsResult "1" o-down- "*" AbstractSmartCard
    AbstractSmartCard -right- AbstractCardSelectionRequest : selects <


+class CardSelector {
  -String[0..1] cardProtocol
  -AtrFilter[0..1] atrFilter
  -AidSelector[0..1] aidSelector
  #CardSelector(CardSelectorBuilder builder)
  +{static}CardSelectorBuilder builder()

  +String getCardProtocol()
  +AtrFilter getAtrFilter()
  +AidSelector getAidSelector()
}
+class CardSelectorBuilder {
  #CardSelectorBuilder()
  +CardSelector build()

  +CardSelectorBuilder cardProtocol(String seProtocol)
  +CardSelectorBuilder atrFilter(CardSelector.AtrFilter atrFilter)
  +CardSelectorBuilder aidSelector(CardSelector.AidSelector aidSelector)
}


+enum FileOccurrence {
  FIRST
  LAST
  NEXT
  PREVIOUS
}

+enum FileControlInformation {
  FCI
  FCP
  FMD
  NO_RESPONSE
}
+class "<b>final</b> AtrFilter" as AtrFilter <<static>> {
  +AtrFilter(String atrRegex)

  +String getAtrRegex()
  +boolean atrMatches(byte[] atr)
}
+class "<b>final</b> AidSelector" as AidSelector <<static>> {
  +{static} final int AID_MIN_LENGTH = 5
  +{static} final int AID_MAX_LENGTH = 16

  -AidSelector(AidSelectorBuilder builder)
  +{static}AidSelectorBuilder builder()

  +byte[] getAidToSelect()
  +boolean isSelectNext()
  +Set<Integer> getSuccessfulSelectionStatusCodes()
}

+class AidSelectorBuilder {
  -byte[5..16] aidToSelect;
  -FileOccurrence[0..1] fileOccurrence = FIRST
  -FileControlInformation[0..1] fileControlInformation = FCI
  -AidSelectorBuilder()
  +SeSelector.AidSelector build()

  +AidSelectorBuilder aidToSelect(byte[] aid)
  +AidSelectorBuilder aidToSelect(String aid)
  +AidSelectorBuilder fileOccurrence(FileOccurrence fileOccurrence)
  +AidSelectorBuilder fileControlInformation(FileControlInformation fileControlInformation)
}
    AidSelector +-down- FileOccurrence
    AidSelector +-down- FileControlInformation
    AidSelector +- - "1+" AidSelectorBuilder : build <
    AidSelectorBuilder "1" *-left- "0..1" FileOccurrence : set <
    AidSelectorBuilder "1" *-right- "0..1" FileControlInformation : set <

    CardSelectorBuilder o-down- "0..1" AidSelector : set <
    CardSelectorBuilder o-up- "0..1" AtrFilter : set <

    CardSelector +- - AidSelector
    CardSelector +-left- AtrFilter
    CardSelector +- - "1+" CardSelectorBuilder : build <

    MultiSelectionProcessing -left- CardSelection : set <

    AbstractCardSelectionRequest "1" o-down- "1" CardSelector
  }

  CardSelection -up- CardReader : sends <
  CardSelection -up- AbstractDefaultSelectionsRequest : exports >
  CardSelection -up- AbstractDefaultSelectionsResponse : imports >

  SelectionsResult -up- CardReader : receives <
  CardReader "0..1" - -* "1" CardResource_T : connected to <
}
@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>