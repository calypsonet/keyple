<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1747px" preserveAspectRatio="none" style="width:1293px;height:1747px;" version="1.1" viewBox="0 0 1293 1747" width="1293px" zoomAndPan="magnify"><defs/><g><!--MD5=[c3c915b379c717332e210d38dcd6e8a2]
cluster org.eclipse.keyple.core--><polygon fill="#FFFFFF" points="22,24,193,24,200,47.6094,1271,47.6094,1271,1735,22,1735,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="200" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="26" y="40.5332">org.eclipse.keyple.core</text><!--MD5=[5a3d2abf109d9ee3e5aa1fa7d87bd15e]
cluster reader_even--><polygon fill="#FFFFFF" points="182,68,241,68,248,91.6094,1138,91.6094,1138,265,182,265,182,68" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="182" x2="248" y1="91.6094" y2="91.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="186" y="84.5332">service</text><!--MD5=[2e31800f208179cab94650aeb782e4d8]
cluster event--><polygon fill="#FFFFFF" points="577,116.5,624,116.5,631,140.1094,1114,140.1094,1114,216.5,577,216.5,577,116.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="577" x2="631" y1="140.1094" y2="140.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="41" x="581" y="133.0332">event</text><!--MD5=[97169c8f85b66adbe4af788cf429eaba]
cluster card.selection--><polygon fill="#FFFFFF" points="125,315,231,315,238,338.6094,1247,338.6094,1247,1711,125,1711,125,315" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="125" x2="238" y1="338.6094" y2="338.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100" x="129" y="331.5332">card.selection</text><!--MD5=[e86a4777f2c0372cf9fb3cd047e1466e]
class Reader--><rect fill="#FEFECE" height="144.8516" id="Reader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="360" x="198" y="104"/><ellipse cx="347.75" cy="120" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M348.75,117 L348.75,123 L350.75,123 L351.2344,123 L351.75,123.625 L351.75,124 L351.75,124.375 L351.2344,125 L350.75,125 L344.75,125 L344.2656,125 L343.75,124.375 L343.75,124 L343.75,123.625 L344.2656,123 L344.75,123 L346.75,123 L346.75,117 L344.75,117 L344.2656,117 L343.75,116.375 L343.75,116 L343.75,115.625 L344.2656,115 L344.75,115 L350.75,115 L351.2344,115 L351.75,115.625 L351.75,116 L351.75,116.375 L351.2344,117 L350.75,117 L348.75,117 Z "/><ellipse cx="373.25" cy="119.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="41" x="379.25" y="124.9102">Reader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="199" x2="557" y1="136" y2="136"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="199" x2="557" y1="144" y2="144"/><ellipse cx="209" cy="155" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="218" y="159.4189">String getName()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="221" y="173.2549"/><ellipse cx="209" cy="182.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="218" y="187.0908">boolean isCardPresent()</text><ellipse cx="209" cy="196.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="218" y="200.9268">boolean isContactlessTransmission()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="221" y="214.7627"/><ellipse cx="209" cy="224.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="334" x="218" y="228.5986">activateProtocol(String applicationReference, String pluginReference)</text><ellipse cx="209" cy="238.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="218" y="242.4346">deactivateProtocol(String applicationReference)</text><!--MD5=[cfa5e1a9c30861ac5ad043f1201ace69]
class AbstractDefaultSelectionsRequest--><rect fill="#FEFECE" height="48" id="AbstractDefaultSelectionsRequest" style="stroke: #D4AC0D; stroke-width: 1.5;" width="230" x="868" y="152.5"/><ellipse cx="883" cy="168.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M884.75,170 L881.4531,170 L881.0156,171 L881.0156,171 L881.4844,171 L882,171.625 L882,172 L882,172.375 L881.4844,173 L881.0156,173 L879.125,173 L878.5156,173 L878,172.375 L878,172 L878,171.625 L878.5156,171 L879.125,171 L881.4375,165 L880.5625,165 L879.5156,165 L879,164.375 L879,164 L879,163.625 L879.5156,163 L880.5625,163 L884.2344,163 L886.9219,171 L887.4844,171 L887.4844,171 L888,171.625 L888,172 L888,172.375 L887.4844,173 L886.9219,173 L885.0313,173 L884.5156,173 L884,172.375 L884,172 L884,171.625 L884.5156,171 L885.0313,171 L885.0313,171 L884.75,170 Z M884.2031,168 L883,164.4219 L881.9688,168 L884.2031,168 Z "/><ellipse cx="902" cy="168" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="187" x="908" y="173.4102">AbstractDefaultSelectionsRequest</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="869" x2="1097" y1="184.5" y2="184.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="869" x2="1097" y1="192.5" y2="192.5"/><!--MD5=[8f41c7e8d8e3ce316d782de639711bb6]
class AbstractDefaultSelectionsResponse--><rect fill="#FEFECE" height="48" id="AbstractDefaultSelectionsResponse" style="stroke: #D4AC0D; stroke-width: 1.5;" width="240" x="593" y="152.5"/><ellipse cx="608" cy="168.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M609.75,170 L606.4531,170 L606.0156,171 L606.0156,171 L606.4844,171 L607,171.625 L607,172 L607,172.375 L606.4844,173 L606.0156,173 L604.125,173 L603.5156,173 L603,172.375 L603,172 L603,171.625 L603.5156,171 L604.125,171 L606.4375,165 L605.5625,165 L604.5156,165 L604,164.375 L604,164 L604,163.625 L604.5156,163 L605.5625,163 L609.2344,163 L611.9219,171 L612.4844,171 L612.4844,171 L613,171.625 L613,172 L613,172.375 L612.4844,173 L611.9219,173 L610.0313,173 L609.5156,173 L609,172.375 L609,172 L609,171.625 L609.5156,171 L610.0313,171 L610.0313,171 L609.75,170 Z M609.2031,168 L608,164.4219 L606.9688,168 L609.2031,168 Z "/><ellipse cx="627" cy="168" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="197" x="633" y="173.4102">AbstractDefaultSelectionsResponse</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="594" x2="832" y1="184.5" y2="184.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="594" x2="832" y1="192.5" y2="192.5"/><!--MD5=[47f0011813555fb489a606ff84d44b55]
class CardSelection--><rect fill="#FEFECE" height="186.3594" id="CardSelection" style="stroke: #D4AC0D; stroke-width: 1.5;" width="388" x="593" y="351"/><ellipse cx="724.75" cy="367" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M726.75,363.5 Q726.9531,363 727.1875,362.75 Q727.4219,362.5 727.6875,362.5 Q728.1563,362.5 728.4531,362.7813 Q728.75,363.0625 728.75,363.7188 L728.75,365.2813 Q728.75,365.9375 728.4688,366.2188 Q728.1875,366.5 727.75,366.5 Q727.3594,366.5 727.1094,366.3281 Q726.8594,366.1563 726.75,365.7031 Q726.7031,365.3906 726.5313,365.2188 Q726.2188,364.8906 725.6563,364.7031 Q725.0938,364.5 724.5313,364.5 Q723.8281,364.5 723.2344,364.7813 Q722.6563,365.0625 722.2031,365.6875 Q721.75,366.3125 721.75,367.1719 L721.75,368.0938 Q721.75,369.125 722.5938,369.8125 Q723.4375,370.5 724.9375,370.5 Q725.8281,370.5 726.4531,370.2969 Q726.8125,370.1875 727.2188,369.8281 Q727.4844,369.625 727.625,369.5625 Q727.7656,369.5 727.9375,369.5 Q728.2656,369.5 728.5,369.7656 Q728.75,370.0156 728.75,370.375 Q728.75,370.7188 728.4063,371.125 Q727.9063,371.7188 727.1094,372.0469 Q726.0625,372.5 724.7813,372.5 Q723.2813,372.5 722.0781,371.9063 Q721.1094,371.4375 720.4219,370.4219 Q719.75,369.4063 719.75,368.2031 L719.75,367.1094 Q719.75,365.8594 720.3438,364.7656 Q720.9531,363.6719 722,363.0938 Q723.0625,362.5 724.25,362.5 Q724.9688,362.5 725.5938,362.75 Q726.2188,363 726.75,363.5 Z "/><ellipse cx="750.25" cy="366.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="756.25" y="371.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="783.25" y="371.9102">CardSelection</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="594" x2="980" y1="383" y2="383"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="594" x2="980" y1="391" y2="391"/><ellipse cx="604" cy="402" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="326" x="613" y="406.4189">CardSelection(MultiSelectionProcessing multiMode = FIRST_MATCH)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="616" y="420.2549"/><ellipse cx="604" cy="429.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="362" x="613" y="434.0908">int prepareSelection(AbstractCardSelectionRequest cardSelectionRequest)</text><ellipse cx="604" cy="443.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="613" y="447.9268">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="639" y="447.9268">prepareReleaseCardChannel()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="616" y="461.7627"/><ellipse cx="604" cy="471.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="278" x="613" y="475.5986">SelectionsResult processExplicitSelection(Reader reader)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="616" y="489.4346"/><ellipse cx="604" cy="498.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="283" x="613" y="503.2705">AbstractDefaultSelectionsRequest getSelectionOperation()</text><ellipse cx="604" cy="512.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="205" x="613" y="517.1064">SelectionsResult processDefaultSelection(</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="274" x="613" y="530.9424">AbstractDefaultSelectionsResponse selectionResponse)</text><!--MD5=[96703f6554e1741f1cdd647299667117]
class MultiSelectionProcessing--><rect fill="#FEFECE" height="75.6719" id="MultiSelectionProcessing" style="stroke: #D4AC0D; stroke-width: 1.5;" width="182" x="1049" y="406"/><ellipse cx="1064" cy="422" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M1062.5,423 L1062.5,425 L1066.5,425 L1066.5,424 L1066.5,423.5156 L1067.125,423 L1067.5,423 L1067.875,423 L1068.5,423.5156 L1068.5,424 L1068.5,427 L1060.5,427 L1060.0156,427 L1059.5,426.375 L1059.5,426 L1059.5,425.625 L1060.0156,425 L1060.5,425 L1060.5,425 L1060.5,419 L1060.5,419 L1060.0156,419 L1059.5,418.375 L1059.5,418 L1059.5,417.625 L1060.0156,417 L1060.5,417 L1068.5,417 L1068.5,420 L1068.5,420.4844 L1067.875,421 L1067.5,421 L1067.125,421 L1066.5,420.4844 L1066.5,420 L1066.5,419 L1062.5,419 L1062.5,421 L1063.5,421 L1063.5,420.5156 L1063.5,420.5156 L1064.125,420 L1064.5,420 L1064.875,420 L1065.5,420.5156 L1065.5,421 L1065.5,423 L1065.5,423.4844 L1064.875,424 L1064.875,424 L1064.5,424 L1064.125,424 L1063.5,423.4844 L1063.5,423.4844 L1063.5,423 L1062.5,423 Z "/><ellipse cx="1083" cy="421.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="139" x="1089" y="426.9102">MultiSelectionProcessing</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1050" x2="1230" y1="438" y2="438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="1055" y="453.4189">FIRST_MATCH</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="1055" y="467.2549">PROCESS_ALL</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1050" x2="1230" y1="473.6719" y2="473.6719"/><!--MD5=[2e7ae1d767cbfa5b4ad0302129f8298d]
class AbstractCardSelectionRequest--><rect fill="#FEFECE" height="144.8516" id="AbstractCardSelectionRequest" style="stroke: #D4AC0D; stroke-width: 1.5;" width="332" x="899" y="598"/><ellipse cx="970.75" cy="614" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M972.5,615.5 L969.2031,615.5 L968.7656,616.5 L968.7656,616.5 L969.2344,616.5 L969.75,617.125 L969.75,617.5 L969.75,617.875 L969.2344,618.5 L968.7656,618.5 L966.875,618.5 L966.2656,618.5 L965.75,617.875 L965.75,617.5 L965.75,617.125 L966.2656,616.5 L966.875,616.5 L969.1875,610.5 L968.3125,610.5 L967.2656,610.5 L966.75,609.875 L966.75,609.5 L966.75,609.125 L967.2656,608.5 L968.3125,608.5 L971.9844,608.5 L974.6719,616.5 L975.2344,616.5 L975.2344,616.5 L975.75,617.125 L975.75,617.5 L975.75,617.875 L975.2344,618.5 L974.6719,618.5 L972.7813,618.5 L972.2656,618.5 L971.75,617.875 L971.75,617.5 L971.75,617.125 L972.2656,616.5 L972.7813,616.5 L972.7813,616.5 L972.5,615.5 Z M971.9531,613.5 L970.75,609.9219 L969.7188,613.5 L971.9531,613.5 Z "/><ellipse cx="996.25" cy="613.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="169" x="1002.25" y="618.9102">AbstractCardSelectionRequest</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="900" x2="1230" y1="630" y2="630"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="900" x2="1230" y1="638" y2="638"/><ellipse cx="910" cy="649" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="262" x="919" y="653.4189">AbstractCardSelectionRequest(CardSelector selector)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="922" y="667.2549"/><polygon fill="#FFFF44" points="910,671.6719,914,675.6719,910,679.6719,906,675.6719" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="919" y="681.0908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="225" x="945" y="681.0908">addApduRequest(ApduRequest apduRequest)</text><polygon fill="#4177AF" points="910,686.5078,906,692.5078,914,692.5078" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="919" y="694.9268">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="173" x="945" y="694.9268">CardRequest getSelectionRequest()</text><polygon fill="#FFFF44" points="910,699.3438,914,703.3438,910,707.3438,906,703.3438" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="306" x="919" y="708.7627">AbstractSmartCard parse(CardResponse selectionResponse)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="922" y="722.5986"/><ellipse cx="910" cy="732.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="919" y="736.4346">CardSelector getCardSelector()</text><!--MD5=[76ebe7b74ec75e348fd93ad9fc9a7513]
class AbstractSmartCard--><rect fill="#FEFECE" height="131.0156" id="AbstractSmartCard" style="stroke: #D4AC0D; stroke-width: 1.5;" width="315" x="492.5" y="605"/><ellipse cx="587.75" cy="621" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M589.5,622.5 L586.2031,622.5 L585.7656,623.5 L585.7656,623.5 L586.2344,623.5 L586.75,624.125 L586.75,624.5 L586.75,624.875 L586.2344,625.5 L585.7656,625.5 L583.875,625.5 L583.2656,625.5 L582.75,624.875 L582.75,624.5 L582.75,624.125 L583.2656,623.5 L583.875,623.5 L586.1875,617.5 L585.3125,617.5 L584.2656,617.5 L583.75,616.875 L583.75,616.5 L583.75,616.125 L584.2656,615.5 L585.3125,615.5 L588.9844,615.5 L591.6719,623.5 L592.2344,623.5 L592.2344,623.5 L592.75,624.125 L592.75,624.5 L592.75,624.875 L592.2344,625.5 L591.6719,625.5 L589.7813,625.5 L589.2656,625.5 L588.75,624.875 L588.75,624.5 L588.75,624.125 L589.2656,623.5 L589.7813,623.5 L589.7813,623.5 L589.5,622.5 Z M588.9531,620.5 L587.75,616.9219 L586.7188,620.5 L588.9531,620.5 Z "/><ellipse cx="613.25" cy="620.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="105" x="619.25" y="625.9102">AbstractSmartCard</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="493.5" x2="806.5" y1="637" y2="637"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="493.5" x2="806.5" y1="645" y2="645"/><polygon fill="#FFFF44" points="503.5,651,507.5,655,503.5,659,499.5,655" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="289" x="512.5" y="660.4189">AbstractSmartCard(SelectionResponse selectionResponse)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="515.5" y="674.2549"/><ellipse cx="503.5" cy="683.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="512.5" y="688.0908">boolean hasAtr()</text><ellipse cx="503.5" cy="697.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="512.5" y="701.9268">byte[] getAtrBytes()</text><ellipse cx="503.5" cy="711.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="512.5" y="715.7627">boolean hasFci()</text><ellipse cx="503.5" cy="725.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="512.5" y="729.5986">byte[] getFciBytes()</text><!--MD5=[1c5bcde05f4540a30724bcfc0ae65864]
class SelectionsResult--><rect fill="#FEFECE" height="186.3594" id="SelectionsResult" style="stroke: #D4AC0D; stroke-width: 1.5;" width="359" x="198.5" y="351"/><ellipse cx="307.75" cy="367" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M309.75,363.5 Q309.9531,363 310.1875,362.75 Q310.4219,362.5 310.6875,362.5 Q311.1563,362.5 311.4531,362.7813 Q311.75,363.0625 311.75,363.7188 L311.75,365.2813 Q311.75,365.9375 311.4688,366.2188 Q311.1875,366.5 310.75,366.5 Q310.3594,366.5 310.1094,366.3281 Q309.8594,366.1563 309.75,365.7031 Q309.7031,365.3906 309.5313,365.2188 Q309.2188,364.8906 308.6563,364.7031 Q308.0938,364.5 307.5313,364.5 Q306.8281,364.5 306.2344,364.7813 Q305.6563,365.0625 305.2031,365.6875 Q304.75,366.3125 304.75,367.1719 L304.75,368.0938 Q304.75,369.125 305.5938,369.8125 Q306.4375,370.5 307.9375,370.5 Q308.8281,370.5 309.4531,370.2969 Q309.8125,370.1875 310.2188,369.8281 Q310.4844,369.625 310.625,369.5625 Q310.7656,369.5 310.9375,369.5 Q311.2656,369.5 311.5,369.7656 Q311.75,370.0156 311.75,370.375 Q311.75,370.7188 311.4063,371.125 Q310.9063,371.7188 310.1094,372.0469 Q309.0625,372.5 307.7813,372.5 Q306.2813,372.5 305.0781,371.9063 Q304.1094,371.4375 303.4219,370.4219 Q302.75,369.4063 302.75,368.2031 L302.75,367.1094 Q302.75,365.8594 303.3438,364.7656 Q303.9531,363.6719 305,363.0938 Q306.0625,362.5 307.25,362.5 Q307.9688,362.5 308.5938,362.75 Q309.2188,363 309.75,363.5 Z "/><ellipse cx="333.25" cy="366.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="339.25" y="371.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="366.25" y="371.9102">SelectionsResult</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="199.5" x2="556.5" y1="383" y2="383"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="199.5" x2="556.5" y1="391" y2="391"/><polygon fill="#4177AF" points="209.5,398,205.5,404,213.5,404" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="218.5" y="406.4189">SelectionsResult()</text><polygon fill="#4177AF" points="209.5,411.8359,205.5,417.8359,213.5,417.8359" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="333" x="218.5" y="420.2549">addMatchingCard(int selectionIndex, AbstractSmartCard matchingSe)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="221.5" y="434.0908"/><ellipse cx="209.5" cy="443.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="218.5" y="447.9268">boolean hasActiveSelection()</text><ellipse cx="209.5" cy="457.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="201" x="218.5" y="461.7627">AbstractSmartCard getActiveSmartCard()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="221.5" y="475.5986"/><ellipse cx="209.5" cy="485.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="218.5" y="489.4346">int getActiveSelectionIndex()</text><ellipse cx="209.5" cy="498.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="235" x="218.5" y="503.2705">boolean hasSelectionMatched(int selectionIndex)</text><ellipse cx="209.5" cy="512.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="268" x="218.5" y="517.1064">AbstractSmartCard getMatchingCard(int selectionIndex)</text><ellipse cx="209.5" cy="526.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="283" x="218.5" y="530.9424">Map&lt;Integer, AbstractSmartCard&gt; getMatchingSelections()</text><!--MD5=[68d93de5d5ca3fa8853616903ee370e6]
class CardResource_T--><rect fill="#FEFECE" height="89.5078" id="CardResource_T" style="stroke: #D4AC0D; stroke-width: 1.5;" width="316" x="141" y="625.5"/><ellipse cx="156" cy="641.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M158,638 Q158.2031,637.5 158.4375,637.25 Q158.6719,637 158.9375,637 Q159.4063,637 159.7031,637.2813 Q160,637.5625 160,638.2188 L160,639.7813 Q160,640.4375 159.7188,640.7188 Q159.4375,641 159,641 Q158.6094,641 158.3594,640.8281 Q158.1094,640.6563 158,640.2031 Q157.9531,639.8906 157.7813,639.7188 Q157.4688,639.3906 156.9063,639.2031 Q156.3438,639 155.7813,639 Q155.0781,639 154.4844,639.2813 Q153.9063,639.5625 153.4531,640.1875 Q153,640.8125 153,641.6719 L153,642.5938 Q153,643.625 153.8438,644.3125 Q154.6875,645 156.1875,645 Q157.0781,645 157.7031,644.7969 Q158.0625,644.6875 158.4688,644.3281 Q158.7344,644.125 158.875,644.0625 Q159.0156,644 159.1875,644 Q159.5156,644 159.75,644.2656 Q160,644.5156 160,644.875 Q160,645.2188 159.6563,645.625 Q159.1563,646.2188 158.3594,646.5469 Q157.3125,647 156.0313,647 Q154.5313,647 153.3281,646.4063 Q152.3594,645.9375 151.6719,644.9219 Q151,643.9063 151,642.7031 L151,641.6094 Q151,640.3594 151.5938,639.2656 Q152.2031,638.1719 153.25,637.5938 Q154.3125,637 155.5,637 Q156.2188,637 156.8438,637.25 Q157.4688,637.5 158,638 Z "/><ellipse cx="175" cy="641" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="181" y="646.4102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81" x="208" y="646.4102">CardResource</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="163" x="297" y="622.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="161" x="298" y="635.957">T extends AbstractSmartCard</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="142" x2="456" y1="657.5" y2="657.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="142" x2="456" y1="665.5" y2="665.5"/><polygon fill="#FFFF44" points="152,671.5,156,675.5,152,679.5,148,675.5" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="161" y="680.9189">CardResource(Reader reader, T card)</text><ellipse cx="152" cy="690.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="161" y="694.7549">Reader getReader()</text><ellipse cx="152" cy="704.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="161" y="708.5908">T getSmartCard()</text><!--MD5=[d172dfe3fef1c01713438c88abcc6a2c]
class CardSelector--><rect fill="#FEFECE" height="172.5234" id="CardSelector" style="stroke: #D4AC0D; stroke-width: 1.5;" width="228" x="930" y="804"/><ellipse cx="998.25" cy="820" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M1000.25,816.5 Q1000.4531,816 1000.6875,815.75 Q1000.9219,815.5 1001.1875,815.5 Q1001.6563,815.5 1001.9531,815.7813 Q1002.25,816.0625 1002.25,816.7188 L1002.25,818.2813 Q1002.25,818.9375 1001.9688,819.2188 Q1001.6875,819.5 1001.25,819.5 Q1000.8594,819.5 1000.6094,819.3281 Q1000.3594,819.1563 1000.25,818.7031 Q1000.2031,818.3906 1000.0313,818.2188 Q999.7188,817.8906 999.1563,817.7031 Q998.5938,817.5 998.0313,817.5 Q997.3281,817.5 996.7344,817.7813 Q996.1563,818.0625 995.7031,818.6875 Q995.25,819.3125 995.25,820.1719 L995.25,821.0938 Q995.25,822.125 996.0938,822.8125 Q996.9375,823.5 998.4375,823.5 Q999.3281,823.5 999.9531,823.2969 Q1000.3125,823.1875 1000.7188,822.8281 Q1000.9844,822.625 1001.125,822.5625 Q1001.2656,822.5 1001.4375,822.5 Q1001.7656,822.5 1002,822.7656 Q1002.25,823.0156 1002.25,823.375 Q1002.25,823.7188 1001.9063,824.125 Q1001.4063,824.7188 1000.6094,825.0469 Q999.5625,825.5 998.2813,825.5 Q996.7813,825.5 995.5781,824.9063 Q994.6094,824.4375 993.9219,823.4219 Q993.25,822.4063 993.25,821.2031 L993.25,820.1094 Q993.25,818.8594 993.8438,817.7656 Q994.4531,816.6719 995.5,816.0938 Q996.5625,815.5 997.75,815.5 Q998.4688,815.5 999.0938,815.75 Q999.7188,816 1000.25,816.5 Z "/><ellipse cx="1023.75" cy="819.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="1029.75" y="824.9102">CardSelector</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="931" x2="1157" y1="836" y2="836"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="938" y="844"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="950" y="851.4189">String[0..1] cardProtocol</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="938" y="857.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="950" y="865.2549">AtrFilter[0..1] atrFilter</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="938" y="871.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="950" y="879.0908">AidSelector[0..1] aidSelector</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="931" x2="1157" y1="885.5078" y2="885.5078"/><polygon fill="#FFFF44" points="941,891.5078,945,895.5078,941,899.5078,937,895.5078" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="202" x="950" y="900.9268">CardSelector(CardSelectorBuilder builder)</text><ellipse cx="941" cy="910.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="139" x="950" y="914.7627">CardSelectorBuilder builder()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="953" y="928.5986"/><ellipse cx="941" cy="938.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="950" y="942.4346">String getCardProtocol()</text><ellipse cx="941" cy="951.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="950" y="956.2705">AtrFilter getAtrFilter()</text><ellipse cx="941" cy="965.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="950" y="970.1064">AidSelector getAidSelector()</text><!--MD5=[9bb74c6f90a85a40b37333ced13e2f4b]
class CardSelectorBuilder--><rect fill="#FEFECE" height="131.0156" id="CardSelectorBuilder" style="stroke: #D4AC0D; stroke-width: 1.5;" width="366" x="636" y="1055"/><ellipse cx="753.75" cy="1071" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M755.75,1067.5 Q755.9531,1067 756.1875,1066.75 Q756.4219,1066.5 756.6875,1066.5 Q757.1563,1066.5 757.4531,1066.7813 Q757.75,1067.0625 757.75,1067.7188 L757.75,1069.2813 Q757.75,1069.9375 757.4688,1070.2188 Q757.1875,1070.5 756.75,1070.5 Q756.3594,1070.5 756.1094,1070.3281 Q755.8594,1070.1563 755.75,1069.7031 Q755.7031,1069.3906 755.5313,1069.2188 Q755.2188,1068.8906 754.6563,1068.7031 Q754.0938,1068.5 753.5313,1068.5 Q752.8281,1068.5 752.2344,1068.7813 Q751.6563,1069.0625 751.2031,1069.6875 Q750.75,1070.3125 750.75,1071.1719 L750.75,1072.0938 Q750.75,1073.125 751.5938,1073.8125 Q752.4375,1074.5 753.9375,1074.5 Q754.8281,1074.5 755.4531,1074.2969 Q755.8125,1074.1875 756.2188,1073.8281 Q756.4844,1073.625 756.625,1073.5625 Q756.7656,1073.5 756.9375,1073.5 Q757.2656,1073.5 757.5,1073.7656 Q757.75,1074.0156 757.75,1074.375 Q757.75,1074.7188 757.4063,1075.125 Q756.9063,1075.7188 756.1094,1076.0469 Q755.0625,1076.5 753.7813,1076.5 Q752.2813,1076.5 751.0781,1075.9063 Q750.1094,1075.4375 749.4219,1074.4219 Q748.75,1073.4063 748.75,1072.2031 L748.75,1071.1094 Q748.75,1069.8594 749.3438,1068.7656 Q749.9531,1067.6719 751,1067.0938 Q752.0625,1066.5 753.25,1066.5 Q753.9688,1066.5 754.5938,1066.75 Q755.2188,1067 755.75,1067.5 Z "/><ellipse cx="779.25" cy="1070.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="785.25" y="1075.9102">CardSelectorBuilder</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="637" x2="1001" y1="1087" y2="1087"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="637" x2="1001" y1="1095" y2="1095"/><polygon fill="#FFFF44" points="647,1101,651,1105,647,1109,643,1105" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="656" y="1110.4189">CardSelectorBuilder()</text><ellipse cx="647" cy="1119.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="656" y="1124.2549">CardSelector build()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="659" y="1138.0908"/><ellipse cx="647" cy="1147.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="250" x="656" y="1151.9268">CardSelectorBuilder cardProtocol(String seProtocol)</text><ellipse cx="647" cy="1161.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="286" x="656" y="1165.7627">CardSelectorBuilder atrFilter(CardSelector.AtrFilter atrFilter)</text><ellipse cx="647" cy="1175.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="340" x="656" y="1179.5986">CardSelectorBuilder aidSelector(CardSelector.AidSelector aidSelector)</text><!--MD5=[986279e3cfc2043660398b1cf71c65a2]
class FileOccurrence--><rect fill="#FEFECE" height="103.3438" id="FileOccurrence" style="stroke: #D4AC0D; stroke-width: 1.5;" width="126" x="370" y="1550.5"/><ellipse cx="385" cy="1566.5" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M383.5,1567.5 L383.5,1569.5 L387.5,1569.5 L387.5,1568.5 L387.5,1568.0156 L388.125,1567.5 L388.5,1567.5 L388.875,1567.5 L389.5,1568.0156 L389.5,1568.5 L389.5,1571.5 L381.5,1571.5 L381.0156,1571.5 L380.5,1570.875 L380.5,1570.5 L380.5,1570.125 L381.0156,1569.5 L381.5,1569.5 L381.5,1569.5 L381.5,1563.5 L381.5,1563.5 L381.0156,1563.5 L380.5,1562.875 L380.5,1562.5 L380.5,1562.125 L381.0156,1561.5 L381.5,1561.5 L389.5,1561.5 L389.5,1564.5 L389.5,1564.9844 L388.875,1565.5 L388.5,1565.5 L388.125,1565.5 L387.5,1564.9844 L387.5,1564.5 L387.5,1563.5 L383.5,1563.5 L383.5,1565.5 L384.5,1565.5 L384.5,1565.0156 L384.5,1565.0156 L385.125,1564.5 L385.5,1564.5 L385.875,1564.5 L386.5,1565.0156 L386.5,1565.5 L386.5,1567.5 L386.5,1567.9844 L385.875,1568.5 L385.875,1568.5 L385.5,1568.5 L385.125,1568.5 L384.5,1567.9844 L384.5,1567.9844 L384.5,1567.5 L383.5,1567.5 Z "/><ellipse cx="404" cy="1566" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="83" x="410" y="1571.4102">FileOccurrence</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="371" x2="495" y1="1582.5" y2="1582.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="376" y="1597.9189">FIRST</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="376" y="1611.7549">LAST</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="26" x="376" y="1625.5908">NEXT</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="376" y="1639.4268">PREVIOUS</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="371" x2="495" y1="1645.8438" y2="1645.8438"/><!--MD5=[7db03ef0d09735de9c956eac87f10fc3]
class FileControlInformation--><rect fill="#FEFECE" height="103.3438" id="FileControlInformation" style="stroke: #D4AC0D; stroke-width: 1.5;" width="165" x="1065.5" y="1550.5"/><ellipse cx="1080.5" cy="1566.5" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M1079,1567.5 L1079,1569.5 L1083,1569.5 L1083,1568.5 L1083,1568.0156 L1083.625,1567.5 L1084,1567.5 L1084.375,1567.5 L1085,1568.0156 L1085,1568.5 L1085,1571.5 L1077,1571.5 L1076.5156,1571.5 L1076,1570.875 L1076,1570.5 L1076,1570.125 L1076.5156,1569.5 L1077,1569.5 L1077,1569.5 L1077,1563.5 L1077,1563.5 L1076.5156,1563.5 L1076,1562.875 L1076,1562.5 L1076,1562.125 L1076.5156,1561.5 L1077,1561.5 L1085,1561.5 L1085,1564.5 L1085,1564.9844 L1084.375,1565.5 L1084,1565.5 L1083.625,1565.5 L1083,1564.9844 L1083,1564.5 L1083,1563.5 L1079,1563.5 L1079,1565.5 L1080,1565.5 L1080,1565.0156 L1080,1565.0156 L1080.625,1564.5 L1081,1564.5 L1081.375,1564.5 L1082,1565.0156 L1082,1565.5 L1082,1567.5 L1082,1567.9844 L1081.375,1568.5 L1081.375,1568.5 L1081,1568.5 L1080.625,1568.5 L1080,1567.9844 L1080,1567.9844 L1080,1567.5 L1079,1567.5 Z "/><ellipse cx="1099.5" cy="1566" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="122" x="1105.5" y="1571.4102">FileControlInformation</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1066.5" x2="1229.5" y1="1582.5" y2="1582.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="15" x="1071.5" y="1597.9189">FCI</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="19" x="1071.5" y="1611.7549">FCP</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="1071.5" y="1625.5908">FMD</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="1071.5" y="1639.4268">NO_RESPONSE</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1066.5" x2="1229.5" y1="1645.8438" y2="1645.8438"/><!--MD5=[32bde9a16d1fd80730cde0df05390289]
class AtrFilter--><rect fill="#FEFECE" height="111.5313" id="AtrFilter" style="stroke: #D4AC0D; stroke-width: 1.5;" width="172" x="723" y="834.5"/><ellipse cx="765.45" cy="854.5938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M767.45,851.0938 Q767.6531,850.5938 767.8875,850.3438 Q768.1219,850.0938 768.3875,850.0938 Q768.8563,850.0938 769.1531,850.375 Q769.45,850.6563 769.45,851.3125 L769.45,852.875 Q769.45,853.5313 769.1688,853.8125 Q768.8875,854.0938 768.45,854.0938 Q768.0594,854.0938 767.8094,853.9219 Q767.5594,853.75 767.45,853.2969 Q767.4031,852.9844 767.2313,852.8125 Q766.9188,852.4844 766.3563,852.2969 Q765.7938,852.0938 765.2313,852.0938 Q764.5281,852.0938 763.9344,852.375 Q763.3563,852.6563 762.9031,853.2813 Q762.45,853.9063 762.45,854.7656 L762.45,855.6875 Q762.45,856.7188 763.2938,857.4063 Q764.1375,858.0938 765.6375,858.0938 Q766.5281,858.0938 767.1531,857.8906 Q767.5125,857.7813 767.9188,857.4219 Q768.1844,857.2188 768.325,857.1563 Q768.4656,857.0938 768.6375,857.0938 Q768.9656,857.0938 769.2,857.3594 Q769.45,857.6094 769.45,857.9688 Q769.45,858.3125 769.1063,858.7188 Q768.6063,859.3125 767.8094,859.6406 Q766.7625,860.0938 765.4813,860.0938 Q763.9813,860.0938 762.7781,859.5 Q761.8094,859.0313 761.1219,858.0156 Q760.45,857 760.45,855.7969 L760.45,854.7031 Q760.45,853.4531 761.0438,852.3594 Q761.6531,851.2656 762.7,850.6875 Q763.7625,850.0938 764.95,850.0938 Q765.6688,850.0938 766.2938,850.3438 Q766.9188,850.5938 767.45,851.0938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="42" x="804.05" y="851.957">«static»</text><ellipse cx="790.55" cy="861.6406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="796.55" y="867.0508">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="41" x="823.55" y="867.0508">AtrFilter</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="724" x2="894" y1="874.6875" y2="874.6875"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="724" x2="894" y1="882.6875" y2="882.6875"/><ellipse cx="734" cy="893.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="743" y="898.1064">AtrFilter(String atrRegex)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="746" y="911.9424"/><ellipse cx="734" cy="921.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="743" y="925.7783">String getAtrRegex()</text><ellipse cx="734" cy="935.1953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="743" y="939.6143">boolean atrMatches(byte[] atr)</text><!--MD5=[0c38ce21b8fe3613f2a22c03c2bb1923]
class AidSelector--><rect fill="#FEFECE" height="166.875" id="AidSelector" style="stroke: #D4AC0D; stroke-width: 1.5;" width="274" x="682" y="1264"/><ellipse cx="764.75" cy="1284.0938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M766.75,1280.5938 Q766.9531,1280.0938 767.1875,1279.8438 Q767.4219,1279.5938 767.6875,1279.5938 Q768.1563,1279.5938 768.4531,1279.875 Q768.75,1280.1563 768.75,1280.8125 L768.75,1282.375 Q768.75,1283.0313 768.4688,1283.3125 Q768.1875,1283.5938 767.75,1283.5938 Q767.3594,1283.5938 767.1094,1283.4219 Q766.8594,1283.25 766.75,1282.7969 Q766.7031,1282.4844 766.5313,1282.3125 Q766.2188,1281.9844 765.6563,1281.7969 Q765.0938,1281.5938 764.5313,1281.5938 Q763.8281,1281.5938 763.2344,1281.875 Q762.6563,1282.1563 762.2031,1282.7813 Q761.75,1283.4063 761.75,1284.2656 L761.75,1285.1875 Q761.75,1286.2188 762.5938,1286.9063 Q763.4375,1287.5938 764.9375,1287.5938 Q765.8281,1287.5938 766.4531,1287.3906 Q766.8125,1287.2813 767.2188,1286.9219 Q767.4844,1286.7188 767.625,1286.6563 Q767.7656,1286.5938 767.9375,1286.5938 Q768.2656,1286.5938 768.5,1286.8594 Q768.75,1287.1094 768.75,1287.4688 Q768.75,1287.8125 768.4063,1288.2188 Q767.9063,1288.8125 767.1094,1289.1406 Q766.0625,1289.5938 764.7813,1289.5938 Q763.2813,1289.5938 762.0781,1289 Q761.1094,1288.5313 760.4219,1287.5156 Q759.75,1286.5 759.75,1285.2969 L759.75,1284.2031 Q759.75,1282.9531 760.3438,1281.8594 Q760.9531,1280.7656 762,1280.1875 Q763.0625,1279.5938 764.25,1279.5938 Q764.9688,1279.5938 765.5938,1279.8438 Q766.2188,1280.0938 766.75,1280.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="42" x="814.25" y="1281.457">«static»</text><ellipse cx="790.25" cy="1291.1406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="796.25" y="1296.5508">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="823.25" y="1296.5508">AidSelector</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="683" x2="955" y1="1304.1875" y2="1304.1875"/><ellipse cx="693" cy="1315.1875" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="141" x="702" y="1319.6064">final int AID_MIN_LENGTH = 5</text><ellipse cx="693" cy="1329.0234" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="153" x="702" y="1333.4424">final int AID_MAX_LENGTH = 16</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="683" x2="955" y1="1339.8594" y2="1339.8594"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="690" y="1347.8594"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="702" y="1355.2783">AidSelector(AidSelectorBuilder builder)</text><ellipse cx="693" cy="1364.6953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="132" x="702" y="1369.1143">AidSelectorBuilder builder()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="705" y="1382.9502"/><ellipse cx="693" cy="1392.3672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="702" y="1396.7861">byte[] getAidToSelect()</text><ellipse cx="693" cy="1406.2031" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="702" y="1410.6221">boolean isSelectNext()</text><ellipse cx="693" cy="1420.0391" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="248" x="702" y="1424.458">Set&lt;Integer&gt; getSuccessfulSelectionStatusCodes()</text><!--MD5=[fee81bc52a51049c477ecaaae1e1e62b]
class AidSelectorBuilder--><rect fill="#FEFECE" height="186.3594" id="AidSelectorBuilder" style="stroke: #D4AC0D; stroke-width: 1.5;" width="434" x="564" y="1509"/><ellipse cx="720.75" cy="1525" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M722.75,1521.5 Q722.9531,1521 723.1875,1520.75 Q723.4219,1520.5 723.6875,1520.5 Q724.1563,1520.5 724.4531,1520.7813 Q724.75,1521.0625 724.75,1521.7188 L724.75,1523.2813 Q724.75,1523.9375 724.4688,1524.2188 Q724.1875,1524.5 723.75,1524.5 Q723.3594,1524.5 723.1094,1524.3281 Q722.8594,1524.1563 722.75,1523.7031 Q722.7031,1523.3906 722.5313,1523.2188 Q722.2188,1522.8906 721.6563,1522.7031 Q721.0938,1522.5 720.5313,1522.5 Q719.8281,1522.5 719.2344,1522.7813 Q718.6563,1523.0625 718.2031,1523.6875 Q717.75,1524.3125 717.75,1525.1719 L717.75,1526.0938 Q717.75,1527.125 718.5938,1527.8125 Q719.4375,1528.5 720.9375,1528.5 Q721.8281,1528.5 722.4531,1528.2969 Q722.8125,1528.1875 723.2188,1527.8281 Q723.4844,1527.625 723.625,1527.5625 Q723.7656,1527.5 723.9375,1527.5 Q724.2656,1527.5 724.5,1527.7656 Q724.75,1528.0156 724.75,1528.375 Q724.75,1528.7188 724.4063,1529.125 Q723.9063,1529.7188 723.1094,1530.0469 Q722.0625,1530.5 720.7813,1530.5 Q719.2813,1530.5 718.0781,1529.9063 Q717.1094,1529.4375 716.4219,1528.4219 Q715.75,1527.4063 715.75,1526.2031 L715.75,1525.1094 Q715.75,1523.8594 716.3438,1522.7656 Q716.9531,1521.6719 718,1521.0938 Q719.0625,1520.5 720.25,1520.5 Q720.9688,1520.5 721.5938,1520.75 Q722.2188,1521 722.75,1521.5 Z "/><ellipse cx="746.25" cy="1524.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="752.25" y="1529.9102">AidSelectorBuilder</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="565" x2="997" y1="1541" y2="1541"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="572" y="1549"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="584" y="1556.4189">byte[5..16] aidToSelect;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="572" y="1562.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="584" y="1570.2549">FileOccurrence[0..1] fileOccurrence = FIRST</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="572" y="1576.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="258" x="584" y="1584.0908">FileControlInformation[0..1] fileControlInformation = FCI</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="565" x2="997" y1="1590.5078" y2="1590.5078"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="572" y="1598.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="584" y="1605.9268">AidSelectorBuilder()</text><ellipse cx="575" cy="1615.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="584" y="1619.7627">SeSelector.AidSelector build()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="587" y="1633.5986"/><ellipse cx="575" cy="1643.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="584" y="1647.4346">AidSelectorBuilder aidToSelect(byte[] aid)</text><ellipse cx="575" cy="1656.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="201" x="584" y="1661.2705">AidSelectorBuilder aidToSelect(String aid)</text><ellipse cx="575" cy="1670.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="321" x="584" y="1675.1064">AidSelectorBuilder fileOccurrence(FileOccurrence fileOccurrence)</text><ellipse cx="575" cy="1684.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="408" x="584" y="1688.9424">AidSelectorBuilder fileControlInformation(FileControlInformation fileControlInformation)</text><!--MD5=[4e644cdced7f48592705e83a6b5d3ae8]
reverse link CardResource_T to AbstractSmartCard--><path d="M470.028,670.5 C477.502,670.5 484.975,670.5 492.449,670.5 " fill="none" id="CardResource_T&lt;-AbstractSmartCard" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="457.019,670.5,463.019,674.5,469.019,670.5,463.019,666.5,457.019,670.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="464.8426" y="667.6281">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="477.6481" y="667.6158">1</text><!--MD5=[586a947aa83e501d21655c58d71b7d83]
reverse link CardSelection to AbstractCardSelectionRequest--><path d="M911.588,545.61 C933.384,563.21 955.658,581.2 976.235,597.82 " fill="none" id="CardSelection&lt;-AbstractCardSelectionRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="901.277,537.28,903.4322,544.1615,910.6132,544.8189,908.4581,537.9374,901.277,537.28" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="903.1045" y="558.8456">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="961.8233" y="587.0208">*</text><!--MD5=[758c039bce5742a16ce4e45044533298]
link SelectionsResult to CardSelection--><path d="M557.736,444 C565.013,444 572.289,444 579.566,444 " fill="none" id="SelectionsResult-&gt;CardSelection" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="592.663,444,586.663,440,580.663,444,586.663,448,592.663,444" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="565.7827" y="441.1575">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="577.935" y="441.1825">1</text><!--MD5=[665c5a53b076da9152bdb805be561646]
reverse link SelectionsResult to AbstractSmartCard--><path d="M499.869,545.59 C524.311,565.76 549.368,586.44 571.837,604.99 " fill="none" id="SelectionsResult&lt;-AbstractSmartCard" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="489.81,537.28,491.8918,544.1841,499.0655,544.9178,496.9837,538.0137,489.81,537.28" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="491.441" y="558.8456">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="557.5103" y="594.0049">*</text><!--MD5=[beb126866b5fc0f2a3bf1d088867a513]
link AbstractSmartCard to AbstractCardSelectionRequest--><path d="M807.781,670.5 C837.575,670.5 868.821,670.5 898.862,670.5 " fill="none" id="AbstractSmartCard-AbstractCardSelectionRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="832.75,657.1758,826.75,660.1758,832.75,663.1758,832.75,657.1758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="838.75" y="663.9951">selects</text><!--MD5=[31b11aed7b6d88b43735b7f54d1facfd]
reverse link AidSelector to FileOccurrence--><path d="M668.705,1431.905 C628.434,1455.67 585.428,1482.367 547,1509 C528.71,1521.676 509.604,1536.435 492.378,1550.372 " fill="none" id="AidSelector&lt;-FileOccurrence" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="674.7748" cy="1428.3442" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="667.8747" x2="681.675" y1="1432.3924" y2="1424.296"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="670.7266" x2="678.823" y1="1421.444" y2="1435.2444"/><!--MD5=[18a6dd80f65088794a6f07d590dbbf0a]
reverse link AidSelector to FileControlInformation--><path d="M938.859,1440.489 C987.094,1477.509 1040.87,1518.78 1081.81,1550.202 " fill="none" id="AidSelector&lt;-FileControlInformation" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="933.0731" cy="1436.049" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="939.4192" x2="926.727" y1="1440.92" y2="1431.178"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="928.2021" x2="937.9441" y1="1442.3951" y2="1429.7029"/><!--MD5=[88e7d67e8d3c9d0745e36b335e282fe1]
reverse link AidSelector to AidSelectorBuilder--><path d="M794.582,1446.182 C793.639,1451.179 792.769,1456.139 792,1461 C789.561,1476.412 787.653,1492.867 786.165,1508.882 " fill="none" id="AidSelector&lt;-AidSelectorBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="796.029" cy="1438.9878" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="794.451" x2="797.607" y1="1446.8306" y2="1431.145"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="788.1862" x2="803.8718" y1="1437.4098" y2="1440.5658"/><polygon fill="#000000" points="802,1472,805,1466,808,1472,802,1472" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="793" y="1488.4951">build</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="15" x="770.9716" y="1498.003">1+</text><!--MD5=[506435df0aa778cf9ad7bff313caf67d]
link FileOccurrence to AidSelectorBuilder--><path d="M496.02,1602 C512.409,1602 531.052,1602 550.774,1602 " fill="none" id="FileOccurrence-&gt;AidSelectorBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="563.878,1602,557.878,1598,551.878,1602,557.878,1606,563.878,1602" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="514.5" y="1595.4951">set</text><polygon fill="#000000" points="535.5,1588.6758,541.5,1591.6758,535.5,1594.6758,535.5,1588.6758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="504.1159" y="1616.3705">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="548.9494" y="1599.2075">1</text><!--MD5=[a3984c5dd77c295b5e467e0fa36669ee]
reverse link AidSelectorBuilder to FileControlInformation--><path d="M1011.42,1602 C1030.38,1602 1048.62,1602 1065.26,1602 " fill="none" id="AidSelectorBuilder&lt;-FileControlInformation" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="998.198,1602,1004.198,1606,1010.198,1602,1004.198,1598,998.198,1602" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="1023.25,1588.6758,1017.25,1591.6758,1023.25,1594.6758,1023.25,1588.6758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="1029.25" y="1595.4951">set</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1006.1293" y="1599.2075">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="1035.4972" y="1616.1579">0..1</text><!--MD5=[3e847ccac6a9841965f3c48ba05566b5]
reverse link CardSelectorBuilder to AidSelector--><path d="M819,1199.314 C819,1220.112 819,1242.663 819,1263.718 " fill="none" id="CardSelectorBuilder&lt;-AidSelector" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="819,1186.277,815,1192.277,819,1198.277,823,1192.277,819,1186.277" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="824.5,1227,827.5,1221,830.5,1227,824.5,1227" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="820" y="1243.4951">set</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="796.0203" y="1253.06">0..1</text><!--MD5=[22e0a1f977e6b14a4318532d22611f8e]
link AtrFilter to CardSelectorBuilder--><path d="M811.421,946.692 C812.67,975.176 814.215,1010.404 815.584,1041.608 " fill="none" id="AtrFilter-&gt;CardSelectorBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="816.158,1054.703,819.8911,1048.5334,815.6318,1042.7145,811.8988,1048.8842,816.158,1054.703" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="815" y="1021.4951">set</text><polygon fill="#000000" points="819.5,1030.3516,822.5,1036.3516,825.5,1030.3516,819.5,1030.3516" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="788.4291" y="967.6567">0..1</text><!--MD5=[1dfcb89d2c962d176fd99d4de5212cc5]
reverse link CardSelector to AidSelector--><path d="M1055.05,992.285 C1057.05,1051.914 1051.37,1127.056 1020,1186 C1004.211,1215.663 980.337,1241.755 954.495,1263.813 " fill="none" id="CardSelector&lt;-AidSelector" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="1054.7204" cy="985.0789" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1055.0807" x2="1054.36" y1="993.0708" y2="977.087"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1046.7285" x2="1062.7122" y1="985.4392" y2="984.7185"/><!--MD5=[38bb0d3cbc0cb1ee2d0afa90d334fcf9]
link AtrFilter to CardSelector--><path d="M895.289,890.5 C901.77,890.5 908.25,890.5 914.731,890.5 " fill="none" id="AtrFilter-&gt;CardSelector" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="921.853" cy="890.5" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="913.853" x2="929.853" y1="890.5" y2="890.5"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="921.853" x2="921.853" y1="882.5" y2="898.5"/><!--MD5=[58002d5c440144b8906b4e6a92d74e32]
reverse link CardSelector to CardSelectorBuilder--><path d="M948.741,988.029 C926.482,1010.585 903.3,1034.076 882.794,1054.855 " fill="none" id="CardSelector&lt;-CardSelectorBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="953.9586" cy="982.7411" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="948.3392" x2="959.578" y1="988.4351" y2="977.047"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="948.2645" x2="959.6527" y1="977.1217" y2="988.3605"/><polygon fill="#000000" points="934,1018,937,1012,940,1018,934,1018" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="925" y="1034.4951">build</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="15" x="873.9512" y="1044.3136">1+</text><!--MD5=[a3860f67efd6ce8b13ac43b9a2d19d44]
link CardSelection to MultiSelectionProcessing--><path d="M981.055,444 C1004.606,444 1027.74,444 1048.74,444 " fill="none" id="CardSelection-MultiSelectionProcessing" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="999.5" y="437.4951">set</text><polygon fill="#000000" points="1020.5,430.6758,1026.5,433.6758,1020.5,436.6758,1020.5,430.6758" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[a731461853316cfc157bfa5c235d36fd]
reverse link AbstractCardSelectionRequest to CardSelector--><path d="M1056.8,756.583 C1055.31,772.068 1053.76,788.23 1052.26,803.734 " fill="none" id="AbstractCardSelectionRequest&lt;-CardSelector" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1058.09,743.18,1053.533,748.7687,1056.939,755.1247,1061.4961,749.536,1058.09,743.18" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1050.0978" y="764.3888">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1045.6691" y="793.1207">1</text><!--MD5=[74227a0bfeedba390a92a8a11f0d8906]
link Reader to CardSelection--><path d="M488.412,249.17 C536.676,280.5 593.881,317.64 645.241,350.98 " fill="none" id="Reader-CardSelection" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="559" y="295.4951">sends</text><polygon fill="#000000" points="597,288.6758,603,291.6758,597,294.6758,597,288.6758" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[61f2405c5909efc33a6a9019a7d544e6]
link AbstractDefaultSelectionsRequest to CardSelection--><path d="M965.949,200.6 C941.361,233.9 894.553,297.31 854.975,350.92 " fill="none" id="AbstractDefaultSelectionsRequest-CardSelection" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="920,292,923,286,926,292,920,292" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="903" y="308.4951">exports</text><!--MD5=[b42ad51c7a6d4ef47440143516884214]
link AbstractDefaultSelectionsResponse to CardSelection--><path d="M719.438,200.6 C728.721,233.9 746.393,297.31 761.336,350.92 " fill="none" id="AbstractDefaultSelectionsResponse-CardSelection" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="763,292,766,286,769,292,763,292" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="746" y="308.4951">imports</text><!--MD5=[d8ed6aa3364f88a46fa289933c6a0140]
link Reader to SelectionsResult--><path d="M378,249.35 C378,280.52 378,317.42 378,350.6 " fill="none" id="Reader-SelectionsResult" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="379" y="295.4951">receives</text><polygon fill="#000000" points="398,304.3516,401,310.3516,404,304.3516,398,304.3516" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[2bb33b8712676f50273b429e70957076]
link Reader to CardResource_T--><path d="M197.906,221.74 C155.847,240.9 116.061,268.2 91,307 C35.5398,392.87 41.8306,447.38 91,537 C110.012,571.65 142.359,598.54 175.953,618.76 " fill="none" id="Reader-&gt;CardResource_T" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="187.375,625.37,184.1822,618.9042,176.9858,619.3646,180.1786,625.8303,187.375,625.37" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="125,446,128,440,131,446,125,446" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="92" y="462.4951">connected to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="167.8442" y="220.8167">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="162.7465" y="614.7942">1</text><!--MD5=[1e1fafef951f63844e8ab0c783b8b1a0]
@startuml
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam shadowing false

skinparam StateBorderColor #D4AC0D
skinparam ActivityBorderColor #D4AC0D

skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #EAFAF1
skinparam ClassBorderColor<<green>> #2ECC71
hide <<green>> stereotype

skinparam ClassBackgroundColor<<orange>> #FDF2E9
skinparam ClassBorderColor<<orange>> #E67E22
hide <<orange>> stereotype

skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

package org.eclipse.keyple.core #FFFFFF {
  package "service" as reader_even #FFFFFF {
+interface Reader {
  +String getName()

  +boolean isCardPresent()
  +boolean isContactlessTransmission()

  +activateProtocol(String applicationReference, String pluginReference)
  +deactivateProtocol(String applicationReference)
}

    package event #FFFFFF {
+abstract AbstractDefaultSelectionsRequest {
}

+abstract AbstractDefaultSelectionsResponse {
}
    }
  }

  package card.selection #FFFFFF {
+class "<b>final</b> CardSelection" as CardSelection {
  +CardSelection(MultiSelectionProcessing multiMode = FIRST_MATCH)

  +int prepareSelection(AbstractCardSelectionRequest cardSelectionRequest)
  +<b>final</b> prepareReleaseCardChannel()

  +SelectionsResult processExplicitSelection(Reader reader)

  +AbstractDefaultSelectionsRequest getSelectionOperation()
  +SelectionsResult processDefaultSelection(
    AbstractDefaultSelectionsResponse selectionResponse)
}
+enum MultiSelectionProcessing {
	FIRST_MATCH
	PROCESS_ALL
}
+abstract AbstractCardSelectionRequest {
  +AbstractCardSelectionRequest(CardSelector selector)

  #<b>final</b> addApduRequest(ApduRequest apduRequest)
  ~<b>final</b> CardRequest getSelectionRequest()
  {abstract} #AbstractSmartCard parse(CardResponse selectionResponse)

  +CardSelector getCardSelector()
}

+abstract AbstractSmartCard {
  #AbstractSmartCard(SelectionResponse selectionResponse)

  +boolean hasAtr()
  +byte[] getAtrBytes()
  +boolean hasFci()
  +byte[] getFciBytes()
}
+class "<b>final</b> SelectionsResult" as SelectionsResult {
  ~SelectionsResult()
  ~addMatchingCard(int selectionIndex, AbstractSmartCard matchingSe)

  +boolean hasActiveSelection()
  +AbstractSmartCard getActiveSmartCard()

  +int getActiveSelectionIndex()
  +boolean hasSelectionMatched(int selectionIndex)
  +AbstractSmartCard getMatchingCard(int selectionIndex)
  +Map<Integer, AbstractSmartCard> getMatchingSelections()
}
+class "<b>final</b> CardResource<T extends AbstractSmartCard>" as CardResource_T {
  #CardResource(Reader reader, T card)
  +Reader getReader()
  +T getSmartCard()
}

    CardResource_T "1" *-right- "1" AbstractSmartCard

    CardSelection "1" o-down- "*" AbstractCardSelectionRequest
    CardSelection "1" o-left- "0..1" SelectionsResult

    SelectionsResult "1" o-down- "*" AbstractSmartCard
    AbstractSmartCard -right- AbstractCardSelectionRequest : selects <


+class CardSelector {
  -String[0..1] cardProtocol
  -AtrFilter[0..1] atrFilter
  -AidSelector[0..1] aidSelector
  #CardSelector(CardSelectorBuilder builder)
  +{static}CardSelectorBuilder builder()

  +String getCardProtocol()
  +AtrFilter getAtrFilter()
  +AidSelector getAidSelector()
}
+class CardSelectorBuilder {
  #CardSelectorBuilder()
  +CardSelector build()

  +CardSelectorBuilder cardProtocol(String seProtocol)
  +CardSelectorBuilder atrFilter(CardSelector.AtrFilter atrFilter)
  +CardSelectorBuilder aidSelector(CardSelector.AidSelector aidSelector)
}


+enum FileOccurrence {
  FIRST
  LAST
  NEXT
  PREVIOUS
}

+enum FileControlInformation {
  FCI
  FCP
  FMD
  NO_RESPONSE
}
+class "<b>final</b> AtrFilter" as AtrFilter <<static>> {
  +AtrFilter(String atrRegex)

  +String getAtrRegex()
  +boolean atrMatches(byte[] atr)
}
+class "<b>final</b> AidSelector" as AidSelector <<static>> {
  +{static} final int AID_MIN_LENGTH = 5
  +{static} final int AID_MAX_LENGTH = 16

  -AidSelector(AidSelectorBuilder builder)
  +{static}AidSelectorBuilder builder()

  +byte[] getAidToSelect()
  +boolean isSelectNext()
  +Set<Integer> getSuccessfulSelectionStatusCodes()
}

+class AidSelectorBuilder {
  -byte[5..16] aidToSelect;
  -FileOccurrence[0..1] fileOccurrence = FIRST
  -FileControlInformation[0..1] fileControlInformation = FCI
  -AidSelectorBuilder()
  +SeSelector.AidSelector build()

  +AidSelectorBuilder aidToSelect(byte[] aid)
  +AidSelectorBuilder aidToSelect(String aid)
  +AidSelectorBuilder fileOccurrence(FileOccurrence fileOccurrence)
  +AidSelectorBuilder fileControlInformation(FileControlInformation fileControlInformation)
}
    AidSelector +-down- FileOccurrence
    AidSelector +-down- FileControlInformation
    AidSelector +- - "1+" AidSelectorBuilder : build <
    AidSelectorBuilder "1" *-left- "0..1" FileOccurrence : set <
    AidSelectorBuilder "1" *-right- "0..1" FileControlInformation : set <

    CardSelectorBuilder o-down- "0..1" AidSelector : set <
    CardSelectorBuilder o-up- "0..1" AtrFilter : set <

    CardSelector +- - AidSelector
    CardSelector +-left- AtrFilter
    CardSelector +- - "1+" CardSelectorBuilder : build <

    MultiSelectionProcessing -left- CardSelection : set <

    AbstractCardSelectionRequest "1" o-down- "1" CardSelector
  }

  CardSelection -up- Reader : sends <
  CardSelection -up- AbstractDefaultSelectionsRequest : exports >
  CardSelection -up- AbstractDefaultSelectionsResponse : imports >

  SelectionsResult -up- Reader : receives <
  Reader "0..1" - -* "1" CardResource_T : connected to <
}
@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>